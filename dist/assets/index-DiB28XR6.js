function iF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Am(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var jM={exports:{}},Lm={},NM={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),oF=Symbol.for("react.portal"),aF=Symbol.for("react.fragment"),lF=Symbol.for("react.strict_mode"),cF=Symbol.for("react.profiler"),uF=Symbol.for("react.provider"),dF=Symbol.for("react.context"),fF=Symbol.for("react.forward_ref"),hF=Symbol.for("react.suspense"),pF=Symbol.for("react.memo"),mF=Symbol.for("react.lazy"),RS=Symbol.iterator;function gF(e){return e===null||typeof e!="object"?null:(e=RS&&e[RS]||e["@@iterator"],typeof e=="function"?e:null)}var SM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kM=Object.assign,CM={};function gc(e,t,n){this.props=e,this.context=t,this.refs=CM,this.updater=n||SM}gc.prototype.isReactComponent={};gc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PM(){}PM.prototype=gc.prototype;function d1(e,t,n){this.props=e,this.context=t,this.refs=CM,this.updater=n||SM}var f1=d1.prototype=new PM;f1.constructor=d1;kM(f1,gc.prototype);f1.isPureReactComponent=!0;var OS=Array.isArray,TM=Object.prototype.hasOwnProperty,h1={current:null},EM={key:!0,ref:!0,__self:!0,__source:!0};function MM(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)TM.call(t,r)&&!EM.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Gd,type:e,key:i,ref:o,props:s,_owner:h1.current}}function yF(e,t){return{$$typeof:Gd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function p1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gd}function xF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $S=/\/+/g;function z0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xF(""+e.key):t.toString(36)}function Rh(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gd:case oF:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+z0(o,0):r,OS(s)?(n="",e!=null&&(n=e.replace($S,"$&/")+"/"),Rh(s,t,n,"",function(d){return d})):s!=null&&(p1(s)&&(s=yF(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($S,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",OS(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+z0(i,l);o+=Rh(i,t,n,u,s)}else if(u=gF(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+z0(i,l++),o+=Rh(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Of(e,t,n){if(e==null)return e;var r=[],s=0;return Rh(e,r,"","",function(i){return t.call(n,i,s++)}),r}function vF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hn={current:null},Oh={transition:null},bF={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Oh,ReactCurrentOwner:h1};function DM(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:Of,forEach:function(e,t,n){Of(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Of(e,function(){t++}),t},toArray:function(e){return Of(e,function(t){return t})||[]},only:function(e){if(!p1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=gc;st.Fragment=aF;st.Profiler=cF;st.PureComponent=d1;st.StrictMode=lF;st.Suspense=hF;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bF;st.act=DM;st.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kM({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=h1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)TM.call(t,u)&&!EM.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Gd,type:e.type,key:s,ref:i,props:r,_owner:o}};st.createContext=function(e){return e={$$typeof:dF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uF,_context:e},e.Consumer=e};st.createElement=MM;st.createFactory=function(e){var t=MM.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:fF,render:e}};st.isValidElement=p1;st.lazy=function(e){return{$$typeof:mF,_payload:{_status:-1,_result:e},_init:vF}};st.memo=function(e,t){return{$$typeof:pF,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=Oh.transition;Oh.transition={};try{e()}finally{Oh.transition=t}};st.unstable_act=DM;st.useCallback=function(e,t){return Hn.current.useCallback(e,t)};st.useContext=function(e){return Hn.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return Hn.current.useDeferredValue(e)};st.useEffect=function(e,t){return Hn.current.useEffect(e,t)};st.useId=function(){return Hn.current.useId()};st.useImperativeHandle=function(e,t,n){return Hn.current.useImperativeHandle(e,t,n)};st.useInsertionEffect=function(e,t){return Hn.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return Hn.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return Hn.current.useMemo(e,t)};st.useReducer=function(e,t,n){return Hn.current.useReducer(e,t,n)};st.useRef=function(e){return Hn.current.useRef(e)};st.useState=function(e){return Hn.current.useState(e)};st.useSyncExternalStore=function(e,t,n){return Hn.current.useSyncExternalStore(e,t,n)};st.useTransition=function(){return Hn.current.useTransition()};st.version="18.3.1";NM.exports=st;var g=NM.exports;const nt=gn(g),qd=iF({__proto__:null,default:nt},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wF=g,_F=Symbol.for("react.element"),jF=Symbol.for("react.fragment"),NF=Object.prototype.hasOwnProperty,SF=wF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kF={key:!0,ref:!0,__self:!0,__source:!0};function AM(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)NF.call(t,r)&&!kF.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:_F,type:e,key:i,ref:o,props:s,_owner:SF.current}}Lm.Fragment=jF;Lm.jsx=AM;Lm.jsxs=AM;jM.exports=Lm;var a=jM.exports,hv={},LM={exports:{}},vr={},IM={exports:{}},RM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,V){var q=z.length;z.push(V);e:for(;0<q;){var Z=q-1>>>1,X=z[Z];if(0<s(X,V))z[Z]=V,z[q]=X,q=Z;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var V=z[0],q=z.pop();if(q!==V){z[0]=q;e:for(var Z=0,X=z.length,G=X>>>1;Z<G;){var ae=2*(Z+1)-1,fe=z[ae],ge=ae+1,be=z[ge];if(0>s(fe,q))ge<X&&0>s(be,fe)?(z[Z]=be,z[ge]=q,Z=ge):(z[Z]=fe,z[ae]=q,Z=ae);else if(ge<X&&0>s(be,q))z[Z]=be,z[ge]=q,Z=ge;else break e}}return V}function s(z,V){var q=z.sortIndex-V.sortIndex;return q!==0?q:z.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,h=null,p=3,y=!1,w=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(z){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=z)r(d),V.sortIndex=V.expirationTime,t(u,V);else break;V=n(d)}}function S(z){if(b=!1,j(z),!w)if(n(u)!==null)w=!0,te(P);else{var V=n(d);V!==null&&W(S,V.startTime-z)}}function P(z,V){w=!1,b&&(b=!1,v(T),T=-1),y=!0;var q=p;try{for(j(V),h=n(u);h!==null&&(!(h.expirationTime>V)||z&&!F());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var X=Z(h.expirationTime<=V);V=e.unstable_now(),typeof X=="function"?h.callback=X:h===n(u)&&r(u),j(V)}else r(u);h=n(u)}if(h!==null)var G=!0;else{var ae=n(d);ae!==null&&W(S,ae.startTime-V),G=!1}return G}finally{h=null,p=q,y=!1}}var E=!1,C=null,T=-1,D=5,R=-1;function F(){return!(e.unstable_now()-R<D)}function A(){if(C!==null){var z=e.unstable_now();R=z;var V=!0;try{V=C(!0,z)}finally{V?O():(E=!1,C=null)}}else E=!1}var O;if(typeof _=="function")O=function(){_(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=A,O=function(){K.postMessage(null)}}else O=function(){N(A,0)};function te(z){C=z,E||(E=!0,O())}function W(z,V){T=N(function(){z(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,te(P))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var q=p;p=V;try{return z()}finally{p=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=p;p=z;try{return V()}finally{p=q}},e.unstable_scheduleCallback=function(z,V,q){var Z=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,z={id:f++,callback:V,priorityLevel:z,startTime:q,expirationTime:X,sortIndex:-1},q>Z?(z.sortIndex=q,t(d,z),n(u)===null&&z===n(d)&&(b?(v(T),T=-1):b=!0,W(S,q-Z))):(z.sortIndex=X,t(u,z),w||y||(w=!0,te(P))),z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(z){var V=p;return function(){var q=p;p=V;try{return z.apply(this,arguments)}finally{p=q}}}})(RM);IM.exports=RM;var CF=IM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PF=g,xr=CF;function we(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OM=new Set,Qu={};function Ca(e,t){Hl(e,t),Hl(e+"Capture",t)}function Hl(e,t){for(Qu[e]=t,e=0;e<t.length;e++)OM.add(t[e])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pv=Object.prototype.hasOwnProperty,TF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FS={},zS={};function EF(e){return pv.call(zS,e)?!0:pv.call(FS,e)?!1:TF.test(e)?zS[e]=!0:(FS[e]=!0,!1)}function MF(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DF(e,t,n,r){if(t===null||typeof t>"u"||MF(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sn[e]=new Gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sn[t]=new Gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sn[e]=new Gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sn[e]=new Gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sn[e]=new Gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sn[e]=new Gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sn[e]=new Gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sn[e]=new Gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sn[e]=new Gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var m1=/[\-:]([a-z])/g;function g1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m1,g1);Sn[t]=new Gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m1,g1);Sn[t]=new Gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m1,g1);Sn[t]=new Gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!1,!1)});Sn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function y1(e,t,n,r){var s=Sn.hasOwnProperty(t)?Sn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DF(t,n,s,r)&&(n=null),r||s===null?EF(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mi=PF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$f=Symbol.for("react.element"),ol=Symbol.for("react.portal"),al=Symbol.for("react.fragment"),x1=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),$M=Symbol.for("react.provider"),FM=Symbol.for("react.context"),v1=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),yv=Symbol.for("react.suspense_list"),b1=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),zM=Symbol.for("react.offscreen"),BS=Symbol.iterator;function tu(e){return e===null||typeof e!="object"?null:(e=BS&&e[BS]||e["@@iterator"],typeof e=="function"?e:null)}var $t=Object.assign,B0;function Nu(e){if(B0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B0=t&&t[1]||""}return`
`+B0+e}var V0=!1;function U0(e,t){if(!e||V0)return"";V0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{V0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nu(e):""}function AF(e){switch(e.tag){case 5:return Nu(e.type);case 16:return Nu("Lazy");case 13:return Nu("Suspense");case 19:return Nu("SuspenseList");case 0:case 2:case 15:return e=U0(e.type,!1),e;case 11:return e=U0(e.type.render,!1),e;case 1:return e=U0(e.type,!0),e;default:return""}}function xv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case al:return"Fragment";case ol:return"Portal";case mv:return"Profiler";case x1:return"StrictMode";case gv:return"Suspense";case yv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FM:return(e.displayName||"Context")+".Consumer";case $M:return(e._context.displayName||"Context")+".Provider";case v1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b1:return t=e.displayName||null,t!==null?t:xv(e.type)||"Memo";case Ui:t=e._payload,e=e._init;try{return xv(e(t))}catch{}}return null}function LF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xv(t);case 8:return t===x1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function BM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IF(e){var t=BM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ff(e){e._valueTracker||(e._valueTracker=IF(e))}function VM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=BM(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function up(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vv(e,t){var n=t.checked;return $t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function VS(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UM(e,t){t=t.checked,t!=null&&y1(e,"checked",t,!1)}function bv(e,t){UM(e,t);var n=mo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wv(e,t.type,n):t.hasOwnProperty("defaultValue")&&wv(e,t.type,mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function US(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wv(e,t,n){(t!=="number"||up(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Su=Array.isArray;function Pl(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _v(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return $t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(we(92));if(Su(n)){if(1<n.length)throw Error(we(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mo(n)}}function WM(e,t){var n=mo(t.value),r=mo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function HS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function HM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?HM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zf,GM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zf=zf||document.createElement("div"),zf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ed(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RF=["Webkit","ms","Moz","O"];Object.keys(Mu).forEach(function(e){RF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mu[t]=Mu[e]})});function qM(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mu.hasOwnProperty(e)&&Mu[e]?(""+t).trim():t+"px"}function YM(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qM(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var OF=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nv(e,t){if(t){if(OF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function Sv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kv=null;function w1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cv=null,Tl=null,El=null;function GS(e){if(e=Kd(e)){if(typeof Cv!="function")throw Error(we(280));var t=e.stateNode;t&&(t=Fm(t),Cv(e.stateNode,e.type,t))}}function ZM(e){Tl?El?El.push(e):El=[e]:Tl=e}function KM(){if(Tl){var e=Tl,t=El;if(El=Tl=null,GS(e),t)for(e=0;e<t.length;e++)GS(t[e])}}function XM(e,t){return e(t)}function JM(){}var W0=!1;function QM(e,t,n){if(W0)return e(t,n);W0=!0;try{return XM(e,t,n)}finally{W0=!1,(Tl!==null||El!==null)&&(JM(),KM())}}function td(e,t){var n=e.stateNode;if(n===null)return null;var r=Fm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(we(231,t,typeof n));return n}var Pv=!1;if(xi)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){Pv=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{Pv=!1}function $F(e,t,n,r,s,i,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Du=!1,dp=null,fp=!1,Tv=null,FF={onError:function(e){Du=!0,dp=e}};function zF(e,t,n,r,s,i,o,l,u){Du=!1,dp=null,$F.apply(FF,arguments)}function BF(e,t,n,r,s,i,o,l,u){if(zF.apply(this,arguments),Du){if(Du){var d=dp;Du=!1,dp=null}else throw Error(we(198));fp||(fp=!0,Tv=d)}}function Pa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qS(e){if(Pa(e)!==e)throw Error(we(188))}function VF(e){var t=e.alternate;if(!t){if(t=Pa(e),t===null)throw Error(we(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qS(s),e;if(i===r)return qS(s),t;i=i.sibling}throw Error(we(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(we(189))}}if(n.alternate!==r)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?e:t}function tD(e){return e=VF(e),e!==null?nD(e):null}function nD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nD(e);if(t!==null)return t;e=e.sibling}return null}var rD=xr.unstable_scheduleCallback,YS=xr.unstable_cancelCallback,UF=xr.unstable_shouldYield,WF=xr.unstable_requestPaint,Gt=xr.unstable_now,HF=xr.unstable_getCurrentPriorityLevel,_1=xr.unstable_ImmediatePriority,sD=xr.unstable_UserBlockingPriority,hp=xr.unstable_NormalPriority,GF=xr.unstable_LowPriority,iD=xr.unstable_IdlePriority,Im=null,Ms=null;function qF(e){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(Im,e,void 0,(e.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:KF,YF=Math.log,ZF=Math.LN2;function KF(e){return e>>>=0,e===0?32:31-(YF(e)/ZF|0)|0}var Bf=64,Vf=4194304;function ku(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ku(l):(i&=o,i!==0&&(r=ku(i)))}else o=n&~s,o!==0?r=ku(o):i!==0&&(r=ku(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-is(t),s=1<<n,r|=e[n],t&=~s;return r}function XF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JF(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-is(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=XF(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Ev(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oD(){var e=Bf;return Bf<<=1,!(Bf&4194240)&&(Bf=64),e}function H0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-is(t),e[t]=n}function QF(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-is(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function j1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-is(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var pt=0;function aD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lD,N1,cD,uD,dD,Mv=!1,Uf=[],eo=null,to=null,no=null,nd=new Map,rd=new Map,Hi=[],e8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZS(e,t){switch(e){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":nd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(t.pointerId)}}function ru(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Kd(t),t!==null&&N1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function t8(e,t,n,r,s){switch(t){case"focusin":return eo=ru(eo,e,t,n,r,s),!0;case"dragenter":return to=ru(to,e,t,n,r,s),!0;case"mouseover":return no=ru(no,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return nd.set(i,ru(nd.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,rd.set(i,ru(rd.get(i)||null,e,t,n,r,s)),!0}return!1}function fD(e){var t=Go(e.target);if(t!==null){var n=Pa(t);if(n!==null){if(t=n.tag,t===13){if(t=eD(n),t!==null){e.blockedOn=t,dD(e.priority,function(){cD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $h(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kv=r,n.target.dispatchEvent(r),kv=null}else return t=Kd(n),t!==null&&N1(t),e.blockedOn=n,!1;t.shift()}return!0}function KS(e,t,n){$h(e)&&n.delete(t)}function n8(){Mv=!1,eo!==null&&$h(eo)&&(eo=null),to!==null&&$h(to)&&(to=null),no!==null&&$h(no)&&(no=null),nd.forEach(KS),rd.forEach(KS)}function su(e,t){e.blockedOn===t&&(e.blockedOn=null,Mv||(Mv=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,n8)))}function sd(e){function t(s){return su(s,e)}if(0<Uf.length){su(Uf[0],e);for(var n=1;n<Uf.length;n++){var r=Uf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(eo!==null&&su(eo,e),to!==null&&su(to,e),no!==null&&su(no,e),nd.forEach(t),rd.forEach(t),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)fD(n),n.blockedOn===null&&Hi.shift()}var Ml=Mi.ReactCurrentBatchConfig,mp=!0;function r8(e,t,n,r){var s=pt,i=Ml.transition;Ml.transition=null;try{pt=1,S1(e,t,n,r)}finally{pt=s,Ml.transition=i}}function s8(e,t,n,r){var s=pt,i=Ml.transition;Ml.transition=null;try{pt=4,S1(e,t,n,r)}finally{pt=s,Ml.transition=i}}function S1(e,t,n,r){if(mp){var s=Dv(e,t,n,r);if(s===null)ty(e,t,r,gp,n),ZS(e,r);else if(t8(s,e,t,n,r))r.stopPropagation();else if(ZS(e,r),t&4&&-1<e8.indexOf(e)){for(;s!==null;){var i=Kd(s);if(i!==null&&lD(i),i=Dv(e,t,n,r),i===null&&ty(e,t,r,gp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ty(e,t,r,null,n)}}var gp=null;function Dv(e,t,n,r){if(gp=null,e=w1(r),e=Go(e),e!==null)if(t=Pa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gp=e,null}function hD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HF()){case _1:return 1;case sD:return 4;case hp:case GF:return 16;case iD:return 536870912;default:return 16}default:return 16}}var Zi=null,k1=null,Fh=null;function pD(){if(Fh)return Fh;var e,t=k1,n=t.length,r,s="value"in Zi?Zi.value:Zi.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Fh=s.slice(e,1<r?1-r:void 0)}function zh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wf(){return!0}function XS(){return!1}function br(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wf:XS,this.isPropagationStopped=XS,this}return $t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),t}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C1=br(yc),Zd=$t({},yc,{view:0,detail:0}),i8=br(Zd),G0,q0,iu,Rm=$t({},Zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==iu&&(iu&&e.type==="mousemove"?(G0=e.screenX-iu.screenX,q0=e.screenY-iu.screenY):q0=G0=0,iu=e),G0)},movementY:function(e){return"movementY"in e?e.movementY:q0}}),JS=br(Rm),o8=$t({},Rm,{dataTransfer:0}),a8=br(o8),l8=$t({},Zd,{relatedTarget:0}),Y0=br(l8),c8=$t({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),u8=br(c8),d8=$t({},yc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f8=br(d8),h8=$t({},yc,{data:0}),QS=br(h8),p8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g8[e])?!!t[e]:!1}function P1(){return y8}var x8=$t({},Zd,{key:function(e){if(e.key){var t=p8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P1,charCode:function(e){return e.type==="keypress"?zh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v8=br(x8),b8=$t({},Rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e2=br(b8),w8=$t({},Zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P1}),_8=br(w8),j8=$t({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),N8=br(j8),S8=$t({},Rm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k8=br(S8),C8=[9,13,27,32],T1=xi&&"CompositionEvent"in window,Au=null;xi&&"documentMode"in document&&(Au=document.documentMode);var P8=xi&&"TextEvent"in window&&!Au,mD=xi&&(!T1||Au&&8<Au&&11>=Au),t2=" ",n2=!1;function gD(e,t){switch(e){case"keyup":return C8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ll=!1;function T8(e,t){switch(e){case"compositionend":return yD(t);case"keypress":return t.which!==32?null:(n2=!0,t2);case"textInput":return e=t.data,e===t2&&n2?null:e;default:return null}}function E8(e,t){if(ll)return e==="compositionend"||!T1&&gD(e,t)?(e=pD(),Fh=k1=Zi=null,ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mD&&t.locale!=="ko"?null:t.data;default:return null}}var M8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M8[e.type]:t==="textarea"}function xD(e,t,n,r){ZM(r),t=yp(t,"onChange"),0<t.length&&(n=new C1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lu=null,id=null;function D8(e){TD(e,0)}function Om(e){var t=dl(e);if(VM(t))return e}function A8(e,t){if(e==="change")return t}var vD=!1;if(xi){var Z0;if(xi){var K0="oninput"in document;if(!K0){var s2=document.createElement("div");s2.setAttribute("oninput","return;"),K0=typeof s2.oninput=="function"}Z0=K0}else Z0=!1;vD=Z0&&(!document.documentMode||9<document.documentMode)}function i2(){Lu&&(Lu.detachEvent("onpropertychange",bD),id=Lu=null)}function bD(e){if(e.propertyName==="value"&&Om(id)){var t=[];xD(t,id,e,w1(e)),QM(D8,t)}}function L8(e,t,n){e==="focusin"?(i2(),Lu=t,id=n,Lu.attachEvent("onpropertychange",bD)):e==="focusout"&&i2()}function I8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Om(id)}function R8(e,t){if(e==="click")return Om(t)}function O8(e,t){if(e==="input"||e==="change")return Om(t)}function $8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cs=typeof Object.is=="function"?Object.is:$8;function od(e,t){if(cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pv.call(t,s)||!cs(e[s],t[s]))return!1}return!0}function o2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a2(e,t){var n=o2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o2(n)}}function wD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _D(){for(var e=window,t=up();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=up(e.document)}return t}function E1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function F8(e){var t=_D(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wD(n.ownerDocument.documentElement,n)){if(r!==null&&E1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=a2(n,i);var o=a2(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var z8=xi&&"documentMode"in document&&11>=document.documentMode,cl=null,Av=null,Iu=null,Lv=!1;function l2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lv||cl==null||cl!==up(r)||(r=cl,"selectionStart"in r&&E1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Iu&&od(Iu,r)||(Iu=r,r=yp(Av,"onSelect"),0<r.length&&(t=new C1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cl)))}function Hf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ul={animationend:Hf("Animation","AnimationEnd"),animationiteration:Hf("Animation","AnimationIteration"),animationstart:Hf("Animation","AnimationStart"),transitionend:Hf("Transition","TransitionEnd")},X0={},jD={};xi&&(jD=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function $m(e){if(X0[e])return X0[e];if(!ul[e])return e;var t=ul[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jD)return X0[e]=t[n];return e}var ND=$m("animationend"),SD=$m("animationiteration"),kD=$m("animationstart"),CD=$m("transitionend"),PD=new Map,c2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(e,t){PD.set(e,t),Ca(t,[e])}for(var J0=0;J0<c2.length;J0++){var Q0=c2[J0],B8=Q0.toLowerCase(),V8=Q0[0].toUpperCase()+Q0.slice(1);bo(B8,"on"+V8)}bo(ND,"onAnimationEnd");bo(SD,"onAnimationIteration");bo(kD,"onAnimationStart");bo("dblclick","onDoubleClick");bo("focusin","onFocus");bo("focusout","onBlur");bo(CD,"onTransitionEnd");Hl("onMouseEnter",["mouseout","mouseover"]);Hl("onMouseLeave",["mouseout","mouseover"]);Hl("onPointerEnter",["pointerout","pointerover"]);Hl("onPointerLeave",["pointerout","pointerover"]);Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cu));function u2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BF(r,t,void 0,e),e.currentTarget=null}function TD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;u2(s,l,d),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;u2(s,l,d),i=u}}}if(fp)throw e=Tv,fp=!1,Tv=null,e}function Ct(e,t){var n=t[Fv];n===void 0&&(n=t[Fv]=new Set);var r=e+"__bubble";n.has(r)||(ED(t,e,2,!1),n.add(r))}function ey(e,t,n){var r=0;t&&(r|=4),ED(n,e,r,t)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[Gf]){e[Gf]=!0,OM.forEach(function(n){n!=="selectionchange"&&(U8.has(n)||ey(n,!1,e),ey(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gf]||(t[Gf]=!0,ey("selectionchange",!1,t))}}function ED(e,t,n,r){switch(hD(t)){case 1:var s=r8;break;case 4:s=s8;break;default:s=S1}n=s.bind(null,t,n,e),s=void 0,!Pv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ty(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Go(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}QM(function(){var d=i,f=w1(n),h=[];e:{var p=PD.get(e);if(p!==void 0){var y=C1,w=e;switch(e){case"keypress":if(zh(n)===0)break e;case"keydown":case"keyup":y=v8;break;case"focusin":w="focus",y=Y0;break;case"focusout":w="blur",y=Y0;break;case"beforeblur":case"afterblur":y=Y0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=JS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=a8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_8;break;case ND:case SD:case kD:y=u8;break;case CD:y=N8;break;case"scroll":y=i8;break;case"wheel":y=k8;break;case"copy":case"cut":case"paste":y=f8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=e2}var b=(t&4)!==0,N=!b&&e==="scroll",v=b?p!==null?p+"Capture":null:p;b=[];for(var _=d,j;_!==null;){j=_;var S=j.stateNode;if(j.tag===5&&S!==null&&(j=S,v!==null&&(S=td(_,v),S!=null&&b.push(ld(_,S,j)))),N)break;_=_.return}0<b.length&&(p=new y(p,w,null,n,f),h.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==kv&&(w=n.relatedTarget||n.fromElement)&&(Go(w)||w[vi]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=d,w=w?Go(w):null,w!==null&&(N=Pa(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=d),y!==w)){if(b=JS,S="onMouseLeave",v="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=e2,S="onPointerLeave",v="onPointerEnter",_="pointer"),N=y==null?p:dl(y),j=w==null?p:dl(w),p=new b(S,_+"leave",y,n,f),p.target=N,p.relatedTarget=j,S=null,Go(f)===d&&(b=new b(v,_+"enter",w,n,f),b.target=j,b.relatedTarget=N,S=b),N=S,y&&w)t:{for(b=y,v=w,_=0,j=b;j;j=Ya(j))_++;for(j=0,S=v;S;S=Ya(S))j++;for(;0<_-j;)b=Ya(b),_--;for(;0<j-_;)v=Ya(v),j--;for(;_--;){if(b===v||v!==null&&b===v.alternate)break t;b=Ya(b),v=Ya(v)}b=null}else b=null;y!==null&&d2(h,p,y,b,!1),w!==null&&N!==null&&d2(h,N,w,b,!0)}}e:{if(p=d?dl(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var P=A8;else if(r2(p))if(vD)P=O8;else{P=I8;var E=L8}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=R8);if(P&&(P=P(e,d))){xD(h,P,n,f);break e}E&&E(e,p,d),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&wv(p,"number",p.value)}switch(E=d?dl(d):window,e){case"focusin":(r2(E)||E.contentEditable==="true")&&(cl=E,Av=d,Iu=null);break;case"focusout":Iu=Av=cl=null;break;case"mousedown":Lv=!0;break;case"contextmenu":case"mouseup":case"dragend":Lv=!1,l2(h,n,f);break;case"selectionchange":if(z8)break;case"keydown":case"keyup":l2(h,n,f)}var C;if(T1)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ll?gD(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(mD&&n.locale!=="ko"&&(ll||T!=="onCompositionStart"?T==="onCompositionEnd"&&ll&&(C=pD()):(Zi=f,k1="value"in Zi?Zi.value:Zi.textContent,ll=!0)),E=yp(d,T),0<E.length&&(T=new QS(T,e,null,n,f),h.push({event:T,listeners:E}),C?T.data=C:(C=yD(n),C!==null&&(T.data=C)))),(C=P8?T8(e,n):E8(e,n))&&(d=yp(d,"onBeforeInput"),0<d.length&&(f=new QS("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=C))}TD(h,t)})}function ld(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yp(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=td(e,n),i!=null&&r.unshift(ld(e,i,s)),i=td(e,t),i!=null&&r.push(ld(e,i,s))),e=e.return}return r}function Ya(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d2(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,s?(u=td(n,i),u!=null&&o.unshift(ld(n,u,l))):s||(u=td(n,i),u!=null&&o.push(ld(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var W8=/\r\n?/g,H8=/\u0000|\uFFFD/g;function f2(e){return(typeof e=="string"?e:""+e).replace(W8,`
`).replace(H8,"")}function qf(e,t,n){if(t=f2(t),f2(e)!==t&&n)throw Error(we(425))}function xp(){}var Iv=null,Rv=null;function Ov(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $v=typeof setTimeout=="function"?setTimeout:void 0,G8=typeof clearTimeout=="function"?clearTimeout:void 0,h2=typeof Promise=="function"?Promise:void 0,q8=typeof queueMicrotask=="function"?queueMicrotask:typeof h2<"u"?function(e){return h2.resolve(null).then(e).catch(Y8)}:$v;function Y8(e){setTimeout(function(){throw e})}function ny(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),sd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);sd(t)}function ro(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function p2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xc=Math.random().toString(36).slice(2),Ss="__reactFiber$"+xc,cd="__reactProps$"+xc,vi="__reactContainer$"+xc,Fv="__reactEvents$"+xc,Z8="__reactListeners$"+xc,K8="__reactHandles$"+xc;function Go(e){var t=e[Ss];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[Ss]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=p2(e);e!==null;){if(n=e[Ss])return n;e=p2(e)}return t}e=n,n=e.parentNode}return null}function Kd(e){return e=e[Ss]||e[vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(we(33))}function Fm(e){return e[cd]||null}var zv=[],fl=-1;function wo(e){return{current:e}}function Pt(e){0>fl||(e.current=zv[fl],zv[fl]=null,fl--)}function _t(e,t){fl++,zv[fl]=e.current,e.current=t}var go={},Mn=wo(go),rr=wo(!1),ha=go;function Gl(e,t){var n=e.type.contextTypes;if(!n)return go;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function sr(e){return e=e.childContextTypes,e!=null}function vp(){Pt(rr),Pt(Mn)}function m2(e,t,n){if(Mn.current!==go)throw Error(we(168));_t(Mn,t),_t(rr,n)}function MD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(we(108,LF(e)||"Unknown",s));return $t({},n,r)}function bp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||go,ha=Mn.current,_t(Mn,e),_t(rr,rr.current),!0}function g2(e,t,n){var r=e.stateNode;if(!r)throw Error(we(169));n?(e=MD(e,t,ha),r.__reactInternalMemoizedMergedChildContext=e,Pt(rr),Pt(Mn),_t(Mn,e)):Pt(rr),_t(rr,n)}var si=null,zm=!1,ry=!1;function DD(e){si===null?si=[e]:si.push(e)}function X8(e){zm=!0,DD(e)}function _o(){if(!ry&&si!==null){ry=!0;var e=0,t=pt;try{var n=si;for(pt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}si=null,zm=!1}catch(s){throw si!==null&&(si=si.slice(e+1)),rD(_1,_o),s}finally{pt=t,ry=!1}}return null}var hl=[],pl=0,wp=null,_p=0,Mr=[],Dr=0,pa=null,ai=1,li="";function $o(e,t){hl[pl++]=_p,hl[pl++]=wp,wp=e,_p=t}function AD(e,t,n){Mr[Dr++]=ai,Mr[Dr++]=li,Mr[Dr++]=pa,pa=e;var r=ai;e=li;var s=32-is(r)-1;r&=~(1<<s),n+=1;var i=32-is(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ai=1<<32-is(t)+s|n<<s|r,li=i+e}else ai=1<<i|n<<s|r,li=e}function M1(e){e.return!==null&&($o(e,1),AD(e,1,0))}function D1(e){for(;e===wp;)wp=hl[--pl],hl[pl]=null,_p=hl[--pl],hl[pl]=null;for(;e===pa;)pa=Mr[--Dr],Mr[Dr]=null,li=Mr[--Dr],Mr[Dr]=null,ai=Mr[--Dr],Mr[Dr]=null}var pr=null,fr=null,Et=!1,ts=null;function LD(e,t){var n=Ar(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function y2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pr=e,fr=ro(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pr=e,fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pa!==null?{id:ai,overflow:li}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ar(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pr=e,fr=null,!0):!1;default:return!1}}function Bv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vv(e){if(Et){var t=fr;if(t){var n=t;if(!y2(e,t)){if(Bv(e))throw Error(we(418));t=ro(n.nextSibling);var r=pr;t&&y2(e,t)?LD(r,n):(e.flags=e.flags&-4097|2,Et=!1,pr=e)}}else{if(Bv(e))throw Error(we(418));e.flags=e.flags&-4097|2,Et=!1,pr=e}}}function x2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pr=e}function Yf(e){if(e!==pr)return!1;if(!Et)return x2(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ov(e.type,e.memoizedProps)),t&&(t=fr)){if(Bv(e))throw ID(),Error(we(418));for(;t;)LD(e,t),t=ro(t.nextSibling)}if(x2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(we(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fr=ro(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fr=null}}else fr=pr?ro(e.stateNode.nextSibling):null;return!0}function ID(){for(var e=fr;e;)e=ro(e.nextSibling)}function ql(){fr=pr=null,Et=!1}function A1(e){ts===null?ts=[e]:ts.push(e)}var J8=Mi.ReactCurrentBatchConfig;function ou(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var r=n.stateNode}if(!r)throw Error(we(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,e))}return e}function Zf(e,t){throw e=Object.prototype.toString.call(t),Error(we(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v2(e){var t=e._init;return t(e._payload)}function RD(e){function t(v,_){if(e){var j=v.deletions;j===null?(v.deletions=[_],v.flags|=16):j.push(_)}}function n(v,_){if(!e)return null;for(;_!==null;)t(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=ao(v,_),v.index=0,v.sibling=null,v}function i(v,_,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<_?(v.flags|=2,_):j):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,_,j,S){return _===null||_.tag!==6?(_=uy(j,v.mode,S),_.return=v,_):(_=s(_,j),_.return=v,_)}function u(v,_,j,S){var P=j.type;return P===al?f(v,_,j.props.children,S,j.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ui&&v2(P)===_.type)?(S=s(_,j.props),S.ref=ou(v,_,j),S.return=v,S):(S=qh(j.type,j.key,j.props,null,v.mode,S),S.ref=ou(v,_,j),S.return=v,S)}function d(v,_,j,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==j.containerInfo||_.stateNode.implementation!==j.implementation?(_=dy(j,v.mode,S),_.return=v,_):(_=s(_,j.children||[]),_.return=v,_)}function f(v,_,j,S,P){return _===null||_.tag!==7?(_=na(j,v.mode,S,P),_.return=v,_):(_=s(_,j),_.return=v,_)}function h(v,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return _=uy(""+_,v.mode,j),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $f:return j=qh(_.type,_.key,_.props,null,v.mode,j),j.ref=ou(v,null,_),j.return=v,j;case ol:return _=dy(_,v.mode,j),_.return=v,_;case Ui:var S=_._init;return h(v,S(_._payload),j)}if(Su(_)||tu(_))return _=na(_,v.mode,j,null),_.return=v,_;Zf(v,_)}return null}function p(v,_,j,S){var P=_!==null?_.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return P!==null?null:l(v,_,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $f:return j.key===P?u(v,_,j,S):null;case ol:return j.key===P?d(v,_,j,S):null;case Ui:return P=j._init,p(v,_,P(j._payload),S)}if(Su(j)||tu(j))return P!==null?null:f(v,_,j,S,null);Zf(v,j)}return null}function y(v,_,j,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(j)||null,l(_,v,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $f:return v=v.get(S.key===null?j:S.key)||null,u(_,v,S,P);case ol:return v=v.get(S.key===null?j:S.key)||null,d(_,v,S,P);case Ui:var E=S._init;return y(v,_,j,E(S._payload),P)}if(Su(S)||tu(S))return v=v.get(j)||null,f(_,v,S,P,null);Zf(_,S)}return null}function w(v,_,j,S){for(var P=null,E=null,C=_,T=_=0,D=null;C!==null&&T<j.length;T++){C.index>T?(D=C,C=null):D=C.sibling;var R=p(v,C,j[T],S);if(R===null){C===null&&(C=D);break}e&&C&&R.alternate===null&&t(v,C),_=i(R,_,T),E===null?P=R:E.sibling=R,E=R,C=D}if(T===j.length)return n(v,C),Et&&$o(v,T),P;if(C===null){for(;T<j.length;T++)C=h(v,j[T],S),C!==null&&(_=i(C,_,T),E===null?P=C:E.sibling=C,E=C);return Et&&$o(v,T),P}for(C=r(v,C);T<j.length;T++)D=y(C,v,T,j[T],S),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?T:D.key),_=i(D,_,T),E===null?P=D:E.sibling=D,E=D);return e&&C.forEach(function(F){return t(v,F)}),Et&&$o(v,T),P}function b(v,_,j,S){var P=tu(j);if(typeof P!="function")throw Error(we(150));if(j=P.call(j),j==null)throw Error(we(151));for(var E=P=null,C=_,T=_=0,D=null,R=j.next();C!==null&&!R.done;T++,R=j.next()){C.index>T?(D=C,C=null):D=C.sibling;var F=p(v,C,R.value,S);if(F===null){C===null&&(C=D);break}e&&C&&F.alternate===null&&t(v,C),_=i(F,_,T),E===null?P=F:E.sibling=F,E=F,C=D}if(R.done)return n(v,C),Et&&$o(v,T),P;if(C===null){for(;!R.done;T++,R=j.next())R=h(v,R.value,S),R!==null&&(_=i(R,_,T),E===null?P=R:E.sibling=R,E=R);return Et&&$o(v,T),P}for(C=r(v,C);!R.done;T++,R=j.next())R=y(C,v,T,R.value,S),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?T:R.key),_=i(R,_,T),E===null?P=R:E.sibling=R,E=R);return e&&C.forEach(function(A){return t(v,A)}),Et&&$o(v,T),P}function N(v,_,j,S){if(typeof j=="object"&&j!==null&&j.type===al&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case $f:e:{for(var P=j.key,E=_;E!==null;){if(E.key===P){if(P=j.type,P===al){if(E.tag===7){n(v,E.sibling),_=s(E,j.props.children),_.return=v,v=_;break e}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ui&&v2(P)===E.type){n(v,E.sibling),_=s(E,j.props),_.ref=ou(v,E,j),_.return=v,v=_;break e}n(v,E);break}else t(v,E);E=E.sibling}j.type===al?(_=na(j.props.children,v.mode,S,j.key),_.return=v,v=_):(S=qh(j.type,j.key,j.props,null,v.mode,S),S.ref=ou(v,_,j),S.return=v,v=S)}return o(v);case ol:e:{for(E=j.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===j.containerInfo&&_.stateNode.implementation===j.implementation){n(v,_.sibling),_=s(_,j.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else t(v,_);_=_.sibling}_=dy(j,v.mode,S),_.return=v,v=_}return o(v);case Ui:return E=j._init,N(v,_,E(j._payload),S)}if(Su(j))return w(v,_,j,S);if(tu(j))return b(v,_,j,S);Zf(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,j),_.return=v,v=_):(n(v,_),_=uy(j,v.mode,S),_.return=v,v=_),o(v)):n(v,_)}return N}var Yl=RD(!0),OD=RD(!1),jp=wo(null),Np=null,ml=null,L1=null;function I1(){L1=ml=Np=null}function R1(e){var t=jp.current;Pt(jp),e._currentValue=t}function Uv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dl(e,t){Np=e,L1=ml=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(er=!0),e.firstContext=null)}function Ur(e){var t=e._currentValue;if(L1!==e)if(e={context:e,memoizedValue:t,next:null},ml===null){if(Np===null)throw Error(we(308));ml=e,Np.dependencies={lanes:0,firstContext:e}}else ml=ml.next=e;return t}var qo=null;function O1(e){qo===null?qo=[e]:qo.push(e)}function $D(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,O1(t)):(n.next=s.next,s.next=n),t.interleaved=n,bi(e,r)}function bi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wi=!1;function $1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,bi(e,n)}return s=r.interleaved,s===null?(t.next=t,O1(r)):(t.next=s.next,s.next=t),r.interleaved=t,bi(e,n)}function Bh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,j1(e,n)}}function b2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sp(e,t,n,r){var s=e.updateQueue;Wi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,f=d=u=null,l=i;do{var p=l.lane,y=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,b=l;switch(p=t,y=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){h=w.call(y,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,p=typeof w=="function"?w.call(y,h,p):w,p==null)break e;h=$t({},h,p);break e;case 2:Wi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=y,u=h):f=f.next=y,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(u=h),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ga|=o,e.lanes=o,e.memoizedState=h}}function w2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(we(191,s));s.call(r)}}}var Xd={},Ds=wo(Xd),ud=wo(Xd),dd=wo(Xd);function Yo(e){if(e===Xd)throw Error(we(174));return e}function F1(e,t){switch(_t(dd,t),_t(ud,e),_t(Ds,Xd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jv(t,e)}Pt(Ds),_t(Ds,t)}function Zl(){Pt(Ds),Pt(ud),Pt(dd)}function zD(e){Yo(dd.current);var t=Yo(Ds.current),n=jv(t,e.type);t!==n&&(_t(ud,e),_t(Ds,n))}function z1(e){ud.current===e&&(Pt(Ds),Pt(ud))}var Rt=wo(0);function kp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sy=[];function B1(){for(var e=0;e<sy.length;e++)sy[e]._workInProgressVersionPrimary=null;sy.length=0}var Vh=Mi.ReactCurrentDispatcher,iy=Mi.ReactCurrentBatchConfig,ma=0,Ot=null,sn=null,dn=null,Cp=!1,Ru=!1,fd=0,Q8=0;function kn(){throw Error(we(321))}function V1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cs(e[n],t[n]))return!1;return!0}function U1(e,t,n,r,s,i){if(ma=i,Ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vh.current=e===null||e.memoizedState===null?rz:sz,e=n(r,s),Ru){i=0;do{if(Ru=!1,fd=0,25<=i)throw Error(we(301));i+=1,dn=sn=null,t.updateQueue=null,Vh.current=iz,e=n(r,s)}while(Ru)}if(Vh.current=Pp,t=sn!==null&&sn.next!==null,ma=0,dn=sn=Ot=null,Cp=!1,t)throw Error(we(300));return e}function W1(){var e=fd!==0;return fd=0,e}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ot.memoizedState=dn=e:dn=dn.next=e,dn}function Wr(){if(sn===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=dn===null?Ot.memoizedState:dn.next;if(t!==null)dn=t,sn=e;else{if(e===null)throw Error(we(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},dn===null?Ot.memoizedState=dn=e:dn=dn.next=e}return dn}function hd(e,t){return typeof t=="function"?t(e):t}function oy(e){var t=Wr(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var r=sn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,d=i;do{var f=d.lane;if((ma&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=h,o=r):u=u.next=h,Ot.lanes|=f,ga|=f}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=l,cs(r,t.memoizedState)||(er=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ot.lanes|=i,ga|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ay(e){var t=Wr(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);cs(i,t.memoizedState)||(er=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function BD(){}function VD(e,t){var n=Ot,r=Wr(),s=t(),i=!cs(r.memoizedState,s);if(i&&(r.memoizedState=s,er=!0),r=r.queue,H1(HD.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||dn!==null&&dn.memoizedState.tag&1){if(n.flags|=2048,pd(9,WD.bind(null,n,r,s,t),void 0,null),hn===null)throw Error(we(349));ma&30||UD(n,t,s)}return s}function UD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function WD(e,t,n,r){t.value=n,t.getSnapshot=r,GD(t)&&qD(e)}function HD(e,t,n){return n(function(){GD(t)&&qD(e)})}function GD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cs(e,n)}catch{return!0}}function qD(e){var t=bi(e,1);t!==null&&os(t,e,1,-1)}function _2(e){var t=_s();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:e},t.queue=e,e=e.dispatch=nz.bind(null,Ot,e),[t.memoizedState,e]}function pd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function YD(){return Wr().memoizedState}function Uh(e,t,n,r){var s=_s();Ot.flags|=e,s.memoizedState=pd(1|t,n,void 0,r===void 0?null:r)}function Bm(e,t,n,r){var s=Wr();r=r===void 0?null:r;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,r!==null&&V1(r,o.deps)){s.memoizedState=pd(t,n,i,r);return}}Ot.flags|=e,s.memoizedState=pd(1|t,n,i,r)}function j2(e,t){return Uh(8390656,8,e,t)}function H1(e,t){return Bm(2048,8,e,t)}function ZD(e,t){return Bm(4,2,e,t)}function KD(e,t){return Bm(4,4,e,t)}function XD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JD(e,t,n){return n=n!=null?n.concat([e]):null,Bm(4,4,XD.bind(null,t,e),n)}function G1(){}function QD(e,t){var n=Wr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&V1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eA(e,t){var n=Wr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&V1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tA(e,t,n){return ma&21?(cs(n,t)||(n=oD(),Ot.lanes|=n,ga|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,er=!0),e.memoizedState=n)}function ez(e,t){var n=pt;pt=n!==0&&4>n?n:4,e(!0);var r=iy.transition;iy.transition={};try{e(!1),t()}finally{pt=n,iy.transition=r}}function nA(){return Wr().memoizedState}function tz(e,t,n){var r=oo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rA(e))sA(t,n);else if(n=$D(e,t,n,r),n!==null){var s=Un();os(n,e,r,s),iA(n,t,r)}}function nz(e,t,n){var r=oo(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rA(e))sA(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,cs(l,o)){var u=t.interleaved;u===null?(s.next=s,O1(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=$D(e,t,s,r),n!==null&&(s=Un(),os(n,e,r,s),iA(n,t,r))}}function rA(e){var t=e.alternate;return e===Ot||t!==null&&t===Ot}function sA(e,t){Ru=Cp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,j1(e,n)}}var Pp={readContext:Ur,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},rz={readContext:Ur,useCallback:function(e,t){return _s().memoizedState=[e,t===void 0?null:t],e},useContext:Ur,useEffect:j2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Uh(4194308,4,XD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uh(4,2,e,t)},useMemo:function(e,t){var n=_s();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_s();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tz.bind(null,Ot,e),[r.memoizedState,e]},useRef:function(e){var t=_s();return e={current:e},t.memoizedState=e},useState:_2,useDebugValue:G1,useDeferredValue:function(e){return _s().memoizedState=e},useTransition:function(){var e=_2(!1),t=e[0];return e=ez.bind(null,e[1]),_s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ot,s=_s();if(Et){if(n===void 0)throw Error(we(407));n=n()}else{if(n=t(),hn===null)throw Error(we(349));ma&30||UD(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,j2(HD.bind(null,r,i,e),[e]),r.flags|=2048,pd(9,WD.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=_s(),t=hn.identifierPrefix;if(Et){var n=li,r=ai;n=(r&~(1<<32-is(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Q8++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sz={readContext:Ur,useCallback:QD,useContext:Ur,useEffect:H1,useImperativeHandle:JD,useInsertionEffect:ZD,useLayoutEffect:KD,useMemo:eA,useReducer:oy,useRef:YD,useState:function(){return oy(hd)},useDebugValue:G1,useDeferredValue:function(e){var t=Wr();return tA(t,sn.memoizedState,e)},useTransition:function(){var e=oy(hd)[0],t=Wr().memoizedState;return[e,t]},useMutableSource:BD,useSyncExternalStore:VD,useId:nA,unstable_isNewReconciler:!1},iz={readContext:Ur,useCallback:QD,useContext:Ur,useEffect:H1,useImperativeHandle:JD,useInsertionEffect:ZD,useLayoutEffect:KD,useMemo:eA,useReducer:ay,useRef:YD,useState:function(){return ay(hd)},useDebugValue:G1,useDeferredValue:function(e){var t=Wr();return sn===null?t.memoizedState=e:tA(t,sn.memoizedState,e)},useTransition:function(){var e=ay(hd)[0],t=Wr().memoizedState;return[e,t]},useMutableSource:BD,useSyncExternalStore:VD,useId:nA,unstable_isNewReconciler:!1};function Jr(e,t){if(e&&e.defaultProps){t=$t({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$t({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vm={isMounted:function(e){return(e=e._reactInternals)?Pa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Un(),s=oo(e),i=hi(r,s);i.payload=t,n!=null&&(i.callback=n),t=so(e,i,s),t!==null&&(os(t,e,s,r),Bh(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Un(),s=oo(e),i=hi(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=so(e,i,s),t!==null&&(os(t,e,s,r),Bh(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Un(),r=oo(e),s=hi(n,r);s.tag=2,t!=null&&(s.callback=t),t=so(e,s,r),t!==null&&(os(t,e,r,n),Bh(t,e,r))}};function N2(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!od(n,r)||!od(s,i):!0}function oA(e,t,n){var r=!1,s=go,i=t.contextType;return typeof i=="object"&&i!==null?i=Ur(i):(s=sr(t)?ha:Mn.current,r=t.contextTypes,i=(r=r!=null)?Gl(e,s):go),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function S2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vm.enqueueReplaceState(t,t.state,null)}function Hv(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$1(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ur(i):(i=sr(t)?ha:Mn.current,s.context=Gl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wv(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vm.enqueueReplaceState(s,s.state,null),Sp(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Kl(e,t){try{var n="",r=t;do n+=AF(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ly(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oz=typeof WeakMap=="function"?WeakMap:Map;function aA(e,t,n){n=hi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ep||(Ep=!0,nb=r),Gv(e,t)},n}function lA(e,t,n){n=hi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Gv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Gv(e,t),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function k2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oz;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=bz.bind(null,e,t,n),t.then(e,e))}function C2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function P2(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hi(-1,1),t.tag=2,so(n,t,1))),n.lanes|=1),e)}var az=Mi.ReactCurrentOwner,er=!1;function $n(e,t,n,r){t.child=e===null?OD(t,null,n,r):Yl(t,e.child,n,r)}function T2(e,t,n,r,s){n=n.render;var i=t.ref;return Dl(t,s),r=U1(e,t,n,r,i,s),n=W1(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wi(e,t,s)):(Et&&n&&M1(t),t.flags|=1,$n(e,t,r,s),t.child)}function E2(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!e_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,cA(e,t,i,r,s)):(e=qh(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:od,n(o,r)&&e.ref===t.ref)return wi(e,t,s)}return t.flags|=1,e=ao(i,r),e.ref=t.ref,e.return=t,t.child=e}function cA(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(od(i,r)&&e.ref===t.ref)if(er=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(er=!0);else return t.lanes=e.lanes,wi(e,t,s)}return qv(e,t,n,r,s)}function uA(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(yl,lr),lr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(yl,lr),lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_t(yl,lr),lr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,_t(yl,lr),lr|=r;return $n(e,t,s,n),t.child}function dA(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qv(e,t,n,r,s){var i=sr(n)?ha:Mn.current;return i=Gl(t,i),Dl(t,s),n=U1(e,t,n,r,i,s),r=W1(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wi(e,t,s)):(Et&&r&&M1(t),t.flags|=1,$n(e,t,n,s),t.child)}function M2(e,t,n,r,s){if(sr(n)){var i=!0;bp(t)}else i=!1;if(Dl(t,s),t.stateNode===null)Wh(e,t),oA(t,n,r),Hv(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ur(d):(d=sr(n)?ha:Mn.current,d=Gl(t,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==d)&&S2(t,o,r,d),Wi=!1;var p=t.memoizedState;o.state=p,Sp(t,r,o,s),u=t.memoizedState,l!==r||p!==u||rr.current||Wi?(typeof f=="function"&&(Wv(t,n,f,r),u=t.memoizedState),(l=Wi||N2(t,n,l,r,p,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,FD(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Jr(t.type,l),o.props=d,h=t.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ur(u):(u=sr(n)?ha:Mn.current,u=Gl(t,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==u)&&S2(t,o,r,u),Wi=!1,p=t.memoizedState,o.state=p,Sp(t,r,o,s);var w=t.memoizedState;l!==h||p!==w||rr.current||Wi?(typeof y=="function"&&(Wv(t,n,y,r),w=t.memoizedState),(d=Wi||N2(t,n,d,r,p,w,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Yv(e,t,n,r,i,s)}function Yv(e,t,n,r,s,i){dA(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&g2(t,n,!1),wi(e,t,i);r=t.stateNode,az.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Yl(t,e.child,null,i),t.child=Yl(t,null,l,i)):$n(e,t,l,i),t.memoizedState=r.state,s&&g2(t,n,!0),t.child}function fA(e){var t=e.stateNode;t.pendingContext?m2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&m2(e,t.context,!1),F1(e,t.containerInfo)}function D2(e,t,n,r,s){return ql(),A1(s),t.flags|=256,$n(e,t,n,r),t.child}var Zv={dehydrated:null,treeContext:null,retryLane:0};function Kv(e){return{baseLanes:e,cachePool:null,transitions:null}}function hA(e,t,n){var r=t.pendingProps,s=Rt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_t(Rt,s&1),e===null)return Vv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hm(o,r,0,null),e=na(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Kv(n),t.memoizedState=Zv,e):q1(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lz(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ao(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ao(l,i):(i=na(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Kv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Zv,r}return i=e.child,e=i.sibling,r=ao(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function q1(e,t){return t=Hm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kf(e,t,n,r){return r!==null&&A1(r),Yl(t,e.child,null,n),e=q1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lz(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ly(Error(we(422))),Kf(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Hm({mode:"visible",children:r.children},s,0,null),i=na(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Yl(t,e.child,null,o),t.child.memoizedState=Kv(o),t.memoizedState=Zv,i);if(!(t.mode&1))return Kf(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(we(419)),r=ly(i,r,void 0),Kf(e,t,o,r)}if(l=(o&e.childLanes)!==0,er||l){if(r=hn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bi(e,s),os(r,e,s,-1))}return Q1(),r=ly(Error(we(421))),Kf(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wz.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,fr=ro(s.nextSibling),pr=t,Et=!0,ts=null,e!==null&&(Mr[Dr++]=ai,Mr[Dr++]=li,Mr[Dr++]=pa,ai=e.id,li=e.overflow,pa=t),t=q1(t,r.children),t.flags|=4096,t)}function A2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Uv(e.return,t,n)}function cy(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pA(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if($n(e,t,r.children,n),r=Rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&A2(e,n,t);else if(e.tag===19)A2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_t(Rt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&kp(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),cy(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&kp(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}cy(t,!0,n,null,i);break;case"together":cy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ga|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(we(153));if(t.child!==null){for(e=t.child,n=ao(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ao(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cz(e,t,n){switch(t.tag){case 3:fA(t),ql();break;case 5:zD(t);break;case 1:sr(t.type)&&bp(t);break;case 4:F1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_t(jp,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_t(Rt,Rt.current&1),t.flags|=128,null):n&t.child.childLanes?hA(e,t,n):(_t(Rt,Rt.current&1),e=wi(e,t,n),e!==null?e.sibling:null);_t(Rt,Rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pA(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_t(Rt,Rt.current),r)break;return null;case 22:case 23:return t.lanes=0,uA(e,t,n)}return wi(e,t,n)}var mA,Xv,gA,yA;mA=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xv=function(){};gA=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yo(Ds.current);var i=null;switch(n){case"input":s=vv(e,s),r=vv(e,r),i=[];break;case"select":s=$t({},s,{value:void 0}),r=$t({},r,{value:void 0}),i=[];break;case"textarea":s=_v(e,s),r=_v(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xp)}Nv(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Qu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Qu.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Ct("scroll",e),i||l===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};yA=function(e,t,n,r){n!==r&&(t.flags|=4)};function au(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uz(e,t,n){var r=t.pendingProps;switch(D1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(t),null;case 1:return sr(t.type)&&vp(),Cn(t),null;case 3:return r=t.stateNode,Zl(),Pt(rr),Pt(Mn),B1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ts!==null&&(ib(ts),ts=null))),Xv(e,t),Cn(t),null;case 5:z1(t);var s=Yo(dd.current);if(n=t.type,e!==null&&t.stateNode!=null)gA(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(we(166));return Cn(t),null}if(e=Yo(Ds.current),Yf(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ss]=t,r[cd]=i,e=(t.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(s=0;s<Cu.length;s++)Ct(Cu[s],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":VS(r,i),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ct("invalid",r);break;case"textarea":WS(r,i),Ct("invalid",r)}Nv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&qf(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qf(r.textContent,l,e),s=["children",""+l]):Qu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ct("scroll",r)}switch(n){case"input":Ff(r),US(r,i,!0);break;case"textarea":Ff(r),HS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xp)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=HM(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ss]=t,e[cd]=r,mA(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sv(n,r),n){case"dialog":Ct("cancel",e),Ct("close",e),s=r;break;case"iframe":case"object":case"embed":Ct("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cu.length;s++)Ct(Cu[s],e);s=r;break;case"source":Ct("error",e),s=r;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),s=r;break;case"details":Ct("toggle",e),s=r;break;case"input":VS(e,r),s=vv(e,r),Ct("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=$t({},r,{value:void 0}),Ct("invalid",e);break;case"textarea":WS(e,r),s=_v(e,r),Ct("invalid",e);break;default:s=r}Nv(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?YM(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&GM(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ed(e,u):typeof u=="number"&&ed(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qu.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ct("scroll",e):u!=null&&y1(e,i,u,o))}switch(n){case"input":Ff(e),US(e,r,!1);break;case"textarea":Ff(e),HS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mo(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Pl(e,!!r.multiple,i,!1):r.defaultValue!=null&&Pl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cn(t),null;case 6:if(e&&t.stateNode!=null)yA(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(we(166));if(n=Yo(dd.current),Yo(Ds.current),Yf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ss]=t,(i=r.nodeValue!==n)&&(e=pr,e!==null))switch(e.tag){case 3:qf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qf(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ss]=t,t.stateNode=r}return Cn(t),null;case 13:if(Pt(Rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&fr!==null&&t.mode&1&&!(t.flags&128))ID(),ql(),t.flags|=98560,i=!1;else if(i=Yf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(we(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(we(317));i[Ss]=t}else ql(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cn(t),i=!1}else ts!==null&&(ib(ts),ts=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Rt.current&1?on===0&&(on=3):Q1())),t.updateQueue!==null&&(t.flags|=4),Cn(t),null);case 4:return Zl(),Xv(e,t),e===null&&ad(t.stateNode.containerInfo),Cn(t),null;case 10:return R1(t.type._context),Cn(t),null;case 17:return sr(t.type)&&vp(),Cn(t),null;case 19:if(Pt(Rt),i=t.memoizedState,i===null)return Cn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)au(i,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=kp(e),o!==null){for(t.flags|=128,au(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _t(Rt,Rt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Gt()>Xl&&(t.flags|=128,r=!0,au(i,!1),t.lanes=4194304)}else{if(!r)if(e=kp(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),au(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return Cn(t),null}else 2*Gt()-i.renderingStartTime>Xl&&n!==1073741824&&(t.flags|=128,r=!0,au(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Gt(),t.sibling=null,n=Rt.current,_t(Rt,r?n&1|2:n&1),t):(Cn(t),null);case 22:case 23:return J1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lr&1073741824&&(Cn(t),t.subtreeFlags&6&&(t.flags|=8192)):Cn(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}function dz(e,t){switch(D1(t),t.tag){case 1:return sr(t.type)&&vp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zl(),Pt(rr),Pt(Mn),B1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return z1(t),null;case 13:if(Pt(Rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(we(340));ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pt(Rt),null;case 4:return Zl(),null;case 10:return R1(t.type._context),null;case 22:case 23:return J1(),null;case 24:return null;default:return null}}var Xf=!1,Tn=!1,fz=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function gl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vt(e,t,r)}else n.current=null}function Jv(e,t,n){try{n()}catch(r){Vt(e,t,r)}}var L2=!1;function hz(e,t){if(Iv=mp,e=_D(),E1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,f=0,h=e,p=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===e)break t;if(p===n&&++d===s&&(l=o),p===i&&++f===r&&(u=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rv={focusedElem:e,selectionRange:n},mp=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,N=w.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:Jr(t.type,b),N);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(S){Vt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return w=L2,L2=!1,w}function Ou(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jv(t,n,i)}s=s.next}while(s!==r)}}function Um(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xA(e){var t=e.alternate;t!==null&&(e.alternate=null,xA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ss],delete t[cd],delete t[Fv],delete t[Z8],delete t[K8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vA(e){return e.tag===5||e.tag===3||e.tag===4}function I2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xp));else if(r!==4&&(e=e.child,e!==null))for(eb(e,t,n),e=e.sibling;e!==null;)eb(e,t,n),e=e.sibling}function tb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tb(e,t,n),e=e.sibling;e!==null;)tb(e,t,n),e=e.sibling}var wn=null,es=!1;function Ri(e,t,n){for(n=n.child;n!==null;)bA(e,t,n),n=n.sibling}function bA(e,t,n){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(Im,n)}catch{}switch(n.tag){case 5:Tn||gl(n,t);case 6:var r=wn,s=es;wn=null,Ri(e,t,n),wn=r,es=s,wn!==null&&(es?(e=wn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(es?(e=wn,n=n.stateNode,e.nodeType===8?ny(e.parentNode,n):e.nodeType===1&&ny(e,n),sd(e)):ny(wn,n.stateNode));break;case 4:r=wn,s=es,wn=n.stateNode.containerInfo,es=!0,Ri(e,t,n),wn=r,es=s;break;case 0:case 11:case 14:case 15:if(!Tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jv(n,t,o),s=s.next}while(s!==r)}Ri(e,t,n);break;case 1:if(!Tn&&(gl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Vt(n,t,l)}Ri(e,t,n);break;case 21:Ri(e,t,n);break;case 22:n.mode&1?(Tn=(r=Tn)||n.memoizedState!==null,Ri(e,t,n),Tn=r):Ri(e,t,n);break;default:Ri(e,t,n)}}function R2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fz),t.forEach(function(r){var s=_z.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:wn=l.stateNode,es=!1;break e;case 3:wn=l.stateNode.containerInfo,es=!0;break e;case 4:wn=l.stateNode.containerInfo,es=!0;break e}l=l.return}if(wn===null)throw Error(we(160));bA(i,o,s),wn=null,es=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Vt(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wA(t,e),t=t.sibling}function wA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kr(t,e),bs(e),r&4){try{Ou(3,e,e.return),Um(3,e)}catch(b){Vt(e,e.return,b)}try{Ou(5,e,e.return)}catch(b){Vt(e,e.return,b)}}break;case 1:Kr(t,e),bs(e),r&512&&n!==null&&gl(n,n.return);break;case 5:if(Kr(t,e),bs(e),r&512&&n!==null&&gl(n,n.return),e.flags&32){var s=e.stateNode;try{ed(s,"")}catch(b){Vt(e,e.return,b)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&UM(s,i),Sv(l,o);var d=Sv(l,i);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?YM(s,h):f==="dangerouslySetInnerHTML"?GM(s,h):f==="children"?ed(s,h):y1(s,f,h,d)}switch(l){case"input":bv(s,i);break;case"textarea":WM(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Pl(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Pl(s,!!i.multiple,i.defaultValue,!0):Pl(s,!!i.multiple,i.multiple?[]:"",!1))}s[cd]=i}catch(b){Vt(e,e.return,b)}}break;case 6:if(Kr(t,e),bs(e),r&4){if(e.stateNode===null)throw Error(we(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){Vt(e,e.return,b)}}break;case 3:if(Kr(t,e),bs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sd(t.containerInfo)}catch(b){Vt(e,e.return,b)}break;case 4:Kr(t,e),bs(e);break;case 13:Kr(t,e),bs(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(K1=Gt())),r&4&&R2(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Tn=(d=Tn)||f,Kr(t,e),Tn=d):Kr(t,e),bs(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(Ee=e,f=e.child;f!==null;){for(h=Ee=f;Ee!==null;){switch(p=Ee,y=p.child,p.tag){case 0:case 11:case 14:case 15:Ou(4,p,p.return);break;case 1:gl(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){Vt(r,n,b)}}break;case 5:gl(p,p.return);break;case 22:if(p.memoizedState!==null){$2(h);continue}}y!==null?(y.return=p,Ee=y):$2(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=qM("display",o))}catch(b){Vt(e,e.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(b){Vt(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Kr(t,e),bs(e),r&4&&R2(e);break;case 21:break;default:Kr(t,e),bs(e)}}function bs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vA(n)){var r=n;break e}n=n.return}throw Error(we(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ed(s,""),r.flags&=-33);var i=I2(e);tb(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=I2(e);eb(e,l,o);break;default:throw Error(we(161))}}catch(u){Vt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pz(e,t,n){Ee=e,_A(e)}function _A(e,t,n){for(var r=(e.mode&1)!==0;Ee!==null;){var s=Ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Xf;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Tn;l=Xf;var d=Tn;if(Xf=o,(Tn=u)&&!d)for(Ee=s;Ee!==null;)o=Ee,u=o.child,o.tag===22&&o.memoizedState!==null?F2(s):u!==null?(u.return=o,Ee=u):F2(s);for(;i!==null;)Ee=i,_A(i),i=i.sibling;Ee=s,Xf=l,Tn=d}O2(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ee=i):O2(e)}}function O2(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tn||Um(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Jr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&w2(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}w2(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&sd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Tn||t.flags&512&&Qv(t)}catch(p){Vt(t,t.return,p)}}if(t===e){Ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function $2(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function F2(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Um(4,t)}catch(u){Vt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Vt(t,s,u)}}var i=t.return;try{Qv(t)}catch(u){Vt(t,i,u)}break;case 5:var o=t.return;try{Qv(t)}catch(u){Vt(t,o,u)}}}catch(u){Vt(t,t.return,u)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var mz=Math.ceil,Tp=Mi.ReactCurrentDispatcher,Y1=Mi.ReactCurrentOwner,$r=Mi.ReactCurrentBatchConfig,at=0,hn=null,Qt=null,Nn=0,lr=0,yl=wo(0),on=0,md=null,ga=0,Wm=0,Z1=0,$u=null,Qn=null,K1=0,Xl=1/0,ri=null,Ep=!1,nb=null,io=null,Jf=!1,Ki=null,Mp=0,Fu=0,rb=null,Hh=-1,Gh=0;function Un(){return at&6?Gt():Hh!==-1?Hh:Hh=Gt()}function oo(e){return e.mode&1?at&2&&Nn!==0?Nn&-Nn:J8.transition!==null?(Gh===0&&(Gh=oD()),Gh):(e=pt,e!==0||(e=window.event,e=e===void 0?16:hD(e.type)),e):1}function os(e,t,n,r){if(50<Fu)throw Fu=0,rb=null,Error(we(185));Yd(e,n,r),(!(at&2)||e!==hn)&&(e===hn&&(!(at&2)&&(Wm|=n),on===4&&Gi(e,Nn)),ir(e,r),n===1&&at===0&&!(t.mode&1)&&(Xl=Gt()+500,zm&&_o()))}function ir(e,t){var n=e.callbackNode;JF(e,t);var r=pp(e,e===hn?Nn:0);if(r===0)n!==null&&YS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&YS(n),t===1)e.tag===0?X8(z2.bind(null,e)):DD(z2.bind(null,e)),q8(function(){!(at&6)&&_o()}),n=null;else{switch(aD(r)){case 1:n=_1;break;case 4:n=sD;break;case 16:n=hp;break;case 536870912:n=iD;break;default:n=hp}n=EA(n,jA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jA(e,t){if(Hh=-1,Gh=0,at&6)throw Error(we(327));var n=e.callbackNode;if(Al()&&e.callbackNode!==n)return null;var r=pp(e,e===hn?Nn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dp(e,r);else{t=r;var s=at;at|=2;var i=SA();(hn!==e||Nn!==t)&&(ri=null,Xl=Gt()+500,ta(e,t));do try{xz();break}catch(l){NA(e,l)}while(!0);I1(),Tp.current=i,at=s,Qt!==null?t=0:(hn=null,Nn=0,t=on)}if(t!==0){if(t===2&&(s=Ev(e),s!==0&&(r=s,t=sb(e,s))),t===1)throw n=md,ta(e,0),Gi(e,r),ir(e,Gt()),n;if(t===6)Gi(e,r);else{if(s=e.current.alternate,!(r&30)&&!gz(s)&&(t=Dp(e,r),t===2&&(i=Ev(e),i!==0&&(r=i,t=sb(e,i))),t===1))throw n=md,ta(e,0),Gi(e,r),ir(e,Gt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(we(345));case 2:Fo(e,Qn,ri);break;case 3:if(Gi(e,r),(r&130023424)===r&&(t=K1+500-Gt(),10<t)){if(pp(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Un(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$v(Fo.bind(null,e,Qn,ri),t);break}Fo(e,Qn,ri);break;case 4:if(Gi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-is(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mz(r/1960))-r,10<r){e.timeoutHandle=$v(Fo.bind(null,e,Qn,ri),r);break}Fo(e,Qn,ri);break;case 5:Fo(e,Qn,ri);break;default:throw Error(we(329))}}}return ir(e,Gt()),e.callbackNode===n?jA.bind(null,e):null}function sb(e,t){var n=$u;return e.current.memoizedState.isDehydrated&&(ta(e,t).flags|=256),e=Dp(e,t),e!==2&&(t=Qn,Qn=n,t!==null&&ib(t)),e}function ib(e){Qn===null?Qn=e:Qn.push.apply(Qn,e)}function gz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!cs(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gi(e,t){for(t&=~Z1,t&=~Wm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-is(t),r=1<<n;e[n]=-1,t&=~r}}function z2(e){if(at&6)throw Error(we(327));Al();var t=pp(e,0);if(!(t&1))return ir(e,Gt()),null;var n=Dp(e,t);if(e.tag!==0&&n===2){var r=Ev(e);r!==0&&(t=r,n=sb(e,r))}if(n===1)throw n=md,ta(e,0),Gi(e,t),ir(e,Gt()),n;if(n===6)throw Error(we(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fo(e,Qn,ri),ir(e,Gt()),null}function X1(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(Xl=Gt()+500,zm&&_o())}}function ya(e){Ki!==null&&Ki.tag===0&&!(at&6)&&Al();var t=at;at|=1;var n=$r.transition,r=pt;try{if($r.transition=null,pt=1,e)return e()}finally{pt=r,$r.transition=n,at=t,!(at&6)&&_o()}}function J1(){lr=yl.current,Pt(yl)}function ta(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,G8(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(D1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vp();break;case 3:Zl(),Pt(rr),Pt(Mn),B1();break;case 5:z1(r);break;case 4:Zl();break;case 13:Pt(Rt);break;case 19:Pt(Rt);break;case 10:R1(r.type._context);break;case 22:case 23:J1()}n=n.return}if(hn=e,Qt=e=ao(e.current,null),Nn=lr=t,on=0,md=null,Z1=Wm=ga=0,Qn=$u=null,qo!==null){for(t=0;t<qo.length;t++)if(n=qo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}qo=null}return e}function NA(e,t){do{var n=Qt;try{if(I1(),Vh.current=Pp,Cp){for(var r=Ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Cp=!1}if(ma=0,dn=sn=Ot=null,Ru=!1,fd=0,Y1.current=null,n===null||n.return===null){on=1,md=t,Qt=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=Nn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=C2(o);if(y!==null){y.flags&=-257,P2(y,o,l,i,t),y.mode&1&&k2(i,d,t),t=y,u=d;var w=t.updateQueue;if(w===null){var b=new Set;b.add(u),t.updateQueue=b}else w.add(u);break e}else{if(!(t&1)){k2(i,d,t),Q1();break e}u=Error(we(426))}}else if(Et&&l.mode&1){var N=C2(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),P2(N,o,l,i,t),A1(Kl(u,l));break e}}i=u=Kl(u,l),on!==4&&(on=2),$u===null?$u=[i]:$u.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=aA(i,u,t);b2(i,v);break e;case 1:l=u;var _=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(io===null||!io.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=lA(i,l,t);b2(i,S);break e}}i=i.return}while(i!==null)}CA(n)}catch(P){t=P,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function SA(){var e=Tp.current;return Tp.current=Pp,e===null?Pp:e}function Q1(){(on===0||on===3||on===2)&&(on=4),hn===null||!(ga&268435455)&&!(Wm&268435455)||Gi(hn,Nn)}function Dp(e,t){var n=at;at|=2;var r=SA();(hn!==e||Nn!==t)&&(ri=null,ta(e,t));do try{yz();break}catch(s){NA(e,s)}while(!0);if(I1(),at=n,Tp.current=r,Qt!==null)throw Error(we(261));return hn=null,Nn=0,on}function yz(){for(;Qt!==null;)kA(Qt)}function xz(){for(;Qt!==null&&!UF();)kA(Qt)}function kA(e){var t=TA(e.alternate,e,lr);e.memoizedProps=e.pendingProps,t===null?CA(e):Qt=t,Y1.current=null}function CA(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dz(n,t),n!==null){n.flags&=32767,Qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,Qt=null;return}}else if(n=uz(n,t,lr),n!==null){Qt=n;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);on===0&&(on=5)}function Fo(e,t,n){var r=pt,s=$r.transition;try{$r.transition=null,pt=1,vz(e,t,n,r)}finally{$r.transition=s,pt=r}return null}function vz(e,t,n,r){do Al();while(Ki!==null);if(at&6)throw Error(we(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(we(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(QF(e,i),e===hn&&(Qt=hn=null,Nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jf||(Jf=!0,EA(hp,function(){return Al(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$r.transition,$r.transition=null;var o=pt;pt=1;var l=at;at|=4,Y1.current=null,hz(e,n),wA(n,e),F8(Rv),mp=!!Iv,Rv=Iv=null,e.current=n,pz(n),WF(),at=l,pt=o,$r.transition=i}else e.current=n;if(Jf&&(Jf=!1,Ki=e,Mp=s),i=e.pendingLanes,i===0&&(io=null),qF(n.stateNode),ir(e,Gt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ep)throw Ep=!1,e=nb,nb=null,e;return Mp&1&&e.tag!==0&&Al(),i=e.pendingLanes,i&1?e===rb?Fu++:(Fu=0,rb=e):Fu=0,_o(),null}function Al(){if(Ki!==null){var e=aD(Mp),t=$r.transition,n=pt;try{if($r.transition=null,pt=16>e?16:e,Ki===null)var r=!1;else{if(e=Ki,Ki=null,Mp=0,at&6)throw Error(we(331));var s=at;for(at|=4,Ee=e.current;Ee!==null;){var i=Ee,o=i.child;if(Ee.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(Ee=d;Ee!==null;){var f=Ee;switch(f.tag){case 0:case 11:case 15:Ou(8,f,i)}var h=f.child;if(h!==null)h.return=f,Ee=h;else for(;Ee!==null;){f=Ee;var p=f.sibling,y=f.return;if(xA(f),f===d){Ee=null;break}if(p!==null){p.return=y,Ee=p;break}Ee=y}}}var w=i.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}Ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ee=o;else e:for(;Ee!==null;){if(i=Ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ou(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ee=v;break e}Ee=i.return}}var _=e.current;for(Ee=_;Ee!==null;){o=Ee;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ee=j;else e:for(o=_;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Um(9,l)}}catch(P){Vt(l,l.return,P)}if(l===o){Ee=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Ee=S;break e}Ee=l.return}}if(at=s,_o(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(Im,e)}catch{}r=!0}return r}finally{pt=n,$r.transition=t}}return!1}function B2(e,t,n){t=Kl(n,t),t=aA(e,t,1),e=so(e,t,1),t=Un(),e!==null&&(Yd(e,1,t),ir(e,t))}function Vt(e,t,n){if(e.tag===3)B2(e,e,n);else for(;t!==null;){if(t.tag===3){B2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){e=Kl(n,e),e=lA(t,e,1),t=so(t,e,1),e=Un(),t!==null&&(Yd(t,1,e),ir(t,e));break}}t=t.return}}function bz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Un(),e.pingedLanes|=e.suspendedLanes&n,hn===e&&(Nn&n)===n&&(on===4||on===3&&(Nn&130023424)===Nn&&500>Gt()-K1?ta(e,0):Z1|=n),ir(e,t)}function PA(e,t){t===0&&(e.mode&1?(t=Vf,Vf<<=1,!(Vf&130023424)&&(Vf=4194304)):t=1);var n=Un();e=bi(e,t),e!==null&&(Yd(e,t,n),ir(e,n))}function wz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PA(e,n)}function _z(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(we(314))}r!==null&&r.delete(t),PA(e,n)}var TA;TA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rr.current)er=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return er=!1,cz(e,t,n);er=!!(e.flags&131072)}else er=!1,Et&&t.flags&1048576&&AD(t,_p,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wh(e,t),e=t.pendingProps;var s=Gl(t,Mn.current);Dl(t,n),s=U1(null,t,r,e,s,n);var i=W1();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(r)?(i=!0,bp(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$1(t),s.updater=Vm,t.stateNode=s,s._reactInternals=t,Hv(t,r,e,n),t=Yv(null,t,r,!0,i,n)):(t.tag=0,Et&&i&&M1(t),$n(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wh(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Nz(r),e=Jr(r,e),s){case 0:t=qv(null,t,r,e,n);break e;case 1:t=M2(null,t,r,e,n);break e;case 11:t=T2(null,t,r,e,n);break e;case 14:t=E2(null,t,r,Jr(r.type,e),n);break e}throw Error(we(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jr(r,s),qv(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jr(r,s),M2(e,t,r,s,n);case 3:e:{if(fA(t),e===null)throw Error(we(387));r=t.pendingProps,i=t.memoizedState,s=i.element,FD(e,t),Sp(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Kl(Error(we(423)),t),t=D2(e,t,r,n,s);break e}else if(r!==s){s=Kl(Error(we(424)),t),t=D2(e,t,r,n,s);break e}else for(fr=ro(t.stateNode.containerInfo.firstChild),pr=t,Et=!0,ts=null,n=OD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ql(),r===s){t=wi(e,t,n);break e}$n(e,t,r,n)}t=t.child}return t;case 5:return zD(t),e===null&&Vv(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ov(r,s)?o=null:i!==null&&Ov(r,i)&&(t.flags|=32),dA(e,t),$n(e,t,o,n),t.child;case 6:return e===null&&Vv(t),null;case 13:return hA(e,t,n);case 4:return F1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yl(t,null,r,n):$n(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jr(r,s),T2(e,t,r,s,n);case 7:return $n(e,t,t.pendingProps,n),t.child;case 8:return $n(e,t,t.pendingProps.children,n),t.child;case 12:return $n(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,_t(jp,r._currentValue),r._currentValue=o,i!==null)if(cs(i.value,o)){if(i.children===s.children&&!rr.current){t=wi(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=hi(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Uv(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(we(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uv(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$n(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Dl(t,n),s=Ur(s),r=r(s),t.flags|=1,$n(e,t,r,n),t.child;case 14:return r=t.type,s=Jr(r,t.pendingProps),s=Jr(r.type,s),E2(e,t,r,s,n);case 15:return cA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jr(r,s),Wh(e,t),t.tag=1,sr(r)?(e=!0,bp(t)):e=!1,Dl(t,n),oA(t,r,s),Hv(t,r,s,n),Yv(null,t,r,!0,e,n);case 19:return pA(e,t,n);case 22:return uA(e,t,n)}throw Error(we(156,t.tag))};function EA(e,t){return rD(e,t)}function jz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(e,t,n,r){return new jz(e,t,n,r)}function e_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nz(e){if(typeof e=="function")return e_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===v1)return 11;if(e===b1)return 14}return 2}function ao(e,t){var n=e.alternate;return n===null?(n=Ar(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qh(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")e_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case al:return na(n.children,s,i,t);case x1:o=8,s|=8;break;case mv:return e=Ar(12,n,t,s|2),e.elementType=mv,e.lanes=i,e;case gv:return e=Ar(13,n,t,s),e.elementType=gv,e.lanes=i,e;case yv:return e=Ar(19,n,t,s),e.elementType=yv,e.lanes=i,e;case zM:return Hm(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $M:o=10;break e;case FM:o=9;break e;case v1:o=11;break e;case b1:o=14;break e;case Ui:o=16,r=null;break e}throw Error(we(130,e==null?e:typeof e,""))}return t=Ar(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function na(e,t,n,r){return e=Ar(7,e,r,t),e.lanes=n,e}function Hm(e,t,n,r){return e=Ar(22,e,r,t),e.elementType=zM,e.lanes=n,e.stateNode={isHidden:!1},e}function uy(e,t,n){return e=Ar(6,e,null,t),e.lanes=n,e}function dy(e,t,n){return t=Ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sz(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H0(0),this.expirationTimes=H0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function t_(e,t,n,r,s,i,o,l,u){return e=new Sz(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ar(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$1(i),e}function kz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ol,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function MA(e){if(!e)return go;e=e._reactInternals;e:{if(Pa(e)!==e||e.tag!==1)throw Error(we(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(e.tag===1){var n=e.type;if(sr(n))return MD(e,n,t)}return t}function DA(e,t,n,r,s,i,o,l,u){return e=t_(n,r,!0,e,s,i,o,l,u),e.context=MA(null),n=e.current,r=Un(),s=oo(n),i=hi(r,s),i.callback=t??null,so(n,i,s),e.current.lanes=s,Yd(e,s,r),ir(e,r),e}function Gm(e,t,n,r){var s=t.current,i=Un(),o=oo(s);return n=MA(n),t.context===null?t.context=n:t.pendingContext=n,t=hi(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=so(s,t,o),e!==null&&(os(e,s,o,i),Bh(e,s,o)),o}function Ap(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function V2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function n_(e,t){V2(e,t),(e=e.alternate)&&V2(e,t)}function Cz(){return null}var AA=typeof reportError=="function"?reportError:function(e){console.error(e)};function r_(e){this._internalRoot=e}qm.prototype.render=r_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(we(409));Gm(e,t,null,null)};qm.prototype.unmount=r_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ya(function(){Gm(null,e,null,null)}),t[vi]=null}};function qm(e){this._internalRoot=e}qm.prototype.unstable_scheduleHydration=function(e){if(e){var t=uD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hi.length&&t!==0&&t<Hi[n].priority;n++);Hi.splice(n,0,e),n===0&&fD(e)}};function s_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ym(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U2(){}function Pz(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Ap(o);i.call(d)}}var o=DA(t,r,e,0,null,!1,!1,"",U2);return e._reactRootContainer=o,e[vi]=o.current,ad(e.nodeType===8?e.parentNode:e),ya(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Ap(u);l.call(d)}}var u=t_(e,0,!1,null,null,!1,!1,"",U2);return e._reactRootContainer=u,e[vi]=u.current,ad(e.nodeType===8?e.parentNode:e),ya(function(){Gm(t,u,n,r)}),u}function Zm(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Ap(o);l.call(u)}}Gm(t,o,e,s)}else o=Pz(n,t,e,s,r);return Ap(o)}lD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ku(t.pendingLanes);n!==0&&(j1(t,n|1),ir(t,Gt()),!(at&6)&&(Xl=Gt()+500,_o()))}break;case 13:ya(function(){var r=bi(e,1);if(r!==null){var s=Un();os(r,e,1,s)}}),n_(e,1)}};N1=function(e){if(e.tag===13){var t=bi(e,134217728);if(t!==null){var n=Un();os(t,e,134217728,n)}n_(e,134217728)}};cD=function(e){if(e.tag===13){var t=oo(e),n=bi(e,t);if(n!==null){var r=Un();os(n,e,t,r)}n_(e,t)}};uD=function(){return pt};dD=function(e,t){var n=pt;try{return pt=e,t()}finally{pt=n}};Cv=function(e,t,n){switch(t){case"input":if(bv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fm(r);if(!s)throw Error(we(90));VM(r),bv(r,s)}}}break;case"textarea":WM(e,n);break;case"select":t=n.value,t!=null&&Pl(e,!!n.multiple,t,!1)}};XM=X1;JM=ya;var Tz={usingClientEntryPoint:!1,Events:[Kd,dl,Fm,ZM,KM,X1]},lu={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ez={bundleType:lu.bundleType,version:lu.version,rendererPackageName:lu.rendererPackageName,rendererConfig:lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tD(e),e===null?null:e.stateNode},findFiberByHostInstance:lu.findFiberByHostInstance||Cz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{Im=Qf.inject(Ez),Ms=Qf}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tz;vr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s_(t))throw Error(we(200));return kz(e,t,null,n)};vr.createRoot=function(e,t){if(!s_(e))throw Error(we(299));var n=!1,r="",s=AA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=t_(e,1,!1,null,null,n,!1,r,s),e[vi]=t.current,ad(e.nodeType===8?e.parentNode:e),new r_(t)};vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(we(188)):(e=Object.keys(e).join(","),Error(we(268,e)));return e=tD(t),e=e===null?null:e.stateNode,e};vr.flushSync=function(e){return ya(e)};vr.hydrate=function(e,t,n){if(!Ym(t))throw Error(we(200));return Zm(null,e,t,!0,n)};vr.hydrateRoot=function(e,t,n){if(!s_(e))throw Error(we(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=AA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=DA(t,null,e,1,n??null,s,!1,i,o),e[vi]=t.current,ad(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new qm(t)};vr.render=function(e,t,n){if(!Ym(t))throw Error(we(200));return Zm(null,e,t,!1,n)};vr.unmountComponentAtNode=function(e){if(!Ym(e))throw Error(we(40));return e._reactRootContainer?(ya(function(){Zm(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0):!1};vr.unstable_batchedUpdates=X1;vr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ym(n))throw Error(we(200));if(e==null||e._reactInternals===void 0)throw Error(we(38));return Zm(e,t,n,!1,r)};vr.version="18.3.1-next-f1338f8080-20240426";function LA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LA)}catch(e){console.error(e)}}LA(),LM.exports=vr;var Di=LM.exports;const IA=gn(Di);var W2=Di;hv.createRoot=W2.createRoot,hv.hydrateRoot=W2.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H2="popstate";function Mz(e={}){function t(s,i){let{pathname:o="/",search:l="",hash:u=""}=Ta(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ob("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");l=d===-1?u:u.slice(0,d)}return l+"#"+(typeof i=="string"?i:gd(i))}function r(s,i){Hr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Az(t,n,r,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dz(){return Math.random().toString(36).substring(2,10)}function G2(e,t){return{usr:e.state,key:e.key,idx:t}}function ob(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ta(t):t,state:n,key:t&&t.key||r||Dz()}}function gd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ta(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Az(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function h(){l="POP";let N=f(),v=N==null?null:N-d;d=N,u&&u({action:l,location:b.location,delta:v})}function p(N,v){l="PUSH";let _=ob(b.location,N,v);n&&n(_,N),d=f()+1;let j=G2(_,d),S=b.createHref(_);try{o.pushState(j,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(S)}i&&u&&u({action:l,location:b.location,delta:1})}function y(N,v){l="REPLACE";let _=ob(b.location,N,v);n&&n(_,N),d=f();let j=G2(_,d),S=b.createHref(_);o.replaceState(j,"",S),i&&u&&u({action:l,location:b.location,delta:0})}function w(N){return Lz(N)}let b={get action(){return l},get location(){return e(s,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(H2,h),u=N,()=>{s.removeEventListener(H2,h),u=null}},createHref(N){return t(s,N)},createURL:w,encodeLocation(N){let v=w(N);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:y,go(N){return o.go(N)}};return b}function Lz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:gd(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RA(e,t,n="/"){return Iz(e,t,n,!1)}function Iz(e,t,n,r){let s=typeof t=="string"?Ta(t):t,i=_i(s.pathname||"/",n);if(i==null)return null;let o=OA(e);Rz(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=qz(i);l=Hz(o[u],d,r)}return l}function OA(e,t=[],n=[],r="",s=!1){let i=(o,l,u=s,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Dt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=pi([r,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(Dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),OA(o.children,t,p,h,u)),!(o.path==null&&!o.index)&&t.push({path:h,score:Uz(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of $A(o.path))i(o,l,!0,d)}),t}function $A(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=$A(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Rz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Oz=/^:[\w-]+$/,$z=3,Fz=2,zz=1,Bz=10,Vz=-2,q2=e=>e==="*";function Uz(e,t){let n=e.split("/"),r=n.length;return n.some(q2)&&(r+=Vz),t&&(r+=Fz),n.filter(s=>!q2(s)).reduce((s,i)=>s+(Oz.test(i)?$z:i===""?zz:Bz),r)}function Wz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Hz(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=Lp({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),p=u.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=Lp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:pi([i,h.pathname]),pathnameBase:Xz(pi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=pi([i,h.pathnameBase]))}return o}function Lp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Gz(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:h},p)=>{if(f==="*"){let w=l[p]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[p];return h&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Gz(e,t=!1,n=!0){Hr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function qz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Yz(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ta(e):e;return{pathname:n?n.startsWith("/")?n:Zz(n,t):t,search:Jz(r),hash:Qz(s)}}function Zz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fy(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function i_(e){let t=Kz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function o_(e,t,n,r=!1){let s;typeof e=="string"?s=Ta(e):(s={...e},Dt(!s.pathname||!s.pathname.includes("?"),fy("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),fy("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),fy("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let u=Yz(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var pi=e=>e.join("/").replace(/\/\/+/g,"/"),Xz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function e7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FA=["POST","PUT","PATCH","DELETE"];new Set(FA);var t7=["GET",...FA];new Set(t7);var vc=g.createContext(null);vc.displayName="DataRouter";var Km=g.createContext(null);Km.displayName="DataRouterState";g.createContext(!1);var zA=g.createContext({isTransitioning:!1});zA.displayName="ViewTransition";var n7=g.createContext(new Map);n7.displayName="Fetchers";var r7=g.createContext(null);r7.displayName="Await";var hs=g.createContext(null);hs.displayName="Navigation";var Jd=g.createContext(null);Jd.displayName="Location";var ps=g.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var a_=g.createContext(null);a_.displayName="RouteError";function s7(e,{relative:t}={}){Dt(bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(hs),{hash:s,pathname:i,search:o}=Qd(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:pi([n,i])),r.createHref({pathname:l,search:o,hash:s})}function bc(){return g.useContext(Jd)!=null}function Us(){return Dt(bc(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Jd).location}var BA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VA(e){g.useContext(hs).static||g.useLayoutEffect(e)}function wr(){let{isDataRoute:e}=g.useContext(ps);return e?x7():i7()}function i7(){Dt(bc(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(vc),{basename:t,navigator:n}=g.useContext(hs),{matches:r}=g.useContext(ps),{pathname:s}=Us(),i=JSON.stringify(i_(r)),o=g.useRef(!1);return VA(()=>{o.current=!0}),g.useCallback((u,d={})=>{if(Hr(o.current,BA),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=o_(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:pi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}g.createContext(null);function o7(){let{matches:e}=g.useContext(ps),t=e[e.length-1];return t?t.params:{}}function Qd(e,{relative:t}={}){let{matches:n}=g.useContext(ps),{pathname:r}=Us(),s=JSON.stringify(i_(n));return g.useMemo(()=>o_(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function a7(e,t){return UA(e,t)}function UA(e,t,n,r,s){var _;Dt(bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(hs),{matches:o}=g.useContext(ps),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let j=h&&h.path||"";WA(d,!h||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let p=Us(),y;if(t){let j=typeof t=="string"?Ta(t):t;Dt(f==="/"||((_=j.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),y=j}else y=p;let w=y.pathname||"/",b=w;if(f!=="/"){let j=f.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=RA(e,{pathname:b});Hr(h||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Hr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=f7(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:pi([f,i.encodeLocation?i.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:pi([f,i.encodeLocation?i.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,n,r,s);return t&&v?g.createElement(Jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function l7(){let e=y7(),t=e7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,o)}var c7=g.createElement(l7,null),u7=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(ps.Provider,{value:this.props.routeContext},g.createElement(a_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d7({routeContext:e,match:t,children:n}){let r=g.useContext(vc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(ps.Provider,{value:e},n)}function f7(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,y=!1,w=null,b=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||c7,l&&(u<0&&h===0?(WA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):u===h&&(y=!0,b=f.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,h+1)),v=()=>{let _;return p?_=w:y?_=b:f.route.Component?_=g.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,g.createElement(d7,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(u7,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:v(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):v()},null)}function l_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h7(e){let t=g.useContext(vc);return Dt(t,l_(e)),t}function p7(e){let t=g.useContext(Km);return Dt(t,l_(e)),t}function m7(e){let t=g.useContext(ps);return Dt(t,l_(e)),t}function c_(e){let t=m7(e),n=t.matches[t.matches.length-1];return Dt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function g7(){return c_("useRouteId")}function y7(){var r;let e=g.useContext(a_),t=p7("useRouteError"),n=c_("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function x7(){let{router:e}=h7("useNavigate"),t=c_("useNavigate"),n=g.useRef(!1);return VA(()=>{n.current=!0}),g.useCallback(async(s,i={})=>{Hr(n.current,BA),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Y2={};function WA(e,t,n){!t&&!Y2[e]&&(Y2[e]=!0,Hr(!1,n))}g.memo(v7);function v7({routes:e,future:t,state:n,unstable_onError:r}){return UA(e,void 0,n,r,t)}function Yh({to:e,replace:t,state:n,relative:r}){Dt(bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=g.useContext(hs);Hr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=g.useContext(ps),{pathname:o}=Us(),l=wr(),u=o_(e,i_(i),o,r==="path"),d=JSON.stringify(u);return g.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function Zn(e){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b7({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Dt(!bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Ta(n));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=n,y=g.useMemo(()=>{let w=_i(u,o);return w==null?null:{location:{pathname:w,search:d,hash:f,state:h,key:p},navigationType:r}},[o,u,d,f,h,p,r]);return Hr(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(hs.Provider,{value:l},g.createElement(Jd.Provider,{children:t,value:y}))}function w7({children:e,location:t}){return a7(ab(e),t)}function ab(e,t=[]){let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let i=[...t,s];if(r.type===g.Fragment){n.push.apply(n,ab(r.props.children,i));return}Dt(r.type===Zn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ab(r.props.children,i)),n.push(o)}),n}var Zh="get",Kh="application/x-www-form-urlencoded";function Xm(e){return e!=null&&typeof e.tagName=="string"}function _7(e){return Xm(e)&&e.tagName.toLowerCase()==="button"}function j7(e){return Xm(e)&&e.tagName.toLowerCase()==="form"}function N7(e){return Xm(e)&&e.tagName.toLowerCase()==="input"}function S7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k7(e,t){return e.button===0&&(!t||t==="_self")&&!S7(e)}var eh=null;function C7(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var P7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hy(e){return e!=null&&!P7.has(e)?(Hr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kh}"`),null):e}function T7(e,t){let n,r,s,i,o;if(j7(e)){let l=e.getAttribute("action");r=l?_i(l,t):null,n=e.getAttribute("method")||Zh,s=hy(e.getAttribute("enctype"))||Kh,i=new FormData(e)}else if(_7(e)||N7(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?_i(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Zh,s=hy(e.getAttribute("formenctype"))||hy(l.getAttribute("enctype"))||Kh,i=new FormData(l,e),!C7()){let{name:d,type:f,value:h}=e;if(f==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,h)}}else{if(Xm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zh,r=null,s=Kh,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function u_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function E7(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&_i(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function M7(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D7(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function A7(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await M7(i,n);return o.links?o.links():[]}return[]}));return O7(r.flat(1).filter(D7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Z2(e,t,n,r,s,i){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>{var f;return n[d].pathname!==u.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):i==="data"?t.filter((u,d)=>{var h;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function L7(e,t,{includeHydrateFallback:n}={}){return I7(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function I7(e){return[...new Set(e)]}function R7(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function O7(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(R7(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function HA(){let e=g.useContext(vc);return u_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $7(){let e=g.useContext(Km);return u_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var d_=g.createContext(void 0);d_.displayName="FrameworkContext";function GA(){let e=g.useContext(d_);return u_(e,"You must render this element inside a <HydratedRouter> element"),e}function F7(e,t){let n=g.useContext(d_),[r,s]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=t,p=g.useRef(null);g.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=v=>{v.forEach(_=>{o(_.isIntersecting)})},N=new IntersectionObserver(b,{threshold:.5});return p.current&&N.observe(p.current),()=>{N.disconnect()}}},[e]),g.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let y=()=>{s(!0)},w=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,p,{}]:[i,p,{onFocus:cu(l,y),onBlur:cu(u,w),onMouseEnter:cu(d,y),onMouseLeave:cu(f,w),onTouchStart:cu(h,y)}]:[!1,p,{}]}function cu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function z7({page:e,...t}){let{router:n}=HA(),r=g.useMemo(()=>RA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?g.createElement(V7,{page:e,matches:r,...t}):null}function B7(e){let{manifest:t,routeModules:n}=GA(),[r,s]=g.useState([]);return g.useEffect(()=>{let i=!1;return A7(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function V7({page:e,matches:t,...n}){let r=Us(),{manifest:s,routeModules:i}=GA(),{basename:o}=HA(),{loaderData:l,matches:u}=$7(),d=g.useMemo(()=>Z2(e,t,u,s,r,"data"),[e,t,u,s,r]),f=g.useMemo(()=>Z2(e,t,u,s,r,"assets"),[e,t,u,s,r]),h=g.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,b=!1;if(t.forEach(v=>{var j;let _=s.routes[v.route.id];!_||!_.hasLoader||(!d.some(S=>S.route.id===v.route.id)&&v.route.id in l&&((j=i[v.route.id])!=null&&j.shouldRevalidate)||_.hasClientLoader?b=!0:w.add(v.route.id))}),w.size===0)return[];let N=E7(e,o,"data");return b&&w.size>0&&N.searchParams.set("_routes",t.filter(v=>w.has(v.route.id)).map(v=>v.route.id).join(",")),[N.pathname+N.search]},[o,l,r,s,d,t,e,i]),p=g.useMemo(()=>L7(f,s),[f,s]),y=B7(f);return g.createElement(g.Fragment,null,h.map(w=>g.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),p.map(w=>g.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:b})=>g.createElement("link",{key:w,nonce:n.nonce,...b})))}function U7(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qA&&(window.__reactRouterVersion="7.9.5")}catch{}function W7({basename:e,children:t,window:n}){let r=g.useRef();r.current==null&&(r.current=Mz({window:n,v5Compat:!0}));let s=r.current,[i,o]=g.useState({action:s.action,location:s.location}),l=g.useCallback(u=>{g.startTransition(()=>o(u))},[o]);return g.useLayoutEffect(()=>s.listen(l),[s,l]),g.createElement(b7,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var YA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZA=g.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:h,...p},y){let{basename:w}=g.useContext(hs),b=typeof d=="string"&&YA.test(d),N,v=!1;if(typeof d=="string"&&b&&(N=d,qA))try{let D=new URL(window.location.href),R=d.startsWith("//")?new URL(D.protocol+d):new URL(d),F=_i(R.pathname,w);R.origin===D.origin&&F!=null?d=F+R.search+R.hash:v=!0}catch{Hr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=s7(d,{relative:s}),[j,S,P]=F7(r,p),E=Y7(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:s,viewTransition:h});function C(D){t&&t(D),D.defaultPrevented||E(D)}let T=g.createElement("a",{...p,...P,href:N||_,onClick:v||i?t:C,ref:U7(y,S),target:u,"data-discover":!b&&n==="render"?"true":void 0});return j&&!b?g.createElement(g.Fragment,null,T,g.createElement(z7,{page:_})):T});ZA.displayName="Link";var H7=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:u,...d},f){let h=Qd(o,{relative:d.relative}),p=Us(),y=g.useContext(Km),{navigator:w,basename:b}=g.useContext(hs),N=y!=null&&Q7(h)&&l===!0,v=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,_=p.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),j=j?j.toLowerCase():null,v=v.toLowerCase()),j&&b&&(j=_i(j,b)||j);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let P=_===v||!s&&_.startsWith(v)&&_.charAt(S)==="/",E=j!=null&&(j===v||!s&&j.startsWith(v)&&j.charAt(v.length)==="/"),C={isActive:P,isPending:E,isTransitioning:N},T=P?t:void 0,D;typeof r=="function"?D=r(C):D=[r,P?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(C):i;return g.createElement(ZA,{...d,"aria-current":T,className:D,ref:f,style:R,to:o,viewTransition:l},typeof u=="function"?u(C):u)});H7.displayName="NavLink";var G7=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Zh,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:h,...p},y)=>{let w=X7(),b=J7(l,{relative:d}),N=o.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&YA.test(l),_=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let S=j.nativeEvent.submitter,P=(S==null?void 0:S.getAttribute("formmethod"))||o;w(S||j.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:s,state:i,relative:d,preventScrollReset:f,viewTransition:h})};return g.createElement("form",{ref:y,method:N,action:b,onSubmit:r?u:_,...p,"data-discover":!v&&e==="render"?"true":void 0})});G7.displayName="Form";function q7(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(e){let t=g.useContext(vc);return Dt(t,q7(e)),t}function Y7(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=wr(),u=Us(),d=Qd(e,{relative:i});return g.useCallback(f=>{if(k7(f,t)){f.preventDefault();let h=n!==void 0?n:gd(u)===gd(d);l(e,{replace:h,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,l,d,n,r,t,e,s,i,o])}var Z7=0,K7=()=>`__${String(++Z7)}__`;function X7(){let{router:e}=KA("useSubmit"),{basename:t}=g.useContext(hs),n=g7();return g.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:u,body:d}=T7(r,t);if(s.navigate===!1){let f=s.fetcherKey||K7();await e.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function J7(e,{relative:t}={}){let{basename:n}=g.useContext(hs),r=g.useContext(ps);Dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Qd(e||".",{relative:t})},o=Us();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:pi([n,i.pathname])),gd(i)}function Q7(e,{relative:t}={}){let n=g.useContext(zA);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KA("useViewTransitionState"),s=Qd(e,{relative:t});if(!n.isTransitioning)return!1;let i=_i(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=_i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lp(s.pathname,o)!=null||Lp(s.pathname,i)!=null}const f_=g.createContext({});function ef(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const h_=typeof window<"u",p_=h_?g.useLayoutEffect:g.useEffect,Jm=g.createContext(null);function m_(e,t){e.indexOf(t)===-1&&e.push(t)}function Qm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ji=(e,t,n)=>n>t?t:n<e?e:n;let g_=()=>{};const Ni={},XA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function JA(e){return typeof e=="object"&&e!==null}const QA=e=>/^0[^.\s]+$/u.test(e);function y_(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fr=e=>e,eB=(e,t)=>n=>t(e(n)),tf=(...e)=>e.reduce(eB),Jl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class x_{constructor(){this.subscriptions=[]}add(t){return m_(this.subscriptions,t),()=>Qm(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const as=e=>e*1e3,Lr=e=>e/1e3;function eL(e,t){return t?e*(1e3/t):0}const tB=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},tL=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,nB=1e-7,rB=12;function sB(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=tL(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>nB&&++l<rB);return o}function nf(e,t,n,r){if(e===t&&n===r)return Fr;const s=i=>sB(i,0,1,e,n);return i=>i===0||i===1?i:tL(s(i),t,r)}const nL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rL=e=>t=>1-e(1-t),sL=nf(.33,1.53,.69,.99),v_=rL(sL),iL=nL(v_),oL=e=>(e*=2)<1?.5*v_(e):.5*(2-Math.pow(2,-10*(e-1))),b_=e=>1-Math.sin(Math.acos(e)),aL=rL(b_),lL=nL(b_),iB=nf(.42,0,1,1),oB=nf(0,0,.58,1),cL=nf(.42,0,.58,1),uL=e=>Array.isArray(e)&&typeof e[0]!="number";function dL(e,t){return uL(e)?e[tB(0,e.length,t)]:e}const fL=e=>Array.isArray(e)&&typeof e[0]=="number",aB={linear:Fr,easeIn:iB,easeInOut:cL,easeOut:oB,circIn:b_,circInOut:lL,circOut:aL,backIn:v_,backInOut:iL,backOut:sL,anticipate:oL},lB=e=>typeof e=="string",K2=e=>{if(fL(e)){g_(e.length===4);const[t,n,r,s]=e;return nf(t,n,r,s)}else if(lB(e))return aB[e];return e},th=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cB(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),e()),f(l)}const d={schedule:(f,h=!1,p=!1)=>{const w=p&&s?n:r;return h&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),n.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const uB=40;function hL(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=th.reduce((j,S)=>(j[S]=cB(i),j),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:h,preRender:p,render:y,postRender:w}=o,b=()=>{const j=Ni.useManualTiming?s.timestamp:performance.now();n=!1,Ni.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,uB),1)),s.timestamp=j,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),f.process(s),h.process(s),p.process(s),y.process(s),w.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(b))},N=()=>{n=!0,r=!0,s.isProcessing||e(b)};return{schedule:th.reduce((j,S)=>{const P=o[S];return j[S]=(E,C=!1,T=!1)=>(n||N(),P.schedule(E,C,T)),j},{}),cancel:j=>{for(let S=0;S<th.length;S++)o[th[S]].cancel(j)},state:s,steps:o}}const{schedule:jt,cancel:Si,state:_n,steps:py}=hL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fr,!0);let Xh;function dB(){Xh=void 0}const tr={now:()=>(Xh===void 0&&tr.set(_n.isProcessing||Ni.useManualTiming?_n.timestamp:performance.now()),Xh),set:e=>{Xh=e,queueMicrotask(dB)}},pL=e=>t=>typeof t=="string"&&t.startsWith(e),w_=pL("--"),fB=pL("var(--"),__=e=>fB(e)?hB.test(e.split("/*")[0].trim()):!1,hB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yd={...wc,transform:e=>ji(0,1,e)},nh={...wc,default:1},zu=e=>Math.round(e*1e5)/1e5,j_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pB(e){return e==null}const mB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,N_=(e,t)=>n=>!!(typeof n=="string"&&mB.test(n)&&n.startsWith(e)||t&&!pB(n)&&Object.prototype.hasOwnProperty.call(n,t)),mL=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(j_);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},gB=e=>ji(0,255,e),my={...wc,transform:e=>Math.round(gB(e))},Zo={test:N_("rgb","red"),parse:mL("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+my.transform(e)+", "+my.transform(t)+", "+my.transform(n)+", "+zu(yd.transform(r))+")"};function yB(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const lb={test:N_("#"),parse:yB,transform:Zo.transform},rf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bi=rf("deg"),As=rf("%"),Ue=rf("px"),xB=rf("vh"),vB=rf("vw"),X2={...As,parse:e=>As.parse(e)/100,transform:e=>As.transform(e*100)},xl={test:N_("hsl","hue"),parse:mL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+As.transform(zu(t))+", "+As.transform(zu(n))+", "+zu(yd.transform(r))+")"},Jt={test:e=>Zo.test(e)||lb.test(e)||xl.test(e),parse:e=>Zo.test(e)?Zo.parse(e):xl.test(e)?xl.parse(e):lb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Zo.transform(e):xl.transform(e),getAnimatableNone:e=>{const t=Jt.parse(e);return t.alpha=0,Jt.transform(t)}},bB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wB(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(j_))==null?void 0:t.length)||0)+(((n=e.match(bB))==null?void 0:n.length)||0)>0}const gL="number",yL="color",_B="var",jB="var(",J2="${}",NB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xd(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(NB,u=>(Jt.test(u)?(r.color.push(i),s.push(yL),n.push(Jt.parse(u))):u.startsWith(jB)?(r.var.push(i),s.push(_B),n.push(u)):(r.number.push(i),s.push(gL),n.push(parseFloat(u))),++i,J2)).split(J2);return{values:n,split:l,indexes:r,types:s}}function xL(e){return xd(e).values}function vL(e){const{split:t,types:n}=xd(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===gL?i+=zu(s[o]):l===yL?i+=Jt.transform(s[o]):i+=s[o]}return i}}const SB=e=>typeof e=="number"?0:Jt.test(e)?Jt.getAnimatableNone(e):e;function kB(e){const t=xL(e);return vL(e)(t.map(SB))}const yo={test:wB,parse:xL,createTransformer:vL,getAnimatableNone:kB};function gy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function CB({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;s=gy(u,l,e+1/3),i=gy(u,l,e),o=gy(u,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ip(e,t){return n=>n>0?t:e}const Mt=(e,t,n)=>e+(t-e)*n,yy=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},PB=[lb,Zo,xl],TB=e=>PB.find(t=>t.test(e));function Q2(e){const t=TB(e);if(!t)return!1;let n=t.parse(e);return t===xl&&(n=CB(n)),n}const ek=(e,t)=>{const n=Q2(e),r=Q2(t);if(!n||!r)return Ip(e,t);const s={...n};return i=>(s.red=yy(n.red,r.red,i),s.green=yy(n.green,r.green,i),s.blue=yy(n.blue,r.blue,i),s.alpha=Mt(n.alpha,r.alpha,i),Zo.transform(s))},cb=new Set(["none","hidden"]);function EB(e,t){return cb.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function MB(e,t){return n=>Mt(e,t,n)}function S_(e){return typeof e=="number"?MB:typeof e=="string"?__(e)?Ip:Jt.test(e)?ek:LB:Array.isArray(e)?bL:typeof e=="object"?Jt.test(e)?ek:DB:Ip}function bL(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>S_(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function DB(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=S_(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function AB(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],l=e.values[o]??0;n[s]=l,r[i]++}return n}const LB=(e,t)=>{const n=yo.createTransformer(t),r=xd(e),s=xd(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?cb.has(e)&&!s.values.length||cb.has(t)&&!r.values.length?EB(e,t):tf(bL(AB(r,s),s.values),n):Ip(e,t)};function wL(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Mt(e,t,n):S_(e)(e,t)}const IB=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>jt.update(t,n),stop:()=>Si(t),now:()=>_n.isProcessing?_n.timestamp:tr.now()}},_L=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Rp=2e4;function k_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Rp;)t+=n,r=e.next(t);return t>=Rp?1/0:t}function jL(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(k_(r),Rp);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Lr(s)}}const RB=5;function NL(e,t,n){const r=Math.max(t-RB,0);return eL(n-e(r),t-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xy=.001;function OB({duration:e=Bt.duration,bounce:t=Bt.bounce,velocity:n=Bt.velocity,mass:r=Bt.mass}){let s,i,o=1-t;o=ji(Bt.minDamping,Bt.maxDamping,o),e=ji(Bt.minDuration,Bt.maxDuration,Lr(e)),o<1?(s=d=>{const f=d*o,h=f*e,p=f-n,y=ub(d,o),w=Math.exp(-h);return xy-p/y*w},i=d=>{const h=d*o*e,p=h*n+n,y=Math.pow(o,2)*Math.pow(d,2)*e,w=Math.exp(-h),b=ub(Math.pow(d,2),o);return(-s(d)+xy>0?-1:1)*((p-y)*w)/b}):(s=d=>{const f=Math.exp(-d*e),h=(d-n)*e+1;return-xy+f*h},i=d=>{const f=Math.exp(-d*e),h=(n-d)*(e*e);return f*h});const l=5/e,u=FB(s,i,l);if(e=as(e),isNaN(u))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:e};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const $B=12;function FB(e,t,n){let r=n;for(let s=1;s<$B;s++)r=r-e(r)/t(r);return r}function ub(e,t){return e*Math.sqrt(1-t*t)}const zB=["duration","bounce"],BB=["stiffness","damping","mass"];function tk(e,t){return t.some(n=>e[n]!==void 0)}function VB(e){let t={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...e};if(!tk(e,BB)&&tk(e,zB))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ji(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Bt.mass,stiffness:s,damping:i}}else{const n=OB(e);t={...t,...n,mass:Bt.mass},t.isResolvedFromDuration=!0}return t}function vd(e=Bt.visualDuration,t=Bt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:f,duration:h,velocity:p,isResolvedFromDuration:y}=VB({...n,velocity:-Lr(n.velocity||0)}),w=p||0,b=d/(2*Math.sqrt(u*f)),N=o-i,v=Lr(Math.sqrt(u/f)),_=Math.abs(N)<5;r||(r=_?Bt.restSpeed.granular:Bt.restSpeed.default),s||(s=_?Bt.restDelta.granular:Bt.restDelta.default);let j;if(b<1){const P=ub(v,b);j=E=>{const C=Math.exp(-b*v*E);return o-C*((w+b*v*N)/P*Math.sin(P*E)+N*Math.cos(P*E))}}else if(b===1)j=P=>o-Math.exp(-v*P)*(N+(w+v*N)*P);else{const P=v*Math.sqrt(b*b-1);j=E=>{const C=Math.exp(-b*v*E),T=Math.min(P*E,300);return o-C*((w+b*v*N)*Math.sinh(T)+P*N*Math.cosh(T))/P}}const S={calculatedDuration:y&&h||null,next:P=>{const E=j(P);if(y)l.done=P>=h;else{let C=P===0?w:0;b<1&&(C=P===0?as(w):NL(j,P,E));const T=Math.abs(C)<=r,D=Math.abs(o-E)<=s;l.done=T&&D}return l.value=l.done?o:E,l},toString:()=>{const P=Math.min(k_(S),Rp),E=_L(C=>S.next(P*C).value,P,30);return P+"ms "+E},toTransition:()=>{}};return S}vd.applyToOptions=e=>{const t=jL(e,100,vd);return e.ease=t.ease,e.duration=as(t.duration),e.type="keyframes",e};function db({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const h=e[0],p={done:!1,value:h},y=T=>l!==void 0&&T<l||u!==void 0&&T>u,w=T=>l===void 0?u:u===void 0||Math.abs(l-T)<Math.abs(u-T)?l:u;let b=n*t;const N=h+b,v=o===void 0?N:o(N);v!==N&&(b=v-h);const _=T=>-b*Math.exp(-T/r),j=T=>v+_(T),S=T=>{const D=_(T),R=j(T);p.done=Math.abs(D)<=d,p.value=p.done?v:R};let P,E;const C=T=>{y(p.value)&&(P=T,E=vd({keyframes:[p.value,w(p.value)],velocity:NL(j,T,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:f}))};return C(0),{calculatedDuration:null,next:T=>{let D=!1;return!E&&P===void 0&&(D=!0,S(T),C(T)),P!==void 0&&T>=P?E.next(T-P):(!D&&S(T),p)}}}function UB(e,t,n){const r=[],s=n||Ni.mix||wL,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||Fr:t;l=tf(u,l)}r.push(l)}return r}function SL(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(g_(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=UB(t,r,s),u=l.length,d=f=>{if(o&&f<e[0])return t[0];let h=0;if(u>1)for(;h<e.length-2&&!(f<e[h+1]);h++);const p=Jl(e[h],e[h+1],f);return l[h](p)};return n?f=>d(ji(e[0],e[i-1],f)):d}function kL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Jl(0,t,r);e.push(Mt(n,1,s))}}function CL(e){const t=[0];return kL(t,e.length-1),t}function WB(e,t){return e.map(n=>n*t)}function HB(e,t){return e.map(()=>t||cL).splice(0,e.length-1)}function Bu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=uL(r)?r.map(K2):K2(r),i={done:!1,value:t[0]},o=WB(n&&n.length===t.length?n:CL(t),e),l=SL(o,t,{ease:Array.isArray(s)?s:HB(t,s)});return{calculatedDuration:e,next:u=>(i.value=l(u),i.done=u>=e,i)}}const GB=e=>e!==null;function C_(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(GB),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const qB={decay:db,inertia:db,tween:Bu,keyframes:Bu,spring:vd};function PL(e){typeof e.type=="string"&&(e.type=qB[e.type])}class P_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const YB=e=>e/100;class eg extends P_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==tr.now()&&this.tick(tr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;PL(t);const{type:n=Bu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const u=n||Bu;u!==Bu&&typeof l[0]!="number"&&(this.mixKeyframes=tf(YB,wL(l[0],l[1])),l=[0,100]);const d=u({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=k_(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:h,repeatType:p,repeatDelay:y,type:w,onUpdate:b,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,S=r;if(h){const T=Math.min(this.currentTime,s)/l;let D=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&D--,D=Math.min(D,h+1),!!(D%2)&&(p==="reverse"?(R=1-R,y&&(R-=y/l)):p==="mirror"&&(S=o)),j=ji(0,1,R)*l}const P=_?{done:!1,value:f[0]}:S.next(j);i&&(P.value=i(P.value));let{done:E}=P;!_&&u!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&w!==db&&(P.value=C_(f,this.options,N,this.speed)),b&&b(P.value),C&&this.finish(),P}then(t,n){return this.finished.then(t,n)}get duration(){return Lr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Lr(t)}get time(){return Lr(this.currentTime)}set time(t){var n;t=as(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(tr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Lr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=IB,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function ZB(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ko=e=>e*180/Math.PI,fb=e=>{const t=Ko(Math.atan2(e[1],e[0]));return hb(t)},KB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fb,rotateZ:fb,skewX:e=>Ko(Math.atan(e[1])),skewY:e=>Ko(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hb=e=>(e=e%360,e<0&&(e+=360),e),nk=fb,rk=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sk=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),XB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rk,scaleY:sk,scale:e=>(rk(e)+sk(e))/2,rotateX:e=>hb(Ko(Math.atan2(e[6],e[5]))),rotateY:e=>hb(Ko(Math.atan2(-e[2],e[0]))),rotateZ:nk,rotate:nk,skewX:e=>Ko(Math.atan(e[4])),skewY:e=>Ko(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pb(e){return e.includes("scale")?1:0}function mb(e,t){if(!e||e==="none")return pb(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=XB,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=KB,s=l}if(!s)return pb(t);const i=r[t],o=s[1].split(",").map(QB);return typeof i=="function"?i(o):o[i]}const JB=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return mb(n,t)};function QB(e){return parseFloat(e.trim())}const _c=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jc=new Set(_c),ik=e=>e===wc||e===Ue,eV=new Set(["x","y","z"]),tV=_c.filter(e=>!eV.has(e));function nV(e){const t=[];return tV.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ra={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mb(t,"x"),y:(e,{transform:t})=>mb(t,"y")};ra.translateX=ra.x;ra.translateY=ra.y;const sa=new Set;let gb=!1,yb=!1,xb=!1;function TL(){if(yb){const e=Array.from(sa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=nV(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}yb=!1,gb=!1,sa.forEach(e=>e.complete(xb)),sa.clear()}function EL(){sa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yb=!0)})}function rV(){xb=!0,EL(),TL(),xb=!1}class T_{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(sa.add(this),gb||(gb=!0,jt.read(EL),jt.resolveKeyframes(TL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}ZB(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),sa.delete(this)}cancel(){this.state==="scheduled"&&(sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sV=e=>e.startsWith("--");function iV(e,t,n){sV(t)?e.style.setProperty(t,n):e.style[t]=n}const oV=y_(()=>window.ScrollTimeline!==void 0),aV={};function lV(e,t){const n=y_(e);return()=>aV[t]??n()}const ML=lV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ok={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function DL(e,t){if(e)return typeof e=="function"?ML()?_L(e,t):"ease-out":fL(e)?Pu(e):Array.isArray(e)?e.map(n=>DL(n,t)||ok.easeOut):ok[e]}function cV(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[t]:n};u&&(f.offset=u);const h=DL(l,s);Array.isArray(h)&&(f.easing=h);const p={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),e.animate(f,p)}function E_(e){return typeof e=="function"&&"applyToOptions"in e}function uV({type:e,...t}){return E_(e)&&ML()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class dV extends P_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,g_(typeof t.type!="string");const d=uV(t);this.animation=cV(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=C_(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):iV(n,r,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Lr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Lr(t)}get time(){return Lr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=as(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&oV()?(this.animation.timeline=t,Fr):n(this)}}const AL={anticipate:oL,backInOut:iL,circInOut:lL};function fV(e){return e in AL}function hV(e){typeof e.ease=="string"&&fV(e.ease)&&(e.ease=AL[e.ease])}const ak=10;class pV extends dV{constructor(t){hV(t),PL(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new eg({...o,autoplay:!1}),u=as(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-ak).value,l.sample(u).value,ak),l.stop()}}const lk=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yo.test(e)||e==="0")&&!e.startsWith("url("));function mV(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function gV(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=lk(s,t),l=lk(i,t);return!o||!l?!1:mV(e)||(n==="spring"||E_(n))&&r}function vb(e){e.duration=0,e.type="keyframes"}const yV=new Set(["opacity","clipPath","filter","transform"]),xV=y_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vV(e){var f;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return xV()&&n&&yV.has(n)&&(n!=="transform"||!d)&&!u&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const bV=40;class wV extends P_{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:f,...h}){var w;super(),this.stop=()=>{var b,N;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=tr.now();const p={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:u,motionValue:d,element:f,...h},y=(f==null?void 0:f.KeyframeResolver)||T_;this.keyframeResolver=new y(l,(b,N,v)=>this.onKeyframesResolved(b,N,p,!v),u,d,f),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:f}=r;this.resolvedAt=tr.now(),gV(t,i,o,l)||((Ni.instantAnimations||!u)&&(f==null||f(C_(t,r,n))),t[0]=t[t.length-1],vb(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>bV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!d&&vV(p)?new pV({...p,element:p.motionValue.owner.current}):new eg(p);y.finished.then(()=>this.notifyFinished()).catch(Fr),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),rV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class _V{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return ck(this.animations,"duration")}get iterationDuration(){return ck(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function ck(e,t){let n=0;for(let r=0;r<e.length;r++){const s=e[r][t];s!==null&&s>n&&(n=s)}return n}class jV extends _V{then(t,n){return this.finished.finally(t).then(()=>{})}}const NV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SV(e){const t=NV.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function LL(e,t,n=1){const[r,s]=SV(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return XA(o)?parseFloat(o):o}return __(s)?LL(s,t,n+1):s}function M_(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const IL=new Set(["width","height","top","left","right","bottom",..._c]),kV={test:e=>e==="auto",parse:e=>e},RL=e=>t=>t.test(e),OL=[wc,Ue,As,Bi,vB,xB,kV],uk=e=>OL.find(RL(e));function CV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||QA(e):!0}const PV=new Set(["brightness","contrast","saturate","opacity"]);function TV(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(j_)||[];if(!r)return e;const s=n.replace(r,"");let i=PV.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const EV=/\b([a-z-]*)\(.*?\)/gu,bb={...yo,getAnimatableNone:e=>{const t=e.match(EV);return t?t.map(TV).join(" "):e}},dk={...wc,transform:Math.round},MV={rotate:Bi,rotateX:Bi,rotateY:Bi,rotateZ:Bi,scale:nh,scaleX:nh,scaleY:nh,scaleZ:nh,skew:Bi,skewX:Bi,skewY:Bi,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:yd,originX:X2,originY:X2,originZ:Ue},D_={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...MV,zIndex:dk,fillOpacity:yd,strokeOpacity:yd,numOctaves:dk},DV={...D_,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:bb,WebkitFilter:bb},$L=e=>DV[e];function FL(e,t){let n=$L(e);return n!==bb&&(n=yo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const AV=new Set(["auto","none","0"]);function LV(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!AV.has(i)&&xd(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=FL(n,s)}class IV extends T_{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),__(d))){const f=LL(d,n.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!IL.has(r)||t.length!==2)return;const[s,i]=t,o=uk(s),l=uk(i);if(o!==l)if(ik(o)&&ik(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else ra[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||CV(t[s]))&&r.push(s);r.length&&LV(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ra[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ra[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function zL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const BL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function VL(e){return JA(e)&&"offsetHeight"in e}const fk=30,RV=e=>!isNaN(parseFloat(e)),Vu={current:void 0};class OV{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=tr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=tr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=RV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new x_);const r=this.events[t].add(n);return t==="change"?()=>{r(),jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Vu.current&&Vu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fk);return eL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xa(e,t){return new OV(e,t)}const{schedule:A_}=hL(queueMicrotask,!1),Xr={x:!1,y:!1};function UL(){return Xr.x||Xr.y}function $V(e){return e==="x"||e==="y"?Xr[e]?null:(Xr[e]=!0,()=>{Xr[e]=!1}):Xr.x||Xr.y?null:(Xr.x=Xr.y=!0,()=>{Xr.x=Xr.y=!1})}function WL(e,t){const n=zL(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function hk(e){return!(e.pointerType==="touch"||UL())}function FV(e,t,n={}){const[r,s,i]=WL(e,n),o=l=>{if(!hk(l))return;const{target:u}=l,d=t(u,l);if(typeof d!="function"||!u)return;const f=h=>{hk(h)&&(d(h),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const HL=(e,t)=>t?e===t?!0:HL(e,t.parentElement):!1,L_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,zV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BV(e){return zV.has(e.tagName)||e.tabIndex!==-1}const Jh=new WeakSet;function pk(e){return t=>{t.key==="Enter"&&e(t)}}function vy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VV=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=pk(()=>{if(Jh.has(n))return;vy(n,"down");const s=pk(()=>{vy(n,"up")}),i=()=>vy(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function mk(e){return L_(e)&&!UL()}function UV(e,t,n={}){const[r,s,i]=WL(e,n),o=l=>{const u=l.currentTarget;if(!mk(l))return;Jh.add(u);const d=t(u,l),f=(y,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),Jh.has(u)&&Jh.delete(u),mk(y)&&typeof d=="function"&&d(y,{success:w})},h=y=>{f(y,u===window||u===document||n.useGlobalTarget||HL(u,y.target))},p=y=>{f(y,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),VL(l)&&(l.addEventListener("focus",d=>VV(d,s)),!BV(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function I_(e){return JA(e)&&"ownerSVGElement"in e}function GL(e){return I_(e)&&e.tagName==="svg"}function WV(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],i=e[2+n],o=e[3+n],l=SL(s,i,o);return t?l(r):l}const Ut=e=>!!(e&&e.getVelocity);function HV(e,t,n){const r=e.get();let s=null,i=r,o;const l=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,u=()=>{s&&(s.stop(),s=null)},d=()=>{u(),s=new eg({keyframes:[yk(e.get()),yk(i)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};if(e.attach((f,h)=>{i=f,o=p=>h(gk(p,l)),jt.postRender(d)},u),Ut(t)){const f=t.on("change",p=>e.set(gk(p,l))),h=e.on("destroy",f);return()=>{f(),h()}}return u}function gk(e,t){return t?e+t:e}function yk(e){return typeof e=="number"?e:parseFloat(e)}const GV=[...OL,Jt,yo],qV=e=>GV.find(RL(e)),sf=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function YV(...e){return t=>{let n=!1;const r=e.map(s=>{const i=xk(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():xk(e[s],null)}}}}function ZV(...e){return g.useCallback(YV(...e),e)}class KV extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=VL(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function XV({children:e,isPresent:t,anchorX:n,root:r}){const s=g.useId(),i=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(sf),u=ZV(i,e==null?void 0:e.ref);return g.useInsertionEffect(()=>{const{width:d,height:f,top:h,left:p,right:y}=o.current;if(t||!i.current||!d||!f)return;const w=n==="left"?`left: ${p}`:`right: ${y}`;i.current.dataset.motionPopId=s;const b=document.createElement("style");l&&(b.nonce=l);const N=r??document.head;return N.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{N.contains(b)&&N.removeChild(b)}},[t]),a.jsx(KV,{isPresent:t,childRef:i,sizeRef:o,children:g.cloneElement(e,{ref:u})})}const JV=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:u})=>{const d=ef(QV),f=g.useId();let h=!0,p=g.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:n,custom:s,onExitComplete:y=>{d.set(y,!0);for(const w of d.values())if(!w)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,r]);return i&&h&&(p={...p}),g.useMemo(()=>{d.forEach((y,w)=>d.set(w,!1))},[n]),g.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(XV,{isPresent:n,anchorX:l,root:u,children:e})),a.jsx(Jm.Provider,{value:p,children:e})};function QV(){return new Map}function qL(e=!0){const t=g.useContext(Jm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=g.useId();g.useEffect(()=>{if(e)return s(i)},[e]);const o=g.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const rh=e=>e.key||"";function vk(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const mt=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:u})=>{const[d,f]=qL(o),h=g.useMemo(()=>vk(e),[e]),p=o&&!d?[]:h.map(rh),y=g.useRef(!0),w=g.useRef(h),b=ef(()=>new Map),[N,v]=g.useState(h),[_,j]=g.useState(h);p_(()=>{y.current=!1,w.current=h;for(let E=0;E<_.length;E++){const C=rh(_[E]);p.includes(C)?b.delete(C):b.get(C)!==!0&&b.set(C,!1)}},[_,p.length,p.join("-")]);const S=[];if(h!==N){let E=[...h];for(let C=0;C<_.length;C++){const T=_[C],D=rh(T);p.includes(D)||(E.splice(C,0,T),S.push(T))}return i==="wait"&&S.length&&(E=S),j(vk(E)),v(h),null}const{forceRender:P}=g.useContext(f_);return a.jsx(a.Fragment,{children:_.map(E=>{const C=rh(E),T=o&&!d?!1:h===_||p.includes(C),D=()=>{if(b.has(C))b.set(C,!0);else return;let R=!0;b.forEach(F=>{F||(R=!1)}),R&&(P==null||P(),j(w.current),o&&(f==null||f()),r&&r())};return a.jsx(JV,{isPresent:T,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:u,onExitComplete:T?void 0:D,anchorX:l,children:E},C)})})},YL=g.createContext({strict:!1}),bk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ql={};for(const e in bk)Ql[e]={isEnabled:t=>bk[e].some(n=>!!t[n])};function e9(e){for(const t in e)Ql[t]={...Ql[t],...e[t]}}const t9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Op(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||t9.has(e)}let ZL=e=>!Op(e);function n9(e){typeof e=="function"&&(ZL=t=>t.startsWith("on")?!Op(t):e(t))}try{n9(require("@emotion/is-prop-valid").default)}catch{}function r9(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(ZL(s)||n===!0&&Op(s)||!t&&!Op(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const tg=g.createContext({});function ng(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function bd(e){return typeof e=="string"||Array.isArray(e)}const R_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],O_=["initial",...R_];function rg(e){return ng(e.animate)||O_.some(t=>bd(e[t]))}function KL(e){return!!(rg(e)||e.variants)}function s9(e,t){if(rg(e)){const{initial:n,animate:r}=e;return{initial:n===!1||bd(n)?n:void 0,animate:bd(r)?r:void 0}}return e.inherit!==!1?t:{}}function i9(e){const{initial:t,animate:n}=s9(e,g.useContext(tg));return g.useMemo(()=>({initial:t,animate:n}),[wk(t),wk(n)])}function wk(e){return Array.isArray(e)?e.join(" "):e}const wd={};function o9(e){for(const t in e)wd[t]=e[t],w_(t)&&(wd[t].isCSSVariable=!0)}function XL(e,{layout:t,layoutId:n}){return jc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wd[e]||e==="opacity")}const a9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l9=_c.length;function c9(e,t,n){let r="",s=!0;for(let i=0;i<l9;i++){const o=_c[i],l=e[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=BL(l,D_[o]);if(!u){s=!1;const f=a9[o]||o;r+=`${f}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function $_(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const u in t){const d=t[u];if(jc.has(u)){o=!0;continue}else if(w_(u)){s[u]=d;continue}else{const f=BL(d,D_[u]);u.startsWith("origin")?(l=!0,i[u]=f):r[u]=f}}if(t.transform||(o||n?r.transform=c9(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=i;r.transformOrigin=`${u} ${d} ${f}`}}const F_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JL(e,t,n){for(const r in t)!Ut(t[r])&&!XL(r,n)&&(e[r]=t[r])}function u9({transformTemplate:e},t){return g.useMemo(()=>{const n=F_();return $_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function d9(e,t){const n=e.style||{},r={};return JL(r,n,e),Object.assign(r,u9(e,t)),r}function f9(e,t){const n={},r=d9(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const h9={offset:"stroke-dashoffset",array:"stroke-dasharray"},p9={offset:"strokeDashoffset",array:"strokeDasharray"};function m9(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?h9:p9;e[i.offset]=Ue.transform(-r);const o=Ue.transform(t),l=Ue.transform(n);e[i.array]=`${o} ${l}`}function QL(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},u,d,f){if($_(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&m9(h,s,i,o,!1)}const eI=()=>({...F_(),attrs:{}}),tI=e=>typeof e=="string"&&e.toLowerCase()==="svg";function g9(e,t,n,r){const s=g.useMemo(()=>{const i=eI();return QL(i,t,tI(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};JL(i,e.style,e),s.style={...i,...s.style}}return s}const y9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function z_(e){return typeof e!="string"||e.includes("-")?!1:!!(y9.indexOf(e)>-1||/[A-Z]/u.test(e))}function x9(e,t,n,{latestValues:r},s,i=!1){const l=(z_(e)?g9:f9)(t,r,s,e),u=r9(t,typeof e=="string",i),d=e!==g.Fragment?{...u,...l,ref:n}:{},{children:f}=t,h=g.useMemo(()=>Ut(f)?f.get():f,[f]);return g.createElement(e,{...d,children:h})}function _k(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function B_(e,t,n,r){if(typeof t=="function"){const[s,i]=_k(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=_k(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Qh(e){return Ut(e)?e.get():e}function v9({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:b9(n,r,s,e),renderState:t()}}function b9(e,t,n,r){const s={},i=r(e,{});for(const p in i)s[p]=Qh(i[p]);let{initial:o,animate:l}=e;const u=rg(e),d=KL(e);t&&d&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?l:o;if(h&&typeof h!="boolean"&&!ng(h)){const p=Array.isArray(h)?h:[h];for(let y=0;y<p.length;y++){const w=B_(e,p[y]);if(w){const{transitionEnd:b,transition:N,...v}=w;for(const _ in v){let j=v[_];if(Array.isArray(j)){const S=f?j.length-1:0;j=j[S]}j!==null&&(s[_]=j)}for(const _ in b)s[_]=b[_]}}}return s}const nI=e=>(t,n)=>{const r=g.useContext(tg),s=g.useContext(Jm),i=()=>v9(e,t,r,s);return n?i():ef(i)};function V_(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Ut(r[o])||t.style&&Ut(t.style[o])||XL(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const w9=nI({scrapeMotionValuesFromProps:V_,createRenderState:F_});function rI(e,t,n){const r=V_(e,t,n);for(const s in e)if(Ut(e[s])||Ut(t[s])){const i=_c.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const _9=nI({scrapeMotionValuesFromProps:rI,createRenderState:eI}),j9=Symbol.for("motionComponentSymbol");function vl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function N9(e,t,n){return g.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):vl(n)&&(n.current=r))},[t])}const U_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),S9="framerAppearId",sI="data-"+U_(S9),iI=g.createContext({});function k9(e,t,n,r,s){var b,N;const{visualElement:i}=g.useContext(tg),o=g.useContext(YL),l=g.useContext(Jm),u=g.useContext(sf).reducedMotion,d=g.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,h=g.useContext(iI);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&C9(d.current,n,s,h);const p=g.useRef(!1);g.useInsertionEffect(()=>{f&&p.current&&f.update(n,l)});const y=n[sI],w=g.useRef(!!y&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,y))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,y)));return p_(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),g.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,y)}),w.current=!1),f.enteringChildren=void 0)}),f}function C9(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:oI(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&vl(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:d})}function oI(e){if(e)return e.options.allowProjection!==!1?e.projection:oI(e.parent)}function by(e,{forwardMotionProps:t=!1}={},n,r){n&&e9(n);const s=z_(e)?_9:w9;function i(l,u){let d;const f={...g.useContext(sf),...l,layoutId:P9(l)},{isStatic:h}=f,p=i9(l),y=s(l,h);if(!h&&h_){T9();const w=E9(f);d=w.MeasureLayout,p.visualElement=k9(e,y,f,r,w.ProjectionNode)}return a.jsxs(tg.Provider,{value:p,children:[d&&p.visualElement?a.jsx(d,{visualElement:p.visualElement,...f}):null,x9(e,l,N9(y,p.visualElement,u),y,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=g.forwardRef(i);return o[j9]=e,o}function P9({layoutId:e}){const t=g.useContext(f_).id;return t&&e!==void 0?t+"-"+e:e}function T9(e,t){g.useContext(YL).strict}function E9(e){const{drag:t,layout:n}=Ql;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function M9(e,t){if(typeof Proxy>"u")return by;const n=new Map,r=(i,o)=>by(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,by(o,void 0,e,t)),n.get(o))})}function aI({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function D9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function A9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wy(e){return e===void 0||e===1}function wb({scale:e,scaleX:t,scaleY:n}){return!wy(e)||!wy(t)||!wy(n)}function zo(e){return wb(e)||lI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lI(e){return jk(e.x)||jk(e.y)}function jk(e){return e&&e!=="0%"}function $p(e,t,n){const r=e-n,s=t*r;return n+s}function Nk(e,t,n,r,s){return s!==void 0&&(e=$p(e,s,r)),$p(e,n,r)+t}function _b(e,t=0,n=1,r,s){e.min=Nk(e.min,t,n,r,s),e.max=Nk(e.max,t,n,r,s)}function cI(e,{x:t,y:n}){_b(e.x,t.translate,t.scale,t.originPoint),_b(e.y,n.translate,n.scale,n.originPoint)}const Sk=.999999999999,kk=1.0000000000001;function L9(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&wl(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,cI(e,o)),r&&zo(i.latestValues)&&wl(e,i.latestValues))}t.x<kk&&t.x>Sk&&(t.x=1),t.y<kk&&t.y>Sk&&(t.y=1)}function bl(e,t){e.min=e.min+t,e.max=e.max+t}function Ck(e,t,n,r,s=.5){const i=Mt(e.min,e.max,s);_b(e,t,n,i,r)}function wl(e,t){Ck(e.x,t.x,t.scaleX,t.scale,t.originX),Ck(e.y,t.y,t.scaleY,t.scale,t.originY)}function uI(e,t){return aI(A9(e.getBoundingClientRect(),t))}function I9(e,t,n){const r=uI(e,n),{scroll:s}=t;return s&&(bl(r.x,s.offset.x),bl(r.y,s.offset.y)),r}const Pk=()=>({translate:0,scale:1,origin:0,originPoint:0}),_l=()=>({x:Pk(),y:Pk()}),Tk=()=>({min:0,max:0}),zt=()=>({x:Tk(),y:Tk()}),jb={current:null},dI={current:!1};function R9(){if(dI.current=!0,!!h_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jb.current=e.matches;e.addEventListener("change",t),t()}else jb.current=!1}const _d=new WeakMap;function O9(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ut(s))e.addValue(r,s);else if(Ut(i))e.addValue(r,xa(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,xa(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Ek=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fI{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=T_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=tr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,jt.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=rg(n),this.isVariantNode=KL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const y=h[p];u[p]!==void 0&&Ut(y)&&y.set(u[p])}}mount(t){var n;this.current=t,_d.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),dI.current||R9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Si(this.notifyUpdate),Si(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=jc.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&jt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ql){const n=Ql[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ek.length;r++){const s=Ek[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=O9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(XA(r)||QA(r))?r=parseFloat(r):!qV(r)&&yo.test(n)&&(r=FL(t,n)),this.setBaseTarget(t,Ut(r)?r.get():r)),Ut(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=B_(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ut(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new x_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){A_.render(this.render)}}class hI extends fI{constructor(){super(...arguments),this.KeyframeResolver=IV}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ut(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pI(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function $9(e){return window.getComputedStyle(e)}class mI extends hI{constructor(){super(...arguments),this.type="html",this.renderInstance=pI}readValueFromInstance(t,n){var r;if(jc.has(n))return(r=this.projection)!=null&&r.isProjecting?pb(n):JB(t,n);{const s=$9(t),i=(w_(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return uI(t,n)}build(t,n,r){$_(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return V_(t,n,r)}}const gI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F9(e,t,n,r){pI(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(gI.has(s)?s:U_(s),t.attrs[s])}class yI extends hI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(jc.has(n)){const r=$L(n);return r&&r.default||0}return n=gI.has(n)?n:U_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return rI(t,n,r)}build(t,n,r){QL(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){F9(t,n,r,s)}mount(t){this.isSVGTag=tI(t.tagName),super.mount(t)}}const z9=(e,t)=>z_(e)?new yI(t):new mI(t,{allowProjection:e!==g.Fragment});function Ll(e,t,n){const r=e.getProps();return B_(r,t,n!==void 0?n:r.custom,e)}const Nb=e=>Array.isArray(e);function B9(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xa(n))}function V9(e){return Nb(e)?e[e.length-1]||0:e}function U9(e,t){const n=Ll(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=V9(i[o]);B9(e,o,l)}}function W9(e){return!!(Ut(e)&&e.add)}function Sb(e,t){const n=e.getValue("willChange");if(W9(n))return n.add(t);if(!n&&Ni.WillChange){const r=new Ni.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function xI(e){return e.props[sI]}const H9=e=>e!==null;function G9(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(H9),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const q9={type:"spring",stiffness:500,damping:25,restSpeed:10},Y9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Z9={type:"keyframes",duration:.8},K9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X9=(e,{keyframes:t})=>t.length>2?Z9:jc.has(e)?e.startsWith("scale")?Y9(t[1]):q9:K9;function J9({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const W_=(e,t,n,r={},s,i)=>o=>{const l=M_(r,e)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-as(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};J9(l)||Object.assign(f,X9(e,f)),f.duration&&(f.duration=as(f.duration)),f.repeatDelay&&(f.repeatDelay=as(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(vb(f),f.delay===0&&(h=!0)),(Ni.instantAnimations||Ni.skipAnimations)&&(h=!0,vb(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const p=G9(f.keyframes,l);if(p!==void 0){jt.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new eg(f):new wV(f)};function Q9({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function H_(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f,e.latestValues[f]??null),p=l[f];if(p===void 0||d&&Q9(d,f))continue;const y={delay:n,...M_(i||{},f)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===w&&!y.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const v=xI(e);if(v){const _=window.MotionHandoffAnimation(v,f,jt);_!==null&&(y.startTime=_,b=!0)}}Sb(e,f),h.start(W_(f,h,p,e.shouldReduceMotion&&IL.has(f)?{type:!1}:y,e,b));const N=h.animation;N&&u.push(N)}return o&&Promise.all(u).then(()=>{jt.update(()=>{o&&U9(e,o)})}),u}function vI(e,t,n,r=0,s=1){const i=Array.from(e).sort((d,f)=>d.sortNodePosition(f)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function kb(e,t,n={}){var u;const r=Ll(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(H_(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=s;return eU(e,t,d,f,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>f())}else return Promise.all([i(),o(n.delay)])}function eU(e,t,n=0,r=0,s=0,i=1,o){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(kb(u,t,{...o,delay:n+(typeof r=="function"?0:r)+vI(e.variantChildren,u,r,s,i)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function tU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>kb(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=kb(e,t,n);else{const s=typeof t=="function"?Ll(e,t,n.custom):t;r=Promise.all(H_(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function bI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const nU=O_.length;function wI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?wI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<nU;n++){const r=O_[n],s=e.props[r];(bd(s)||s===!1)&&(t[r]=s)}return t}const rU=[...R_].reverse(),sU=R_.length;function iU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>tU(e,n,r)))}function oU(e){let t=iU(e),n=Mk(),r=!0;const s=u=>(d,f)=>{var p;const h=Ll(e,f,u==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:y,transitionEnd:w,...b}=h;d={...d,...b,...w}}return d};function i(u){t=u(e)}function o(u){const{props:d}=e,f=wI(e.parent)||{},h=[],p=new Set;let y={},w=1/0;for(let N=0;N<sU;N++){const v=rU[N],_=n[v],j=d[v]!==void 0?d[v]:f[v],S=bd(j),P=v===u?_.isActive:null;P===!1&&(w=N);let E=j===f[v]&&j!==d[v]&&S;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...y},!_.isActive&&P===null||!j&&!_.prevProp||ng(j)||typeof j=="boolean")continue;const C=aU(_.prevProp,j);let T=C||v===u&&_.isActive&&!E&&S||N>w&&S,D=!1;const R=Array.isArray(j)?j:[j];let F=R.reduce(s(v),{});P===!1&&(F={});const{prevResolvedValues:A={}}=_,O={...A,...F},$=W=>{T=!0,p.has(W)&&(D=!0,p.delete(W)),_.needsAnimating[W]=!0;const z=e.getValue(W);z&&(z.liveStyle=!1)};for(const W in O){const z=F[W],V=A[W];if(y.hasOwnProperty(W))continue;let q=!1;Nb(z)&&Nb(V)?q=!bI(z,V):q=z!==V,q?z!=null?$(W):p.add(W):z!==void 0&&p.has(W)?$(W):_.protectedKeys[W]=!0}_.prevProp=j,_.prevResolvedValues=F,_.isActive&&(y={...y,...F}),r&&e.blockInitialAnimation&&(T=!1);const K=E&&C;T&&(!K||D)&&h.push(...R.map(W=>{const z={type:v};if(typeof W=="string"&&r&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:V}=e,q=Ll(V,W);if(V.enteringChildren&&q){const{delayChildren:Z}=q.transition||{};z.delay=vI(V.enteringChildren,e,Z)}}return{animation:W,options:z}}))}if(p.size){const N={};if(typeof d.initial!="boolean"){const v=Ll(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(N.transition=v.transition)}p.forEach(v=>{const _=e.getBaseTarget(v),j=e.getValue(v);j&&(j.liveStyle=!0),N[v]=_??null}),h.push({animation:N})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function l(u,d){var h;if(n[u].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(u,d)}),n[u].isActive=d;const f=o(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Mk()}}}function aU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!bI(t,e):!1}function Ao(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mk(){return{animate:Ao(!0),whileInView:Ao(),whileHover:Ao(),whileTap:Ao(),whileDrag:Ao(),whileFocus:Ao(),exit:Ao()}}class jo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lU extends jo{constructor(t){super(t),t.animationState||(t.animationState=oU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ng(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let cU=0;class uU extends jo{constructor(){super(...arguments),this.id=cU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dU={animation:{Feature:lU},exit:{Feature:uU}};function jd(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function of(e){return{point:{x:e.pageX,y:e.pageY}}}const fU=e=>t=>L_(t)&&e(t,of(t));function Uu(e,t,n,r){return jd(e,t,fU(n),r)}const _I=1e-4,hU=1-_I,pU=1+_I,jI=.01,mU=0-jI,gU=0+jI;function Bn(e){return e.max-e.min}function yU(e,t,n){return Math.abs(e-t)<=n}function Dk(e,t,n,r=.5){e.origin=r,e.originPoint=Mt(t.min,t.max,e.origin),e.scale=Bn(n)/Bn(t),e.translate=Mt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=hU&&e.scale<=pU||isNaN(e.scale))&&(e.scale=1),(e.translate>=mU&&e.translate<=gU||isNaN(e.translate))&&(e.translate=0)}function Wu(e,t,n,r){Dk(e.x,t.x,n.x,r?r.originX:void 0),Dk(e.y,t.y,n.y,r?r.originY:void 0)}function Ak(e,t,n){e.min=n.min+t.min,e.max=e.min+Bn(t)}function xU(e,t,n){Ak(e.x,t.x,n.x),Ak(e.y,t.y,n.y)}function Lk(e,t,n){e.min=t.min-n.min,e.max=e.min+Bn(t)}function Hu(e,t,n){Lk(e.x,t.x,n.x),Lk(e.y,t.y,n.y)}function Er(e){return[e("x"),e("y")]}const NI=({current:e})=>e?e.ownerDocument.defaultView:null,Ik=(e,t)=>Math.abs(e-t);function vU(e,t){const n=Ik(e.x,t.x),r=Ik(e.y,t.y);return Math.sqrt(n**2+r**2)}class SI{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=jy(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=vU(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:b}=p,{timestamp:N}=_n;this.history.push({...b,timestamp:N});const{onStart:v,onMove:_}=this.handlers;y||(v&&v(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=_y(y,this.transformPagePoint),jt.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:w,onSessionEnd:b,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=jy(p.type==="pointercancel"?this.lastMoveEventInfo:_y(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(p,v),b&&b(p,v)},!L_(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=of(t),u=_y(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=_n;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=n;h&&h(t,jy(u,this.history)),this.removeListeners=tf(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Si(this.updatePoint)}}function _y(e,t){return t?{point:t(e.point)}:e}function Rk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jy({point:e},t){return{point:e,delta:Rk(e,kI(t)),offset:Rk(e,bU(t)),velocity:wU(t,.1)}}function bU(e){return e[0]}function kI(e){return e[e.length-1]}function wU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=kI(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>as(t)));)n--;if(!r)return{x:0,y:0};const i=Lr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _U(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Mt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Mt(n,e,r.max):Math.min(e,n)),e}function Ok(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jU(e,{top:t,left:n,bottom:r,right:s}){return{x:Ok(e.x,n,s),y:Ok(e.y,t,r)}}function $k(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function NU(e,t){return{x:$k(e.x,t.x),y:$k(e.y,t.y)}}function SU(e,t){let n=.5;const r=Bn(e),s=Bn(t);return s>r?n=Jl(t.min,t.max-r,e.min):r>s&&(n=Jl(e.min,e.max-s,t.min)),ji(0,1,n)}function kU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Cb=.35;function CU(e=Cb){return e===!1?e=0:e===!0&&(e=Cb),{x:Fk(e,"left","right"),y:Fk(e,"top","bottom")}}function Fk(e,t,n){return{min:zk(e,t),max:zk(e,n)}}function zk(e,t){return typeof e=="number"?e:e[t]||0}const PU=new WeakMap;class TU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(of(h).point)},o=(h,p)=>{const{drag:y,dragPropagation:w,onDragStart:b}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$V(y),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Er(v=>{let _=this.getAxisMotionValue(v).get()||0;if(As.test(_)){const{projection:j}=this.visualElement;if(j&&j.layout){const S=j.layout.layoutBox[v];S&&(_=Bn(S)*(parseFloat(_)/100))}}this.originPoint[v]=_}),b&&jt.postRender(()=>b(h,p)),Sb(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:b,onDrag:N}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:v}=p;if(w&&this.currentDirection===null){this.currentDirection=EU(v),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,v),this.updateAxis("y",p.point,v),this.visualElement.render(),N&&N(h,p)},u=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Er(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new SI(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:NI(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&jt.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!sh(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=_U(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&vl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=jU(r.layoutBox,t):this.constraints=!1,this.elastic=CU(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Er(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=kU(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!vl(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=I9(r,s.root,this.visualElement.getTransformPagePoint());let o=NU(s.layout.layoutBox,i);if(n){const l=n(D9(o));this.hasMutatedConstraints=!!l,l&&(o=aI(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Er(f=>{if(!sh(f,n,this.currentDirection))return;let h=u&&u[f]||{};o&&(h={min:0,max:0});const p=s?200:1e6,y=s?40:1e7,w={type:"inertia",velocity:r?t[f]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(f,w)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Sb(this.visualElement,t),r.start(W_(t,r,0,n,this.visualElement,!1))}stopAnimation(){Er(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Er(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Er(n=>{const{drag:r}=this.getProps();if(!sh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-Mt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Er(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();s[o]=SU({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Er(o=>{if(!sh(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Mt(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;PU.set(this.visualElement,this);const t=this.visualElement.current,n=Uu(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();vl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),jt.read(r);const o=jd(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Er(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Cb,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function sh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class MU extends jo{constructor(t){super(t),this.removeGroupControls=Fr,this.removeListeners=Fr,this.controls=new TU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bk=e=>(t,n)=>{e&&jt.postRender(()=>e(t,n))};class DU extends jo{constructor(){super(...arguments),this.removePointerDownListener=Fr}onPointerDown(t){this.session=new SI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Bk(t),onStart:Bk(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&jt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ep={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const uu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ue.test(e))e=parseFloat(e);else return e;const n=Vk(e,t.target.x),r=Vk(e,t.target.y);return`${n}% ${r}%`}},AU={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=yo.parse(e);if(s.length>5)return r;const i=yo.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=u;const d=Mt(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let Ny=!1;class LU extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;o9(IU),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Ny&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ep.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Ny=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||jt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),A_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Ny=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CI(e){const[t,n]=qL(),r=g.useContext(f_);return a.jsx(LU,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(iI),isPresent:t,safeToRemove:n})}const IU={borderRadius:{...uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uu,borderTopRightRadius:uu,borderBottomLeftRadius:uu,borderBottomRightRadius:uu,boxShadow:AU};function PI(e,t,n){const r=Ut(e)?e:xa(e);return r.start(W_("",r,t,n)),r.animation}const RU=(e,t)=>e.depth-t.depth;class OU{constructor(){this.children=[],this.isDirty=!1}add(t){m_(this.children,t),this.isDirty=!0}remove(t){Qm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RU),this.isDirty=!1,this.children.forEach(t)}}function $U(e,t){const n=tr.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Si(r),e(i-t))};return jt.setup(r,!0),()=>Si(r)}const TI=["TopLeft","TopRight","BottomLeft","BottomRight"],FU=TI.length,Uk=e=>typeof e=="string"?parseFloat(e):e,Wk=e=>typeof e=="number"||Ue.test(e);function zU(e,t,n,r,s,i){s?(e.opacity=Mt(0,n.opacity??1,BU(r)),e.opacityExit=Mt(t.opacity??1,0,VU(r))):i&&(e.opacity=Mt(t.opacity??1,n.opacity??1,r));for(let o=0;o<FU;o++){const l=`border${TI[o]}Radius`;let u=Hk(t,l),d=Hk(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||Wk(u)===Wk(d)?(e[l]=Math.max(Mt(Uk(u),Uk(d),r),0),(As.test(d)||As.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Mt(t.rotate||0,n.rotate||0,r))}function Hk(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BU=EI(0,.5,aL),VU=EI(.5,.95,Fr);function EI(e,t,n){return r=>r<e?0:r>t?1:n(Jl(e,t,r))}function Gk(e,t){e.min=t.min,e.max=t.max}function Pr(e,t){Gk(e.x,t.x),Gk(e.y,t.y)}function qk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Yk(e,t,n,r,s){return e-=t,e=$p(e,1/n,r),s!==void 0&&(e=$p(e,1/s,r)),e}function UU(e,t=0,n=1,r=.5,s,i=e,o=e){if(As.test(t)&&(t=parseFloat(t),t=Mt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Mt(i.min,i.max,r);e===i&&(l-=t),e.min=Yk(e.min,t,n,l,s),e.max=Yk(e.max,t,n,l,s)}function Zk(e,t,[n,r,s],i,o){UU(e,t[n],t[r],t[s],t.scale,i,o)}const WU=["x","scaleX","originX"],HU=["y","scaleY","originY"];function Kk(e,t,n,r){Zk(e.x,t,WU,n?n.x:void 0,r?r.x:void 0),Zk(e.y,t,HU,n?n.y:void 0,r?r.y:void 0)}function Xk(e){return e.translate===0&&e.scale===1}function MI(e){return Xk(e.x)&&Xk(e.y)}function Jk(e,t){return e.min===t.min&&e.max===t.max}function GU(e,t){return Jk(e.x,t.x)&&Jk(e.y,t.y)}function Qk(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function DI(e,t){return Qk(e.x,t.x)&&Qk(e.y,t.y)}function eC(e){return Bn(e.x)/Bn(e.y)}function tC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class qU{constructor(){this.members=[]}add(t){m_(this.members,t),t.scheduleRender()}remove(t){if(Qm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YU(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:h,rotateY:p,skewX:y,skewY:w}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const Sy=["","X","Y","Z"],ZU=1e3;let KU=0;function ky(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function AI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=xI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",jt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&AI(r)}function LI({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=KU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QU),this.nodes.forEach(rW),this.nodes.forEach(sW),this.nodes.forEach(eW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new OU)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new x_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=I_(o)&&!GL(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let f,h=0;const p=()=>this.root.updateBlockedByResize=!1;jt.read(()=>{h=window.innerWidth}),e(o,()=>{const y=window.innerWidth;y!==h&&(h=y,this.root.updateBlockedByResize=!0,f&&f(),f=$U(p,250),ep.hasAnimatedSinceResize&&(ep.hasAnimatedSinceResize=!1,this.nodes.forEach(sC)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||cW,{onLayoutAnimationStart:b,onLayoutAnimationComplete:N}=d.getProps(),v=!this.targetLayout||!DI(this.targetLayout,y),_=!h&&p;if(this.options.layoutRoot||this.resumeFrom||_||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...M_(w,"layout"),onPlay:b,onComplete:N};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(f,_)}else h||sC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nW),this.nodes.forEach(XU),this.nodes.forEach(JU)):this.nodes.forEach(rC),this.clearAllSnapshots();const l=tr.now();_n.delta=ji(0,1e3/60,l-_n.timestamp),_n.timestamp=l,_n.isProcessing=!0,py.update.process(_n),py.preRender.process(_n),py.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tW),this.sharedNodes.forEach(oW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bn(this.snapshot.measuredBox.x)&&!Bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!MI(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||zo(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),uW(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return zt();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(dW))){const{scroll:f}=this.root;f&&(bl(l.x,f.offset.x),bl(l.y,f.offset.y))}return l}removeElementScroll(o){var u;const l=zt();if(Pr(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Pr(l,o),bl(l.x,h.offset.x),bl(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const u=zt();Pr(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&wl(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),zo(f.latestValues)&&wl(u,f.latestValues)}return zo(this.latestValues)&&wl(u,this.latestValues),u}removeTransform(o){const l=zt();Pr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!zo(d.latestValues))continue;wb(d.latestValues)&&d.updateSnapshot();const f=zt(),h=d.measurePageBox();Pr(f,h),Kk(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return zo(this.latestValues)&&Kk(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Hu(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pr(this.target,this.layout.layoutBox),cI(this.target,this.targetDelta)):Pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Hu(this.relativeTargetOrigin,this.target,y.target),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wb(this.parent.latestValues)||lI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Pr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;L9(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=zt());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qk(this.prevProjectionDelta.x,this.projectionDelta.x),qk(this.prevProjectionDelta.y,this.projectionDelta.y)),Wu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!tC(this.projectionDelta.x,this.prevProjectionDelta.x)||!tC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_l(),this.projectionDelta=_l(),this.projectionDeltaWithTransform=_l()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},h=_l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=zt(),y=u?u.source:void 0,w=this.layout?this.layout.source:void 0,b=y!==w,N=this.getStack(),v=!N||N.members.length<=1,_=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(lW));this.animationProgress=0;let j;this.mixTargetDelta=S=>{const P=S/1e3;iC(h.x,o.x,P),iC(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aW(this.relativeTarget,this.relativeTargetOrigin,p,P),j&&GU(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=zt()),Pr(j,this.relativeTarget)),b&&(this.animationValues=f,zU(f,d,this.latestValues,P,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jt.update(()=>{ep.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xa(0)),this.currentAnimation=PI(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&II(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||zt();const h=Bn(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+h;const p=Bn(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}Pr(l,u),wl(l,f),Wu(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qU),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&ky("z",o,d,this.animationValues);for(let f=0;f<Sy.length;f++)ky(`rotate${Sy[f]}`,o,d,this.animationValues),ky(`skew${Sy[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Qh(l==null?void 0:l.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Qh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!zo(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=YU(this.projectionDeltaWithTransform,this.treeScale,f);u&&(h=u(f,h)),o.transform=h;const{x:p,y}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in wd){if(f[w]===void 0)continue;const{correct:b,applyTo:N,isCSSVariable:v}=wd[w],_=h==="none"?f[w]:b(f[w],d);if(N){const j=N.length;for(let S=0;S<j;S++)o[N[S]]=_}else v?this.options.visualElement.renderState.vars[w]=_:o[w]=_}this.options.layoutId&&(o.pointerEvents=d===this?Qh(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(nC),this.root.sharedNodes.clear()}}}function XU(e){e.updateLayout()}function JU(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Er(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],y=Bn(p);p.min=r[h].min,p.max=p.min+y}):II(i,t.layoutBox,r)&&Er(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],y=Bn(r[h]);p.max=p.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+y)});const l=_l();Wu(l,r,t.layoutBox);const u=_l();o?Wu(u,e.applyTransform(s,!0),t.measuredBox):Wu(u,r,t.layoutBox);const d=!MI(l);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:y}=h;if(p&&y){const w=zt();Hu(w,t.layoutBox,p.layoutBox);const b=zt();Hu(b,r,y.layoutBox),DI(w,b)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function QU(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function eW(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function tW(e){e.clearSnapshot()}function nC(e){e.clearMeasurements()}function rC(e){e.isLayoutDirty=!1}function nW(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rW(e){e.resolveTargetDelta()}function sW(e){e.calcProjection()}function iW(e){e.resetSkewAndRotation()}function oW(e){e.removeLeadSnapshot()}function iC(e,t,n){e.translate=Mt(t.translate,0,n),e.scale=Mt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function oC(e,t,n,r){e.min=Mt(t.min,n.min,r),e.max=Mt(t.max,n.max,r)}function aW(e,t,n,r){oC(e.x,t.x,n.x,r),oC(e.y,t.y,n.y,r)}function lW(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cW={duration:.45,ease:[.4,0,.1,1]},aC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),lC=aC("applewebkit/")&&!aC("chrome/")?Math.round:Fr;function cC(e){e.min=lC(e.min),e.max=lC(e.max)}function uW(e){cC(e.x),cC(e.y)}function II(e,t,n){return e==="position"||e==="preserve-aspect"&&!yU(eC(t),eC(n),.2)}function dW(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const fW=LI({attachResizeListener:(e,t)=>jd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cy={current:void 0},RI=LI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cy.current){const e=new fW({});e.mount(window),e.setOptions({layoutScroll:!0}),Cy.current=e}return Cy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hW={pan:{Feature:DU},drag:{Feature:MU,ProjectionNode:RI,MeasureLayout:CI}};function uC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&jt.postRender(()=>i(t,of(t)))}class pW extends jo{mount(){const{current:t}=this.node;t&&(this.unmount=FV(t,(n,r)=>(uC(this.node,r,"Start"),s=>uC(this.node,s,"End"))))}unmount(){}}class mW extends jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tf(jd(this.node.current,"focus",()=>this.onFocus()),jd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dC(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&jt.postRender(()=>i(t,of(t)))}class gW extends jo{mount(){const{current:t}=this.node;t&&(this.unmount=UV(t,(n,r)=>(dC(this.node,r,"Start"),(s,{success:i})=>dC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pb=new WeakMap,Py=new WeakMap,yW=e=>{const t=Pb.get(e.target);t&&t(e)},xW=e=>{e.forEach(yW)};function vW({root:e,...t}){const n=e||document;Py.has(n)||Py.set(n,{});const r=Py.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(xW,{root:e,...t})),r[s]}function bW(e,t,n){const r=vW(t);return Pb.set(e,n),r.observe(e),()=>{Pb.delete(e),r.unobserve(e)}}const wW={some:0,all:1};class _W extends jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:wW[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=d?f:h;p&&p(u)};return bW(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(jW(t,n))&&this.startObserver()}unmount(){}}function jW({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const NW={inView:{Feature:_W},tap:{Feature:gW},focus:{Feature:mW},hover:{Feature:pW}},SW={layout:{ProjectionNode:RI,MeasureLayout:CI}},kW={...dU,...NW,...hW,...SW},Y=M9(kW,z9);function lo(e){const t=ef(()=>xa(e)),{isStatic:n}=g.useContext(sf);if(n){const[,r]=g.useState(e);g.useEffect(()=>t.on("change",r),[])}return t}function G_(e,t){const n=lo(t()),r=()=>n.set(t());return r(),p_(()=>{const s=()=>jt.preRender(r,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),Si(r)}}),n}function OI(e,...t){const n=e.length;function r(){let s="";for(let i=0;i<n;i++){s+=e[i];const o=t[i];o&&(s+=Ut(o)?o.get():o)}return s}return G_(t.filter(Ut),r)}function CW(e){Vu.current=[],e();const t=G_(Vu.current,e);return Vu.current=void 0,t}function Fp(e,t,n,r){if(typeof e=="function")return CW(e);const s=typeof t=="function"?t:WV(t,n,r);return Array.isArray(e)?fC(e,s):fC([e],([i])=>s(i))}function fC(e,t){const n=ef(()=>[]);return G_(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function PW(e,t={}){const{isStatic:n}=g.useContext(sf),r=()=>Ut(e)?e.get():e;if(n)return Fp(r);const s=lo(r());return g.useInsertionEffect(()=>HV(s,e,t),[s,JSON.stringify(t)]),s}function q_(e){return typeof e=="object"&&!Array.isArray(e)}function $I(e,t,n,r){return typeof e=="string"&&q_(t)?zL(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function TW(e,t,n){return e*(t+1)}function hC(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function EW(e,t,n){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<n&&(Qm(e,s),r--)}}function MW(e,t,n,r,s,i){EW(e,s,i);for(let o=0;o<t.length;o++)e.push({value:t[o],at:Mt(s,i,r[o]),easing:dL(n,o)})}function DW(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function AW(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const LW="easeInOut";function IW(e,{defaultTransition:t={},...n}={},r,s){const i=t.duration||.3,o=new Map,l=new Map,u={},d=new Map;let f=0,h=0,p=0;for(let y=0;y<e.length;y++){const w=e[y];if(typeof w=="string"){d.set(w,h);continue}else if(!Array.isArray(w)){d.set(w.name,hC(h,w.at,f,d));continue}let[b,N,v={}]=w;v.at!==void 0&&(h=hC(h,v.at,f,d));let _=0;const j=(S,P,E,C=0,T=0)=>{const D=RW(S),{delay:R=0,times:F=CL(D),type:A="keyframes",repeat:O,repeatType:$,repeatDelay:K=0,...te}=P;let{ease:W=t.ease||"easeOut",duration:z}=P;const V=typeof R=="function"?R(C,T):R,q=D.length,Z=E_(A)?A:s==null?void 0:s[A||"keyframes"];if(q<=2&&Z){let fe=100;if(q===2&&FW(D)){const ke=D[1]-D[0];fe=Math.abs(ke)}const ge={...te};z!==void 0&&(ge.duration=as(z));const be=jL(ge,fe,Z);W=be.ease,z=be.duration}z??(z=i);const X=h+V;F.length===1&&F[0]===0&&(F[1]=1);const G=F.length-D.length;if(G>0&&kL(F,G),D.length===1&&D.unshift(null),O){z=TW(z,O);const fe=[...D],ge=[...F];W=Array.isArray(W)?[...W]:[W];const be=[...W];for(let ke=0;ke<O;ke++){D.push(...fe);for(let re=0;re<fe.length;re++)F.push(ge[re]+(ke+1)),W.push(re===0?"linear":dL(be,re-1))}DW(F,O)}const ae=X+z;MW(E,D,W,F,X,ae),_=Math.max(V+z,_),p=Math.max(ae,p)};if(Ut(b)){const S=pC(b,l);j(N,v,mC("default",S))}else{const S=$I(b,N,r,u),P=S.length;for(let E=0;E<P;E++){N=N,v=v;const C=S[E],T=pC(C,l);for(const D in N)j(N[D],OW(v,D),mC(D,T),E,P)}}f=h,h+=_}return l.forEach((y,w)=>{for(const b in y){const N=y[b];N.sort(AW);const v=[],_=[],j=[];for(let P=0;P<N.length;P++){const{at:E,value:C,easing:T}=N[P];v.push(C),_.push(Jl(0,p,E)),j.push(T||"easeOut")}_[0]!==0&&(_.unshift(0),v.unshift(v[0]),j.unshift(LW)),_[_.length-1]!==1&&(_.push(1),v.push(null)),o.has(w)||o.set(w,{keyframes:{},transition:{}});const S=o.get(w);S.keyframes[b]=v,S.transition[b]={...t,duration:p,ease:j,times:_,...n}}}),o}function pC(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function mC(e,t){return t[e]||(t[e]=[]),t[e]}function RW(e){return Array.isArray(e)?e:[e]}function OW(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const $W=e=>typeof e=="number",FW=e=>e.every($W);function zW(e,t){return e in t}class BW extends fI{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(zW(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return zt()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function VW(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=I_(e)&&!GL(e)?new yI(t):new mI(t);n.mount(e),_d.set(e,n)}function UW(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new BW(t);n.mount(e),_d.set(e,n)}function WW(e,t){return Ut(e)||typeof e=="number"||typeof e=="string"&&!q_(t)}function FI(e,t,n,r){const s=[];if(WW(e,t))s.push(PI(e,q_(t)&&t.default||t,n&&(n.default||n)));else{const i=$I(e,t,r),o=i.length;for(let l=0;l<o;l++){const u=i[l],d=u instanceof Element?VW:UW;_d.has(u)||d(u);const f=_d.get(u),h={...n};"delay"in h&&typeof h.delay=="function"&&(h.delay=h.delay(l,o)),s.push(...H_(f,{...t,transition:h},{}))}}return s}function HW(e,t,n){const r=[];return IW(e,t,n,{spring:vd}).forEach(({keyframes:i,transition:o},l)=>{r.push(...FI(l,i,o))}),r}function GW(e){return Array.isArray(e)&&e.some(Array.isArray)}function qW(e){function t(n,r,s){let i=[],o;if(GW(n))i=HW(n,r,e);else{const{onComplete:u,...d}=s||{};typeof u=="function"&&(o=u),i=FI(n,r,d,e)}const l=new jV(i);return o&&l.finished.then(o),l}return t}const zI=qW();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...d},f)=>g.createElement("svg",{ref:f,...YW,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ZW(e)}`,l].join(" "),...d},[...t.map(([h,p])=>g.createElement(h,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Te("Ambulance",[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=Te("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=Te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Te("BarChartHorizontal",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=Te("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Te("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Te("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Te("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Te("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=Te("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Te("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Te("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Te("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Te("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Te("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Te("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Te("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Te("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Te("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Te("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Te("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Te("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),KI=g.createContext({theme:"dark",toggleTheme:()=>{}}),Qe=()=>g.useContext(KI),yH=({children:e})=>{const[t,n]=g.useState("dark");g.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t)},[t]);const r=()=>{n(s=>s==="light"?"dark":"light")};return a.jsx(KI.Provider,{value:{theme:t,toggleTheme:r},children:e})},XI="http://localhost:8080",oe=e=>`${XI}/${e.startsWith("/")?e.substring(1):e}`,xH=({item:e})=>{const{theme:t}=Qe(),n=`p-4 rounded-lg shadow-sm mb-2 flex items-start space-x-3 ${t==="dark"?"bg-gray-800/50 border border-gray-700":"bg-white border border-gray-200"}`,r=`text-xs font-semibold uppercase ${t==="dark"?"text-gray-400":"text-gray-500"}`,s=`font-bold ${t==="dark"?"text-white":"text-gray-900"}`,i=`text-sm ${t==="dark"?"text-gray-300":"text-gray-700"}`,o=`text-xs ${t==="dark"?"text-gray-500":"text-gray-600"}`,l=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";let u,d,f,h,p;switch(p=e.date?new Date(e.date):null,e.type){case"appointment":u=a.jsx(zr,{size:20,className:"text-blue-400"}),d=`Appointment: ${e.details.notes||"General Check-up"}`,f=a.jsxs("p",{className:i,children:["Status: ",e.details.status]}),h=a.jsxs("p",{className:o,children:["Dr. ",e.details.doctorName," (",e.details.departmentName,")"]});break;case"medical_record":u=a.jsx(mi,{size:20,className:"text-green-400"}),d=`Diagnosis: ${e.details.diagnosis}`,f=a.jsx("div",{className:"space-y-1",children:a.jsxs("p",{className:i,children:["Treatment: ",e.details.treatment]})}),h=a.jsxs("p",{className:o,children:["Dr. ",e.details.doctorName]});break;case"lab_test":u=a.jsx(QW,{size:20,className:"text-purple-400"}),d=`Lab Test: ${e.details.testName}`,f=a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:i,children:["Status: ",e.details.status]}),e.details.result_text&&a.jsxs("p",{className:i,children:["Result: ",e.details.result_text]})]}),h=a.jsxs("p",{className:o,children:["Dr. ",e.details.doctorName]});break;case"prescription":u=a.jsx(Ls,{size:20,className:"text-yellow-400"}),d=`Prescription: ${e.details.notes}`,f=a.jsxs("p",{className:i,children:["Status: ",e.details.status]}),h=a.jsxs("p",{className:o,children:["Dr. ",e.details.doctorName]});break;case"surgery":u=a.jsx(ec,{size:20,className:"text-red-400"}),d=`Surgery: ${e.details.surgeryType}`,f=a.jsxs("p",{className:i,children:["Status: ",e.details.status]}),h=a.jsxs("p",{className:o,children:["Surgeon: ",e.details.surgeonName]});break;case"bill":u=a.jsx(us,{size:20,className:"text-teal-400"}),d=`Bill: Invoice #${e.details.invoiceNumber}`,f=a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:i,children:["Amount: $",e.details.amount]}),a.jsxs("p",{className:i,children:["Status: ",e.details.paymentStatus]})]}),h=null;break;case"admission":u=a.jsx(Z_,{size:20,className:"text-orange-400"}),d=e.details.dischargeDate?"Discharge":"Admission",f=a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:i,children:["Ward: ",e.details.wardName||"N/A"," - Bed: ",e.details.bedNumber||"N/A"]}),e.details.dischargeDate&&a.jsxs("p",{className:i,children:["Discharged: ",l(e.details.dischargeDate)]}),e.details.notes&&a.jsxs("p",{className:i,children:["Notes: ",e.details.notes]})]}),h=null;break;default:u=a.jsx(No,{size:20,className:"text-gray-400"}),d="Unknown Event",f=null,h=null}return a.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:n,children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:u}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:s,children:d}),a.jsx("span",{className:r,children:l(p)})]}),f,h]})]})},JI=({patientId:e,patientName:t,onClose:n})=>{const{theme:r}=Qe(),[s,i]=g.useState([]),[o,l]=g.useState(!0),[u,d]=g.useState(null);return g.useEffect(()=>{e&&(async()=>{try{l(!0);const h=await fetch(oe(`/api/patients/${e}/full-history`));if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const p=await h.json();p.success?i(p.history):d(p.message||"Failed to fetch history.")}catch(h){console.error("Error fetching patient history:",h),d("Failed to connect to the server or retrieve history.")}finally{l(!1)}})()},[e]),a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:n,children:a.jsxs(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full max-w-4xl h-[90vh] flex flex-col ${r==="dark"?"border border-gray-700":"border border-gray-200"} shadow-2xl text-white`,onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-gray-700 flex-shrink-0",children:[a.jsxs("h2",{className:"text-2xl font-bold",children:["Medical History for ",t]}),a.jsx("button",{onClick:n,className:"p-1 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white transition-colors",children:a.jsx(Wn,{size:24})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[o&&a.jsx("p",{className:"text-center text-gray-400 py-8",children:"Loading history..."}),u&&a.jsxs("p",{className:"text-center text-red-400 py-8",children:["Error: ",u]}),!o&&!u&&s.length===0&&a.jsx("p",{className:"text-center text-gray-400 py-8",children:"No medical history found for this patient."}),!o&&!u&&s.length>0&&a.jsxs("div",{className:"relative pl-8",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gray-700"}),s.map((f,h)=>a.jsxs("div",{className:"mb-6 relative",children:[a.jsx("div",{className:"absolute -left-2 top-0 w-4 h-4 rounded-full bg-blue-600 border-2 border-gray-800 z-10"}),a.jsx(xH,{item:f})]},h))]})]})]})})})},Ey=({children:e,onClose:t,width:n="max-w-2xl"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),My=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function vH(){const{theme:e}=Qe(),[t,n]=g.useState([]),[r,s]=g.useState(""),[i,o]=g.useState(null),[l,u]=g.useState(null),[d,f]=g.useState(null),[h,p]=g.useState(null),[y,w]=g.useState(""),[b,N]=g.useState(!1),[v,_]=g.useState(!1),[j,S]=g.useState(""),[P,E]=g.useState(!1),[C,T]=g.useState({patientId:`PAT${Math.floor(1e3+Math.random()*9e3)}`,firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:"",phone:"",email:"",address:"",emergencyContact:"",emergencyPhone:"",status:"active"});g.useEffect(()=>{D()},[]);const D=async()=>{try{const Z=await fetch(oe("/api/patients"));n(await Z.json()||[])}catch(Z){console.error("Failed to fetch patients:",Z)}},R=(Z,X)=>{const{name:G,value:ae}=Z.target;X==="new"?T(fe=>({...fe,[G]:ae})):l&&u(fe=>fe?{...fe,[G]:ae}:null)},F=async Z=>{Z.preventDefault();try{const G=await(await fetch(oe("/api/patients/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json();G.success?(o(null),D(),p(C)):alert(G.message)}catch(X){console.error("Failed to connect to the server.",X),alert("Failed to connect to the server.")}},A=async Z=>{if(Z.preventDefault(),!!l)try{const G=await(await fetch(oe(`/api/patients/${l.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json();G.success?(o(null),D()):alert(G.message)}catch(X){console.error("Failed to connect to server.",X),alert("Failed to connect to server.")}},O=async Z=>{try{const G=await(await fetch(oe(`/api/patients/${Z}`),{method:"DELETE"})).json();G.success?D():alert(G.message)}catch(X){console.error("Failed to connect to server.",X),alert("Failed to connect to server.")}f(null)},$=async Z=>{N(!0),w(""),S("");const X="You are an assistant for 'Shree Medicare Hospital'. Your tone is welcoming, professional, and very brief, suitable for an SMS message.",G=`Draft a welcome SMS for a new patient named ${Z.firstName} ${Z.lastName}. Inform them their registration is complete and they can now use the patient portal.`;try{const ae=await fetch(oe("/api/ai/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:X},{role:"user",content:G}]})});if(!ae.ok)throw new Error(`API error: ${ae.status}`);const ge=(await ae.json()).reply;w(ge||"Could not generate SMS draft.")}catch(ae){console.error("Gemini API error:",ae),w("Error connecting to AI service.")}finally{N(!1)}},K=async()=>{if(!(h!=null&&h.phone)||!y){S("Error: Phone number or message is missing.");return}_(!0),S("Sending...");try{const X=await(await fetch(oe("/api/sms/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:h.phone,message:y})})).json();X.success?S("Sent Successfully!"):S(`Error: ${X.error||X.message}`)}catch(Z){console.error("SMS send error:",Z),S("Error: Failed to connect to the SMS service.")}finally{_(!1)}},te=(Z,X=null)=>{o(Z),X&&u(JSON.parse(JSON.stringify(X))),Z==="add"&&T({patientId:`PAT${Math.floor(1e3+Math.random()*9e3)}`,firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:"",phone:"",email:"",address:"",emergencyContact:"",emergencyPhone:"",status:"active"})},W=g.useMemo(()=>t.filter(Z=>Object.values(Z).some(X=>String(X).toLowerCase().includes(r.toLowerCase()))),[t,r]),z=Z=>{switch(Z){case"active":return"bg-green-500/20 text-green-300";case"discharged":return"bg-gray-500/20 text-gray-400";case"transferred":return"bg-blue-500/20 text-blue-300";default:return"bg-yellow-500/20 text-yellow-300"}},V={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},q={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Patient Management"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage all patient records and information."})]}),a.jsxs("button",{onClick:()=>te("add"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Register Patient"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:V,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:q,children:a.jsx(My,{title:"Total Patients",value:t.length,icon:zs,color:"text-blue-400"})}),a.jsx(Y.div,{variants:q,children:a.jsx(My,{title:"Active",value:t.filter(Z=>Z.status==="active").length,icon:hH,color:"text-green-400"})}),a.jsx(Y.div,{variants:q,children:a.jsx(My,{title:"Discharged",value:t.filter(Z=>Z.status==="discharged").length,icon:pH,color:"text-gray-500"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Fs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by name, email, or patient ID...",value:r,onChange:Z=>s(Z.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Photo"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Patient ID"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Name"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Contact"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"p-4 text-right text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:V,initial:"hidden",animate:"visible",children:W.map(Z=>a.jsxs(Y.tr,{variants:q,className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsx("td",{className:"p-4",children:a.jsx("img",{src:Z.profileImageUrl?`${oe("")}${Z.profileImageUrl}`:`https://ui-avatars.com/api/?name=${Z.firstName}+${Z.lastName}&background=1c1c1e&color=a0a0a0&bold=true`,alt:"Profile",className:"w-10 h-10 rounded-full object-cover border border-gray-700"})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"font-semibold text-pink-400",children:Z.patientId})}),a.jsxs("td",{className:"p-4",children:[a.jsxs("div",{className:"font-semibold",children:[Z.firstName," ",Z.lastName]}),a.jsx("div",{className:"text-sm text-gray-400",children:Z.email})]}),a.jsx("td",{className:"p-4 text-sm text-gray-300",children:Z.phone}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${z(Z.status)}`,children:Z.status.toUpperCase()})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>te("details",Z),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(Sc,{size:18})}),a.jsx("button",{onClick:()=>te("edit",Z),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(ki,{size:18})}),a.jsx("button",{onClick:()=>f(Z),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},Z.id))})]}),W.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No patients found."})]})]}),i&&a.jsxs(Ey,{onClose:()=>o(null),width:i==="details"?"max-w-lg":"max-w-2xl",children:[i==="add"&&a.jsxs("form",{onSubmit:F,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Register New Patient"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"firstName",onChange:Z=>R(Z,"new"),placeholder:"First Name",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{name:"lastName",onChange:Z=>R(Z,"new"),placeholder:"Last Name",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{name:"email",type:"email",onChange:Z=>R(Z,"new"),placeholder:"Email",className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("input",{name:"phone",onChange:Z=>R(Z,"new"),placeholder:"Phone (for SMS)",className:"p-3 bg-gray-800 border-gray-700 rounded-lg"})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>o(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-pink-600 text-white rounded-lg font-semibold hover:bg-pink-700",children:"Register Patient"})]})]}),i==="edit"&&l&&a.jsxs("form",{onSubmit:A,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Edit Patient Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"firstName",value:l.firstName,onChange:Z=>R(Z,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("input",{name:"lastName",value:l.lastName,onChange:Z=>R(Z,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("input",{name:"phone",value:l.phone,onChange:Z=>R(Z,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsxs("select",{name:"status",value:l.status,onChange:Z=>R(Z,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"discharged",children:"Discharged"}),a.jsx("option",{value:"transferred",children:"Transferred"})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>o(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Save Changes"})]})]}),i==="details"&&l&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold",children:[l.firstName," ",l.lastName]}),a.jsx("button",{onClick:()=>o(null),className:"-mt-2 -mr-2 p-2 rounded-full hover:bg-gray-700",children:a.jsx(Wn,{size:20})})]}),a.jsxs("div",{className:"flex flex-col items-center mb-6",children:[a.jsx("img",{src:l.profileImageUrl?`${oe("")}${l.profileImageUrl}`:`https://ui-avatars.com/api/?name=${l.firstName}+${l.lastName}&background=1c1c1e&color=a0a0a0&bold=true`,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-blue-500"}),a.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Patient ID: ",l.patientId]})]}),a.jsxs("div",{className:"space-y-3 text-gray-300",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",l.email||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone:"})," ",l.phone||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",a.jsx("span",{className:`font-semibold ${l.status==="active"?"text-green-400":"text-gray-400"}`,children:l.status.toUpperCase()})]})]}),a.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t border-gray-800",children:a.jsx("button",{onClick:()=>E(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"View Full History"})})]})]}),P&&l&&a.jsx(JI,{patientId:l.patientId,patientName:`${l.firstName} ${l.lastName}`,onClose:()=>E(!1)}),d&&a.jsxs(Ey,{onClose:()=>f(null),width:"max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete patient "',d.firstName," ",d.lastName,'"? This cannot be undone.']}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>f(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>O(d.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]}),h&&a.jsxs(Ey,{onClose:()=>p(null),width:"max-w-xl",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[a.jsx(Ea,{className:"text-green-400"})," Patient Registered Successfully!"]}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["Use the AI assistant to generate and send a welcome SMS to ",h.firstName,"."]}),!y&&!b&&a.jsxs("button",{onClick:()=>$(h),className:"w-full py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[a.jsx(en,{size:20})," Generate Welcome SMS"]}),b&&a.jsx("p",{className:"text-center text-gray-400 animate-pulse py-10",children:"AI is drafting a message..."}),y&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{value:y,onChange:Z=>w(Z.target.value),className:"w-full p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300 h-40 resize-none"}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(y),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Copy"}),a.jsxs("button",{onClick:K,disabled:v,className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 disabled:bg-gray-500 flex items-center gap-2",children:[a.jsx(K_,{size:16}),v?"Sending...":"Send SMS"]})]}),j&&a.jsx("p",{className:`text-sm text-center mt-2 ${j.startsWith("Error")?"text-red-400":"text-green-400"}`,children:j})]})]})]})}const Dy=({children:e,onClose:t,width:n="max-w-lg"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),Ay=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function bH(){const{theme:e}=Qe(),[t,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState([]),[l,u]=g.useState(""),[d,f]=g.useState(null),[h,p]=g.useState(null),[y,w]=g.useState(null),[b,N]=g.useState(""),[v,_]=g.useState(!1),[j,S]=g.useState({patientId:"",doctorId:"",recordDate:"",diagnosis:"",treatment:"",prescription:{medicationName:"",dosage:"",schedules:[{time:""}],status:"active"}});g.useEffect(()=>{P(),E(),C()},[]);const P=async()=>{try{const q=await(await fetch(oe("/api/medical-records"))).json();n(Array.isArray(q)?q:[])}catch(V){console.error("Failed to fetch records:",V)}},E=async()=>{try{const V=await fetch(oe("/api/patients"));s(await V.json()||[])}catch(V){console.error("Failed to fetch patients:",V)}},C=async()=>{try{const q=await(await fetch(oe("/api/employees"))).json();o(q.filter(Z=>Z.role==="doctor")||[])}catch(V){console.error("Failed to fetch doctors:",V)}},T=V=>{const{name:q,value:Z}=V.target;S(X=>({...X,[q]:Z}))},D=V=>{const{name:q,value:Z}=V.target;S(X=>({...X,prescription:{...X.prescription,[q]:Z}}))},R=(V,q)=>{const{value:Z}=q.target,X=[...j.prescription.schedules];X[V]={...X[V],time:Z},S(G=>({...G,prescription:{...G.prescription,schedules:X}}))},F=()=>{S(V=>({...V,prescription:{...V.prescription,schedules:[...V.prescription.schedules,{time:""}]}}))},A=V=>{const q=[...j.prescription.schedules];q.splice(V,1),S(Z=>({...Z,prescription:{...Z.prescription,schedules:q}}))},O=async V=>{V.preventDefault();try{const Z=await(await fetch(oe("/api/medical-records/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).json();Z.success?(f(null),P()):alert(Z.message)}catch{alert("Failed to connect to server.")}},$=async V=>{try{(await(await fetch(oe(`/api/medical-records/${V}`),{method:"DELETE"})).json()).success&&P()}catch{alert("Failed to connect to server.")}p(null)},K=async V=>{_(!0),N("");const q="You are a helpful medical assistant. Your task is to explain a patient's diagnosis and treatment plan in simple, clear, and reassuring terms. Avoid complex medical jargon. Keep the summary to 2-3 sentences.",Z=`Explain the following for a patient: Diagnosis is "${V.diagnosis}" and the treatment is "${V.treatment}".`;try{const X=await fetch(oe("/api/ai/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:q},{role:"user",content:Z}]})});if(!X.ok)throw new Error(`API error: ${X.status}`);const ae=(await X.json()).reply;N(ae||"Could not generate summary.")}catch(X){console.error("Gemini API error:",X),N("Error connecting to AI service.")}finally{_(!1)}},te=g.useMemo(()=>t.filter(V=>Object.values(V).some(q=>String(q).toLowerCase().includes(l.toLowerCase()))),[t,l]),W={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},z={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Medical Records"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage patient medical history and records."})]}),a.jsxs("button",{onClick:()=>f("add"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Add Record"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:W,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:z,children:a.jsx(Ay,{title:"Total Records",value:t.length,icon:mi,color:"text-blue-400"})}),a.jsx(Y.div,{variants:z,children:a.jsx(Ay,{title:"Records Today",value:t.filter(V=>new Date(V.recordDate).toDateString()===new Date().toDateString()).length,icon:$s,color:"text-yellow-400"})}),a.jsx(Y.div,{variants:z,children:a.jsx(Ay,{title:"Unique Patients",value:new Set(t.map(V=>V.patientName)).size,icon:zs,color:"text-green-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Fs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by patient, doctor, or diagnosis...",value:l,onChange:V=>u(V.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Patient"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Doctor"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Diagnosis"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Date"}),a.jsx("th",{className:"p-4 text-right text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:W,initial:"hidden",animate:"visible",children:te.map(V=>a.jsxs(Y.tr,{variants:z,className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsx("td",{className:"p-4 font-semibold",children:V.patientName}),a.jsxs("td",{className:"p-4 text-gray-400",children:["Dr. ",V.doctorName]}),a.jsx("td",{className:"p-4 font-medium",children:V.diagnosis}),a.jsx("td",{className:"p-4 text-gray-400 text-sm",children:new Date(V.recordDate).toLocaleDateString()}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>{w(V),N("")},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",title:"Summarize with AI",children:a.jsx(en,{size:18})}),a.jsx("button",{onClick:()=>p(V),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},V.id))})]}),te.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No medical records found."})]})]}),d==="add"&&a.jsx(Dy,{onClose:()=>f(null),width:"max-w-2xl",children:a.jsxs("form",{onSubmit:O,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add Medical Record"}),a.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto pr-2",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("select",{name:"patientId",onChange:T,className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),r.map(V=>a.jsxs("option",{value:V.id,children:[V.firstName," ",V.lastName," (ID: ",V.patientId,")"]},V.id))]}),a.jsxs("select",{name:"doctorId",onChange:T,className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select Doctor"}),i.map(V=>a.jsxs("option",{value:V.id,children:[V.firstName," ",V.lastName]},V.id))]}),a.jsx("input",{name:"recordDate",type:"date",onChange:T,className:"p-3 bg-gray-800 border-gray-700 rounded-lg col-span-2",required:!0})]}),a.jsx("input",{name:"diagnosis",onChange:T,placeholder:"Diagnosis",className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("textarea",{name:"treatment",onChange:T,placeholder:"Treatment Notes...",className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg",rows:3}),a.jsxs("div",{className:"p-4 border border-gray-700 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Prescription (Optional)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{name:"medicationName",value:j.prescription.medicationName,onChange:D,placeholder:"Medication Name",className:"w-full p-3 bg-gray-900 border-gray-600 rounded-lg"}),a.jsx("input",{name:"dosage",value:j.prescription.dosage,onChange:D,placeholder:"Dosage (e.g., 500mg)",className:"w-full p-3 bg-gray-900 border-gray-600 rounded-lg"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Scheduled Times"}),j.prescription.schedules.map((V,q)=>a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("input",{type:"time",value:V.time,onChange:Z=>R(q,Z),className:"w-full p-3 bg-gray-900 border-gray-600 rounded-lg"}),j.prescription.schedules.length>1&&a.jsx("button",{type:"button",onClick:()=>A(q),className:"p-2 bg-red-600/20 text-red-400 rounded-full hover:bg-red-600/40",children:a.jsx(or,{size:16})})]},q)),a.jsxs("button",{type:"button",onClick:F,className:"mt-2 text-sm font-semibold text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[a.jsx(Dn,{size:16})," Add Time"]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>f(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Save Record"})]})]})}),h&&a.jsxs(Dy,{onClose:()=>p(null),width:"max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete the record for "',h.patientName,'" on ',new Date(h.recordDate).toLocaleDateString(),"?"]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>p(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>$(h.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]}),y&&a.jsxs(Dy,{onClose:()=>w(null),width:"max-w-xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:" AI Patient Summary"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["A simplified explanation of the record for ",y.patientName,"."]}),!b&&!v&&a.jsxs("button",{onClick:()=>K(y),className:"w-full py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[a.jsx(en,{size:20})," Generate Summary"]}),v&&a.jsx("p",{className:"text-center text-gray-400 animate-pulse py-10",children:"AI is generating a summary..."}),b&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300",children:b}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(b),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Copy Text"}),a.jsx("button",{onClick:()=>w(null),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Done"})]})]})]})]})}const bC=({children:e,onClose:t})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:"bg-[#1C1C1E] rounded-2xl p-8 w-full max-w-lg border border-gray-700 shadow-2xl text-white",onClick:n=>n.stopPropagation(),children:e})})}),Ly=({title:e,value:t,icon:n,color:r})=>a.jsxs("div",{className:"bg-[#1C1C1E] p-5 rounded-2xl border border-gray-800",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-400",children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:t})]}),wH=({med:e,getStockStatusPill:t,openModal:n,setShowDeleteConfirm:r})=>a.jsxs("div",{className:"bg-[#1C1C1E] p-4 rounded-2xl border border-gray-800 flex flex-col space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-white",children:e.name}),a.jsx("div",{className:"text-sm text-gray-400",children:e.strength})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t(e.stockQuantity,e.reorderLevel).bg} ${t(e.stockQuantity,e.reorderLevel).text}`,children:t(e.stockQuantity,e.reorderLevel).label})]}),a.jsxs("div",{className:"text-sm text-gray-400",children:["Category: ",a.jsx("span",{className:"font-semibold text-teal-300",children:e.categoryName})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Stock"}),a.jsx("div",{className:"font-semibold text-white",children:e.stockQuantity})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Reorder"}),a.jsx("div",{className:"font-semibold text-white",children:e.reorderLevel})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t border-gray-800",children:[a.jsx("button",{onClick:()=>n("details",e),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(Sc,{size:18})}),a.jsx("button",{onClick:()=>n("edit",e),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(ki,{size:18})}),a.jsx("button",{onClick:()=>r(e),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})]});function _H(){const[e,t]=g.useState("medicines"),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState([]),[u,d]=g.useState(""),[f,h]=g.useState(null),[p,y]=g.useState(null),[w,b]=g.useState(null),[N,v]=g.useState({name:"",categoryId:"",description:"",dosageForm:"",strength:"",unitPrice:"",stockQuantity:"",reorderLevel:""}),_=async()=>{try{const[$,K,te]=await Promise.all([fetch(oe("/api/pharmacy/medicines")),fetch(oe("/api/pharmacy/categories")),fetch(oe("/api/pharmacy/prescriptions"))]);r(await $.json()||[]),i(await K.json()||[]),l(await te.json()||[])}catch($){console.error("Failed to fetch pharmacy data:",$)}};g.useEffect(()=>{_()},[]),g.useEffect(()=>{e==="prescriptions"&&_()},[e]);const j=($,K)=>{const{name:te,value:W}=$.target;K==="new"?v(z=>({...z,[te]:W})):K==="edit"&&p&&y(z=>z&&{...z,[te]:W})},S=async $=>{$.preventDefault();try{const te=await(await fetch(oe("/api/pharmacy/medicines/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).json();te.success?(h(null),_()):alert(te.message)}catch{alert("Failed to connect to server.")}},P=async $=>{if($.preventDefault(),!!p){console.log("selectedMedicine:",p);try{const te=await(await fetch(oe(`/api/pharmacy/medicines/${p.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).json();te.success?(h(null),_()):alert(te.message)}catch{alert("Failed to connect to server.")}}},E=async $=>{try{const te=await(await fetch(oe(`/api/pharmacy/medicines/${$}`),{method:"DELETE"})).json();te.success?_():alert(te.message)}catch{alert("Failed to connect to server.")}b(null)},C=async($,K)=>{try{const W=await(await fetch(oe(`/api/pharmacy/prescriptions/${$}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:K})})).json();W.success?_():alert(W.message)}catch{alert("Failed to connect to the server.")}},T=($,K=null)=>{h($),K&&y(JSON.parse(JSON.stringify(K))),$==="add"&&v({name:"",categoryId:"",description:"",dosageForm:"",strength:"",unitPrice:"",stockQuantity:"",reorderLevel:""})},D=g.useMemo(()=>n.filter($=>{var K;return(K=$.name)==null?void 0:K.toLowerCase().includes(u.toLowerCase())}),[n,u]),R=($,K)=>$<=K?{bg:"bg-red-500/20",text:"text-red-300",label:"Low Stock"}:$<=K*1.5?{bg:"bg-yellow-500/20",text:"text-yellow-300",label:"Warning"}:{bg:"bg-green-500/20",text:"text-green-300",label:"In Stock"},F={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},A={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},O=["medicines","categories","prescriptions"];return a.jsxs("div",{className:"p-8 font-sans text-white bg-black min-h-full",children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Pharmacy Management"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage medicines, categories, and prescriptions."})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:_,className:"bg-[#1C1C1E] text-gray-300 px-4 py-2 rounded-full flex items-center gap-2 hover:bg-gray-800 border border-gray-700",children:[a.jsx(aH,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{onClick:()=>T("add"),className:"bg-blue-600 text-white font-semibold px-5 py-2.5 rounded-full flex items-center gap-2 hover:bg-blue-700",children:[a.jsx(Dn,{className:"w-5 h-5"}),a.jsx("span",{children:"Add Medicine"})]})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:F,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:A,children:a.jsx(Ly,{title:"Total Medicines",value:n.length,icon:Ls,color:"text-blue-400"})}),a.jsx(Y.div,{variants:A,children:a.jsx(Ly,{title:"Low Stock",value:n.filter($=>$.stockQuantity<=$.reorderLevel).length,icon:BI,color:"text-red-400"})}),a.jsx(Y.div,{variants:A,children:a.jsx(Ly,{title:"Pending Prescriptions",value:o.filter($=>$.status==="active").length,icon:tH,color:"text-yellow-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800",children:[a.jsx("div",{className:"p-2 border-b border-gray-800",children:a.jsxs("div",{className:"flex space-x-2 relative",children:[O.map($=>a.jsx("button",{onClick:()=>t($),className:`flex-1 py-2.5 rounded-lg font-semibold transition-colors z-10 ${e===$?"text-white":"text-gray-400 hover:text-white"}`,children:$.charAt(0).toUpperCase()+$.slice(1)},$)),a.jsx(Y.div,{layoutId:"activeTabPill",className:"absolute h-full w-1/3 bg-blue-600 rounded-lg",transition:{type:"spring",stiffness:300,damping:25},initial:{x:`${O.indexOf(e)*100}%`},animate:{x:`${O.indexOf(e)*100}%`}})]})}),a.jsx("div",{className:"p-6",children:a.jsx(mt,{mode:"wait",children:a.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e==="medicines"&&a.jsxs("div",{children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Fs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search medicines...",value:u,onChange:$=>d($.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),a.jsx("div",{className:"md:hidden grid grid-cols-1 gap-4",children:D.map($=>a.jsx(wH,{med:$,getStockStatusPill:R,openModal:T,setShowDeleteConfirm:b},$.id))}),a.jsx("div",{className:"hidden md:block overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Medicine"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Category"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Stock"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"p-4 text-right text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:F,initial:"hidden",animate:"visible",children:D.map($=>{const K=R($.stockQuantity,$.reorderLevel);return a.jsxs(Y.tr,{variants:A,className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-semibold",children:$.name}),a.jsx("div",{className:"text-sm text-gray-400",children:$.strength})]}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-3 py-1 bg-teal-500/20 text-teal-300 rounded-full text-xs font-semibold",children:$.categoryName})}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-semibold",children:$.stockQuantity}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Reorder: ",$.reorderLevel]})]}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${K.bg} ${K.text}`,children:K.label})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>T("details",$),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(Sc,{size:18})}),a.jsx("button",{onClick:()=>T("edit",$),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(ki,{size:18})}),a.jsx("button",{onClick:()=>b($),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},$.id)})})]})})]}),e==="categories"&&a.jsx(Y.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",variants:F,initial:"hidden",animate:"visible",children:s.map($=>a.jsxs(Y.div,{variants:A,className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[a.jsx("h3",{children:$.name}),a.jsx("p",{className:"text-sm text-gray-400",children:$.description})]},$.id))}),e==="prescriptions"&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Patient"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Medication"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Prescribed By"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Date"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Status"})]})}),a.jsx(Y.tbody,{variants:F,initial:"hidden",animate:"visible",children:o.map($=>a.jsxs(Y.tr,{variants:A,className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsx("td",{className:"p-4 font-semibold",children:$.patientName}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-semibold",children:$.medicationName}),a.jsx("div",{className:"text-sm text-gray-400",children:$.dosage})]}),a.jsxs("td",{className:"p-4 text-gray-400",children:["Dr. ",$.doctorName]}),a.jsx("td",{className:"p-4 text-gray-400",children:new Date($.prescriptionDate).toLocaleDateString()}),a.jsx("td",{className:"p-4",children:a.jsxs("select",{value:$.status,onChange:K=>C($.id,K.target.value),className:`px-3 py-1.5 rounded-full text-xs font-semibold border-none outline-none appearance-none transition-colors ${$.status==="dispensed"?"bg-green-500/20 text-green-300":$.status==="canceled"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"} bg-opacity-100`,children:[a.jsx("option",{value:"active",className:"bg-gray-800 text-white",children:"Active"}),a.jsx("option",{value:"filled",className:"bg-gray-800 text-white",children:"Filled"}),a.jsx("option",{value:"canceled",className:"bg-gray-800 text-white",children:"Canceled"})]})})]},$.id))})]})})]},e)})})]}),f&&a.jsxs(bC,{onClose:()=>h(null),children:[f==="add"&&a.jsxs("form",{onSubmit:S,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Medicine"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"name",onChange:$=>j($,"new"),placeholder:"Medicine Name",className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsxs("select",{name:"categoryId",onChange:$=>j($,"new"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg col-span-2",required:!0,children:[a.jsx("option",{value:"",children:"Select Category"}),s.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]}),a.jsx("input",{name:"strength",onChange:$=>j($,"new"),placeholder:"Strength (e.g., 500mg)",className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("input",{type:"number",name:"stockQuantity",onChange:$=>j($,"new"),placeholder:"Stock Quantity",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>h(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Add Medicine"})]})]}),f==="edit"&&p&&a.jsxs("form",{onSubmit:P,children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Edit ",p.name]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"name",value:p.name,onChange:$=>j($,"edit"),className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("select",{name:"categoryId",value:p.categoryId,onChange:$=>j($,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg col-span-2",required:!0,children:s.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))}),a.jsx("input",{name:"strength",value:p.strength,onChange:$=>j($,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("input",{type:"number",name:"stockQuantity",value:p.stockQuantity,onChange:$=>j($,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>h(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Save Changes"})]})]}),f==="details"&&p&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:p.name}),a.jsx("button",{onClick:()=>h(null),className:"-mt-2 -mr-2 p-2 rounded-full hover:bg-gray-700",children:a.jsx(Wn,{size:20})})]}),a.jsxs("div",{className:"space-y-3 text-gray-300",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Category:"})," ",p.categoryName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Stock:"})," ",p.stockQuantity," units"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Reorder Level:"})," ",p.reorderLevel," units"]})]})]})]}),w&&a.jsxs(bC,{onClose:()=>b(null),children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete "',w.name,'"? This action cannot be undone.']}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>b(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>E(w.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]})]})}const ih=({children:e,onClose:t,width:n="max-w-lg"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),oh=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function jH(){const{theme:e}=Qe(),[t,n]=g.useState("tests"),[r,s]=g.useState([]),[i,o]=g.useState([]),[l,u]=g.useState(!1),[d,f]=g.useState(null),[h,p]=g.useState(null),[y,w]=g.useState(""),[b,N]=g.useState(!1),[v,_]=g.useState(null),[j,S]=g.useState(""),[P,E]=g.useState({testNumber:`LAB${Math.floor(1e3+Math.random()*9e3)}`,patientId:"",testName:"",testDate:""});g.useEffect(()=>{t==="tests"&&(C(),T())},[t]);const C=async()=>{try{const V=await fetch(oe("/api/laboratory/tests"));s(await V.json()||[])}catch(V){console.error("Failed to fetch lab tests:",V)}},T=async()=>{try{const V=await fetch(oe("/api/patients"));o(await V.json()||[])}catch(V){console.error("Failed to fetch patients:",V)}},D=V=>{const{name:q,value:Z}=V.target;E(X=>({...X,[q]:Z}))},R=async V=>{V.preventDefault();try{const Z=await(await fetch(oe("/api/laboratory/tests/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).json();Z.success?(u(!1),C()):alert(Z.message)}catch{alert("Failed to connect to server.")}},F=async(V,q)=>{if(q==="completed")_(V),S(V.result_text||"");else try{const X=await(await fetch(oe(`/api/laboratory/tests/${V.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:q})})).json();X.success?C():alert(X.message)}catch{alert("Failed to connect to server.")}},A=async()=>{if(v)try{const q=await(await fetch(oe(`/api/laboratory/tests/${v.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"completed",result_text:j})})).json();q.success?(_(null),C()):alert(q.message)}catch{alert("Failed to connect to server.")}},O=async V=>{try{const Z=await(await fetch(oe(`/api/laboratory/tests/${V}`),{method:"DELETE"})).json();Z.success?C():alert(Z.message)}catch{alert("Failed to connect to server.")}f(null)},$=async V=>{N(!0),w("");const q="You are a helpful medical assistant. Explain what a lab test is for in simple, clear, and reassuring terms for a patient. Avoid technical jargon. Keep the summary to 2-3 sentences.",Z=`Explain what a "${V.testName}" test is used for.`;try{const X=await fetch(oe("/api/ai/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:q},{role:"user",content:Z}]})});if(!X.ok)throw new Error(`API error: ${X.status}`);const ae=(await X.json()).reply;w(ae||"Could not generate summary.")}catch(X){console.error("Gemini API error:",X),w("Error connecting to AI service.")}finally{N(!1)}},K=V=>{switch(V){case"completed":return"bg-green-500/20 text-green-300";case"pending":return"bg-yellow-500/20 text-yellow-300";default:return"bg-gray-500/20 text-gray-400"}},te={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},W={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},z=["tests","results","vitals","equipment"];return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Laboratory"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage lab tests, results, and equipment."})]}),a.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"New Test"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",variants:te,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:W,children:a.jsx(oh,{title:"Total Tests",value:r.length,icon:uH,color:"text-blue-400"})}),a.jsx(Y.div,{variants:W,children:a.jsx(oh,{title:"Pending",value:r.filter(V=>V.status==="pending").length,icon:$s,color:"text-yellow-400"})}),a.jsx(Y.div,{variants:W,children:a.jsx(oh,{title:"Completed",value:r.filter(V=>V.status==="completed").length,icon:Ea,color:"text-green-400"})}),a.jsx(Y.div,{variants:W,children:a.jsx(oh,{title:"Equipment Active",value:"28",icon:dH,color:"text-orange-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800",children:[a.jsx("div",{className:"p-2 border-b border-gray-800",children:a.jsxs("div",{className:"flex space-x-2 relative",children:[z.map(V=>a.jsx("button",{onClick:()=>n(V),className:`flex-1 py-2.5 rounded-lg font-semibold transition-colors z-10 ${t===V?"text-white":"text-gray-400 hover:text-white"}`,children:V.charAt(0).toUpperCase()+V.slice(1)},V)),a.jsx(Y.div,{layoutId:"activeLabTab",className:"absolute h-full w-1/4 bg-blue-600 rounded-lg",transition:{type:"spring",stiffness:300,damping:25},animate:{x:`${z.indexOf(t)*100}%`}})]})}),a.jsx("div",{className:"p-6",children:a.jsx(mt,{mode:"wait",children:a.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[t==="tests"&&a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Test #"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Patient"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Test Name"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Date"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"p-4 text-right text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:te,initial:"hidden",animate:"visible",children:r.map(V=>a.jsxs(Y.tr,{variants:W,className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"font-semibold text-violet-400",children:V.testNumber})}),a.jsx("td",{className:"p-4 font-medium",children:V.patientName||""}),a.jsx("td",{className:"p-4 font-medium",children:V.testName}),a.jsx("td",{className:"p-4 text-sm text-gray-400",children:new Date(V.testDate).toLocaleDateString()}),a.jsx("td",{className:"p-4",children:a.jsxs("select",{value:V.status,onChange:q=>F(V,q.target.value),className:`px-3 py-1.5 rounded-full text-xs font-semibold border-none outline-none appearance-none transition-colors ${K(V.status)} bg-opacity-100`,children:[a.jsx("option",{value:"pending",className:"bg-gray-800 text-white",children:"Pending"}),a.jsx("option",{value:"completed",className:"bg-gray-800 text-white",children:"Completed"})]})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>{p(V),w("")},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",title:"Explain with AI",children:a.jsx(en,{size:18})}),a.jsx("button",{onClick:()=>f(V),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},V.id))})]}),r.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No lab tests found."})]}),t!=="tests"&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx(co,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsxs("p",{className:"text-gray-500",children:[t.charAt(0).toUpperCase()+t.slice(1)," section is under construction."]})]})]},t)})})]}),l&&a.jsx(ih,{onClose:()=>u(!1),children:a.jsxs("form",{onSubmit:R,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Schedule New Lab Test"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"testNumber",value:P.testNumber,className:"p-3 bg-gray-800 border-gray-700 rounded-lg",disabled:!0}),a.jsxs("select",{name:"patientId",onChange:D,className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),i.map(V=>a.jsxs("option",{value:V.id,children:[V.firstName," ",V.lastName]},V.id))]}),a.jsx("input",{name:"testName",onChange:D,placeholder:"Test Name",className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"date",name:"testDate",onChange:D,className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Add Test"})]})]})}),d&&a.jsxs(ih,{onClose:()=>f(null),width:"max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete test "',d.testName,'" for "',d.patientName,'"?']}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>f(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>O(d.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]}),h&&a.jsxs(ih,{onClose:()=>p(null),width:"max-w-xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:" AI Test Explainer"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['A simplified explanation of the "',h.testName,'" test.']}),!y&&!b&&a.jsxs("button",{onClick:()=>$(h),className:"w-full py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[a.jsx(en,{size:20})," Generate Explanation"]}),b&&a.jsx("p",{className:"text-center text-gray-400 animate-pulse py-10",children:"AI is generating an explanation..."}),y&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300",children:y}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(y),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Copy Text"}),a.jsx("button",{onClick:()=>p(null),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Done"})]})]})]}),v&&a.jsxs(ih,{onClose:()=>_(null),children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Enter Lab Result"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Enter the result for "',v.testName,'" for patient "',v.patientName,'".']}),a.jsx("textarea",{value:j,onChange:V=>S(V.target.value),className:"w-full p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300 h-48 resize-none",placeholder:"Enter lab result details here..."}),a.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>_(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Save Result"})]})]})]})}const Iy=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})},wC=({children:e,onClose:t})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:"bg-[#1C1C1E] rounded-2xl p-8 w-full max-w-lg border border-gray-700 shadow-2xl text-white",onClick:n=>n.stopPropagation(),children:e})})});function NH(){const{theme:e}=Qe(),[t,n]=g.useState([]),[r,s]=g.useState(!1),[i,o]=g.useState(null),[l,u]=g.useState([]),[d,f]=g.useState([]),[h,p]=g.useState({surgeryNumber:`SURG-${Math.floor(1e3+Math.random()*9e3)}`,patientId:"",surgeonId:"",surgeryType:"",surgeryDate:"",notes:""});g.useEffect(()=>{y(),w(),b()},[]);const y=async()=>{try{const D=await(await fetch(oe("/api/surgical"))).json();n(Array.isArray(D)?D:[])}catch(T){console.error("Failed to fetch surgeries:",T)}},w=async()=>{try{const T=await fetch(oe("/api/patients"));u(await T.json())}catch(T){console.error("Failed to fetch patients:",T)}},b=async()=>{try{const D=await(await fetch(oe("/api/employees"))).json();f(D.filter(R=>R.role==="doctor"||R.position.toLowerCase().includes("surgeon")))}catch(T){console.error("Failed to fetch surgeons:",T)}},N=T=>{const{name:D,value:R}=T.target;p(F=>({...F,[D]:R}))},v=async T=>{T.preventDefault();try{const R=await(await fetch(oe("/api/surgical/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();R.success?(s(!1),y()):alert(R.message)}catch(D){console.error("Failed to connect to server.",D),alert("Failed to connect to server.")}},_=async(T,D)=>{try{const F=await(await fetch(oe(`/api/surgical/${T}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:D})})).json();F.success?y():alert(F.message)}catch(R){console.error("Failed to connect to server.",R),alert("Failed to connect to server.")}},j=async T=>{try{const R=await(await fetch(oe(`/api/surgical/${T}`),{method:"DELETE"})).json();R.success?y():alert(R.message)}catch(D){console.error("Failed to connect to server",D),alert("Failed to connect to server")}o(null)},S=T=>{switch(T){case"completed":return"bg-green-500/20 text-green-300";case"canceled":return"bg-red-500/20 text-red-300";case"scheduled":default:return"bg-blue-500/20 text-blue-300"}},P={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},E={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},C=g.useMemo(()=>t.filter(T=>new Date(T.surgeryDate).toDateString()===new Date().toDateString()).length,[t]);return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Surgical Module"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage all scheduled and completed surgeries."})]}),a.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Schedule Surgery"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:P,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:E,children:a.jsx(Iy,{title:"Total Surgeries",value:t.length,icon:ec,color:"text-blue-400"})}),a.jsx(Y.div,{variants:E,children:a.jsx(Iy,{title:"Scheduled Today",value:C,icon:zr,color:"text-orange-400"})}),a.jsx(Y.div,{variants:E,children:a.jsx(Iy,{title:"Completed",value:t.filter(T=>T.status==="completed").length,icon:Ea,color:"text-green-400"})})]}),a.jsx("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Procedure"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Patient & Surgeon"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Date & Time"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:P,initial:"hidden",animate:"visible",children:t.map(T=>a.jsxs(Y.tr,{variants:E,className:"border-b border-gray-800 hover:bg-gray-800/50 transition-colors",children:[a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"font-semibold",children:T.surgeryType}),a.jsx("p",{className:"text-xs text-gray-500",children:T.surgeryNumber})]}),a.jsxs("td",{className:"p-4 text-sm text-gray-300",children:[a.jsx("div",{children:T.patientName}),a.jsxs("div",{className:"text-gray-500 text-xs",children:["Dr. ",T.surgeonName]})]}),a.jsx("td",{className:"p-4 text-gray-400 text-sm",children:new Date(T.surgeryDate).toLocaleString()}),a.jsx("td",{className:"p-4",children:a.jsxs("select",{value:T.status,onChange:D=>_(T.id,D.target.value),className:`px-3 py-1.5 rounded-full text-xs font-semibold border-none outline-none appearance-none transition-colors ${S(T.status)} bg-opacity-100`,children:[a.jsx("option",{value:"scheduled",className:"bg-gray-800 text-white",children:"Scheduled"}),a.jsx("option",{value:"completed",className:"bg-gray-800 text-white",children:"Completed"}),a.jsx("option",{value:"canceled",className:"bg-gray-800 text-white",children:"Canceled"})]})}),a.jsx("td",{className:"p-4",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("button",{onClick:()=>o(T),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})})})]},T.id))})]}),t.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No surgeries scheduled."})]})}),r&&a.jsx(wC,{onClose:()=>s(!1),children:a.jsxs("form",{onSubmit:v,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:"Schedule New Surgery"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("select",{name:"patientId",onChange:N,className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg text-white",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),l.map(T=>a.jsxs("option",{value:T.id,children:[T.firstName," ",T.lastName]},T.id))]}),a.jsxs("select",{name:"surgeonId",onChange:N,className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg text-white",required:!0,children:[a.jsx("option",{value:"",children:"Select Surgeon"}),d.map(T=>a.jsxs("option",{value:T.id,children:[T.firstName," ",T.lastName]},T.id))]}),a.jsx("input",{name:"surgeryType",onChange:N,placeholder:"Surgery Type / Procedure",className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg text-white",required:!0}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Surgery Date & Time"}),a.jsx("input",{name:"surgeryDate",type:"datetime-local",onChange:N,className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg text-white mt-1",required:!0})]}),a.jsx("textarea",{name:"notes",onChange:N,placeholder:"Notes...",className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg text-white",rows:3})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Schedule"})]})]})}),i&&a.jsxs(wC,{onClose:()=>o(null),children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete the surgery record for "',i.patientName,'"? This action cannot be undone.']}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>o(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>j(i.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]})]})}const Ry=({children:e,onClose:t,width:n="max-w-2xl"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),Oy=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function SH(){const{theme:e}=Qe(),[t,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState(""),[l,u]=g.useState(null),[d,f]=g.useState(null),[h,p]=g.useState(null),[y,w]=g.useState(null),[b,N]=g.useState(null),[v,_]=g.useState(""),[j,S]=g.useState(!1),[P,E]=g.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[C,T]=g.useState({employeeId:`EMP${Math.floor(1e3+Math.random()*9e3)}`,firstName:"",lastName:"",email:"",password:"",phone:"",departmentId:"",position:"",role:"staff",hireDate:"",salary:""});g.useEffect(()=>{(async()=>{try{const[ae,fe]=await Promise.all([fetch(oe("/api/employees")),fetch(oe("/api/employees/departments"))]);n(await ae.json()||[]),s(await fe.json()||[])}catch(ae){console.error("Failed to fetch initial data:",ae)}})()},[]);const D=async()=>{try{const G=await fetch(oe("/api/employees"));n(await G.json()||[])}catch(G){console.error("Failed to fetch employees:",G)}},R=(G,ae)=>{const{name:fe,value:ge}=G.target;ae==="new"?T(be=>({...be,[fe]:ge})):d&&f(be=>be?{...be,[fe]:ge}:null)},F=async G=>{if(G.preventDefault(),!C.password){alert("Password is required for new employees.");return}try{const fe=await(await fetch(oe("/api/employees/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json();fe.success?(u(null),D(),w(C)):alert(fe.message)}catch{alert("Failed to connect to the server.")}},A=async G=>{if(G.preventDefault(),!!d)try{const fe=await(await fetch(oe(`/api/employees/${d.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();fe.success?(u(null),D()):alert(fe.message)}catch{alert("Failed to connect to server.")}},O=async G=>{try{(await(await fetch(oe(`/api/employees/${G}`),{method:"DELETE"})).json()).success&&D()}catch{alert("Failed to connect to server.")}p(null)},$=G=>{const{name:ae,value:fe}=G.target;E(ge=>({...ge,[ae]:fe}))},K=async G=>{if(G.preventDefault(),P.newPassword!==P.confirmPassword){alert("New passwords do not match.");return}if(d)try{const fe=await(await fetch(oe(`/api/employees/change-password/${d.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).json();fe.success?(u(null),D(),alert("Password updated successfully!")):alert(fe.message)}catch{alert("Failed to connect to the server.")}},te=async G=>{if(d)try{const fe=await(await fetch(oe(`/api/employees/reset-password/${d.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:G})})).json();fe.success?(u(null),alert("Password has been reset successfully!")):alert(fe.message)}catch{alert("Failed to connect to the server.")}},W=async G=>{var be;S(!0),_("");const ae=((be=r.find(ke=>ke.id==G.departmentId))==null?void 0:be.name)||"their new",fe="You are an HR Manager for 'Shree Medicare Hospital'. Your tone is professional, welcoming, and informative.",ge=`Draft a welcome/onboarding email for a new employee named ${G.firstName} ${G.lastName} who is joining as a ${G.position} in the ${ae} department. Their start date is ${new Date(G.hireDate).toLocaleDateString()}. Include some brief welcome text, a note about what to expect on their first day (like meeting the team), and who their point of contact is.`;try{const ke=await fetch(oe("/api/ai/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:fe},{role:"user",content:ge}]})});if(!ke.ok)throw new Error(`API error: ${ke.status}`);const me=(await ke.json()).reply;_(me||"Could not generate email draft.")}catch(ke){console.error("Gemini API error:",ke),_("Error connecting to AI service.")}finally{S(!1)}},z=(G,ae=null)=>{u(G),ae&&f(JSON.parse(JSON.stringify(ae))),G==="add"&&T({employeeId:`EMP${Math.floor(1e3+Math.random()*9e3)}`,firstName:"",lastName:"",email:"",password:"",phone:"",departmentId:"",position:"",role:"staff",hireDate:"",salary:""})},V=g.useMemo(()=>t.filter(G=>`${G.firstName} ${G.lastName} ${G.employeeId}`.toLowerCase().includes(i.toLowerCase())),[t,i]),q=G=>{switch(G){case"active":return"bg-green-500/20 text-green-300";case"inactive":return"bg-red-500/20 text-red-300";case"on_leave":return"bg-yellow-500/20 text-yellow-300";default:return"bg-gray-500/20 text-gray-400"}},Z={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},X={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Employee Management"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage all staff members and their roles."})]}),a.jsxs("button",{onClick:()=>z("add"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Add Employee"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:Z,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:X,children:a.jsx(Oy,{title:"Total Staff",value:t.length,icon:zs,color:"text-blue-400"})}),a.jsx(Y.div,{variants:X,children:a.jsx(Oy,{title:"Doctors",value:t.filter(G=>G.role==="doctor").length,icon:J_,color:"text-green-400"})}),a.jsx(Y.div,{variants:X,children:a.jsx(Oy,{title:"Departments",value:r.length,icon:Tb,color:"text-cyan-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Fs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by name or employee ID...",value:i,onChange:G=>o(G.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Name"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Department"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Role"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"p-4 text-right text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:Z,initial:"hidden",animate:"visible",children:V.map(G=>a.jsxs(Y.tr,{variants:X,className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsxs("td",{className:"p-4",children:[a.jsxs("div",{className:"font-semibold",children:[G.firstName," ",G.lastName]}),a.jsx("div",{className:"text-sm text-gray-400",children:G.email})]}),a.jsx("td",{className:"p-4 text-gray-400",children:G.departmentName}),a.jsx("td",{className:"p-4 capitalize text-gray-300",children:G.role}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${q(G.status)}`,children:G.status.replace("_"," ").toUpperCase()})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>z("details",G),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(Sc,{size:18})}),a.jsx("button",{onClick:()=>z("edit",G),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(ki,{size:18})}),a.jsx("button",{onClick:()=>z("password",G),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(Tb,{size:18})}),a.jsx("button",{onClick:()=>p(G),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},G.id))})]}),V.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No employees found."})]})]}),l&&a.jsxs(Ry,{onClose:()=>u(null),width:l==="details"?"max-w-lg":"max-w-2xl",children:[l==="add"&&a.jsxs("form",{onSubmit:F,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Employee"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"firstName",onChange:G=>R(G,"new"),placeholder:"First Name",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{name:"lastName",onChange:G=>R(G,"new"),placeholder:"Last Name",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"email",name:"email",onChange:G=>R(G,"new"),placeholder:"Email",className:"p-3 bg-gray-800 border-gray-700 rounded-lg col-span-2",required:!0}),a.jsx("input",{type:"password",name:"password",onChange:G=>R(G,"new"),placeholder:"Password",className:"p-3 bg-gray-800 border-gray-700 rounded-lg col-span-2",required:!0}),a.jsxs("select",{name:"departmentId",onChange:G=>R(G,"new"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select Department"}),r.map(G=>a.jsx("option",{value:G.id,children:G.name},G.id))]}),a.jsx("input",{name:"position",onChange:G=>R(G,"new"),placeholder:"Position",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"date",name:"hireDate",onChange:G=>R(G,"new"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsxs("select",{name:"role",value:C.role,onChange:G=>R(G,"new"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"staff",children:"Staff"}),a.jsx("option",{value:"doctor",children:"Doctor"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"ROLE_DISPATCHER",children:"Dispatcher"}),a.jsx("option",{value:"ROLE_PARAMEDIC",children:"Paramedic"}),a.jsx("option",{value:"ROLE_ER_STAFF",children:"ER Staff"})]}),a.jsx("input",{name:"phone",onChange:G=>R(G,"new"),placeholder:"Phone",className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("input",{type:"number",name:"salary",step:"0.01",onChange:G=>R(G,"new"),placeholder:"Salary",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Add Employee"})]})]}),l==="edit"&&d&&a.jsxs("form",{onSubmit:A,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Edit Employee"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"firstName",value:d.firstName,onChange:G=>R(G,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("input",{name:"lastName",value:d.lastName,onChange:G=>R(G,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("input",{name:"position",value:d.position,onChange:G=>R(G,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsxs("select",{name:"status",value:d.status,onChange:G=>R(G,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on_leave",children:"On Leave"})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Save Changes"})]})]}),l==="password"&&d&&a.jsxs("form",{onSubmit:K,children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Change Password for ",d.firstName]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx("input",{type:"password",name:"oldPassword",onChange:$,placeholder:"Old Password",value:P.oldPassword,className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"password",name:"newPassword",onChange:$,placeholder:"New Password",value:P.newPassword,className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"password",name:"confirmPassword",onChange:$,placeholder:"Confirm New Password",value:P.confirmPassword,className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Update Password"})]})]}),l==="details"&&d&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[d.firstName," ",d.lastName]}),a.jsx("button",{onClick:()=>u(null),className:"-mt-2 -mr-2 p-2 rounded-full hover:bg-gray-700",children:a.jsx(Wn,{size:20})})]}),a.jsxs("div",{className:"space-y-3 text-gray-300",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Position:"})," ",d.position]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Department:"})," ",d.departmentName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",d.email]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",a.jsx("span",{className:"font-semibold capitalize",children:d.status.replace("_"," ")})]})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-800",children:a.jsx("button",{onClick:()=>{const G=prompt("Enter new password for the employee:");G&&te(G)},className:"w-full py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Reset Password"})})]})]}),h&&a.jsxs(Ry,{onClose:()=>p(null),width:"max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete employee "',h.firstName," ",h.lastName,'"?']}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>p(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>O(h.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]}),y&&a.jsxs(Ry,{onClose:()=>w(null),width:"max-w-2xl",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[a.jsx(Ea,{className:"text-green-400"})," Employee Added Successfully!"]}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["Use the AI assistant to generate a welcome email for ",y.firstName,"."]}),!v&&!j&&a.jsxs("button",{onClick:()=>W(y),className:"w-full py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[a.jsx(en,{size:20})," Generate Onboarding Email"]}),j&&a.jsx("p",{className:"text-center text-gray-400 animate-pulse py-10",children:"AI is drafting an email..."}),v&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{value:v,onChange:G=>_(G.target.value),className:"w-full p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300 h-72 resize-none"}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(v),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Copy Text"}),a.jsx("button",{onClick:()=>w(null),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Done"})]})]})]})]})}const $y=({children:e,onClose:t,width:n="max-w-lg"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),Fy=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function kH(){const{theme:e}=Qe(),[t,n]=g.useState("receivable"),[r,s]=g.useState([]),[i,o]=g.useState([]),[l,u]=g.useState([]),[d,f]=g.useState([]),[h,p]=g.useState(!1),[y,w]=g.useState(null),[b,N]=g.useState(null),[v,_]=g.useState(null),[j,S]=g.useState(""),[P,E]=g.useState(!1),[C,T]=g.useState(!1),[D,R]=g.useState(""),[F,A]=g.useState(""),[O,$]=g.useState({type:"receivable",invoiceNumber:`INV-${Math.floor(1e3+Math.random()*9e3)}`,name:"",amount:"",dueDate:"",patientId:""});g.useEffect(()=>{(async()=>{try{const[me,Ne,ce,ue]=await Promise.all([fetch(oe("/api/accounting/payable")),fetch(oe("/api/accounting/receivable")),fetch(oe("/api/patients")),fetch(oe("/api/vendors"))]);s(await me.json()||[]),o(await Ne.json()||[]),u(await ce.json()||[]),f(await ue.json()||[])}catch(me){console.error("Failed to fetch accounting data:",me)}})()},[]);const K=()=>{fetch(oe("/api/accounting/payable")).then(re=>re.json()).then(re=>s(Array.isArray(re)?re:[])),fetch(oe("/api/accounting/receivable")).then(re=>re.json()).then(re=>o(Array.isArray(re)?re:[]))},te=re=>{const{name:me,value:Ne}=re.target,ce=me==="type"?`INV-${Math.floor(1e3+Math.random()*9e3)}`:O.invoiceNumber;$(ue=>({...ue,[me]:Ne,invoiceNumber:ce}))},W=async re=>{re.preventDefault();try{(await(await fetch(oe("/api/accounting/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)})).json()).success?(p(!1),K()):alert("Failed to add entry.")}catch{alert("Failed to connect to server.")}},z=async(re,me,Ne)=>{try{if((await(await fetch(oe(`/api/accounting/${re}/${me}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:Ne})})).json()).success){if(re==="receivable"&&Ne==="paid"){const xe=i.find(je=>je.id===me)||r.find(je=>je.id===me);if(xe){const je=l.find(Ce=>Ce.id===xe.patientId);A((je==null?void 0:je.phone)||""),_(xe),S("")}}K()}else alert("Failed to update status.")}catch{alert("Failed to connect to server.")}},V=async(re,me)=>{try{(await(await fetch(oe(`/api/accounting/${re}/${me}`),{method:"DELETE"})).json()).success?K():alert("Failed to delete entry.")}catch{alert("Failed to connect to server.")}w(null)},q=async(re,me)=>{E(!0),S(""),R("");const Ne="You are a friendly but professional accounting assistant for 'Shree Medicare Hospital'. Your task is to draft a brief and polite message suitable for an SMS or short email.",ce=me==="reminder"?`Draft a payment reminder for patient ${re.patientName} regarding invoice #${re.invoiceNumber} for the amount of $${re.amount}, which was due on ${new Date(re.dueDate).toLocaleDateString()}.`:`Draft a payment confirmation for patient ${re.patientName} for invoice #${re.invoiceNumber} for the amount of $${re.amount}. Thank them for their payment and confirm the payment has been received.`;try{const ue=await fetch(oe("/api/ai/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:Ne},{role:"user",content:ce}]})});if(!ue.ok)throw new Error(`API error: ${ue.status}`);const je=(await ue.json()).reply;S(je||"Could not generate draft.")}catch(ue){console.error("Gemini API error:",ue),S("Error connecting to AI service.")}finally{E(!1)}},Z=async()=>{if(!F||!j){R("Error: Phone number or message is missing.");return}T(!0),R("Sending...");try{const me=await(await fetch(oe("/api/sms/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:F,message:j})})).json();me.success?R("Sent Successfully!"):R(`Error: ${me.error||me.message}`)}catch{R("Error: Failed to connect to SMS service.")}finally{T(!1)}},X=re=>{switch(re){case"paid":return"bg-green-500/20 text-green-300";case"pending":return"bg-yellow-500/20 text-yellow-300";case"overdue":return"bg-red-500/20 text-red-300";default:return"bg-gray-500/20 text-gray-400"}},G=g.useMemo(()=>i.reduce((re,me)=>me.paymentStatus!=="paid"?re+Number(me.amount):re,0),[i]),ae=g.useMemo(()=>r.reduce((re,me)=>me.paymentStatus!=="paid"?re+Number(me.amount):re,0),[r]),fe=t==="payable"?r:i,ge={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},be={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},ke=["receivable","payable"];return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Accounting"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage all financial transactions and records."})]}),a.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"New Entry"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:ge,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:be,children:a.jsx(Fy,{title:"Total Receivable",value:`$${G.toLocaleString()}`,icon:KW,color:"text-green-400"})}),a.jsx(Y.div,{variants:be,children:a.jsx(Fy,{title:"Total Payable",value:`$${ae.toLocaleString()}`,icon:JW,color:"text-red-400"})}),a.jsx(Y.div,{variants:be,children:a.jsx(Fy,{title:"Net Balance",value:`$${(G-ae).toLocaleString()}`,icon:us,color:"text-blue-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800",children:[a.jsx("div",{className:"p-2 border-b border-gray-800",children:a.jsxs("div",{className:"flex space-x-2 relative",children:[ke.map(re=>a.jsx("button",{onClick:()=>n(re),className:`flex-1 py-2.5 rounded-lg font-semibold transition-colors z-10 ${t===re?"text-white":"text-gray-400 hover:text-white"}`,children:re==="receivable"?"Accounts Receivable":"Accounts Payable"},re)),a.jsx(Y.div,{layoutId:"activeAcctTab",className:"absolute h-full w-1/2 bg-blue-600 rounded-lg",transition:{type:"spring",stiffness:300,damping:25},animate:{x:`${ke.indexOf(t)*100}%`}})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Invoice #"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:t==="payable"?"Vendor":"Patient"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Amount"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Due Date"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"p-4 text-right text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:ge,initial:"hidden",animate:"visible",children:fe.map(re=>a.jsxs(Y.tr,{variants:be,className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsx("td",{className:"p-4 font-semibold text-pink-400",children:re.invoiceNumber}),a.jsx("td",{className:"p-4",children:t==="payable"?re.vendorName:re.patientName}),a.jsxs("td",{className:"p-4 font-semibold text-lg",children:["$",Number(re.amount).toLocaleString()]}),a.jsx("td",{className:"p-4 text-sm text-gray-400",children:new Date(re.dueDate).toLocaleDateString()}),a.jsx("td",{className:"p-4",children:a.jsxs("select",{value:re.paymentStatus,onChange:me=>z(t,re.id,me.target.value),className:`px-3 py-1.5 rounded-full text-xs font-semibold border-none outline-none appearance-none transition-colors ${X(re.paymentStatus)} bg-opacity-100`,children:[a.jsx("option",{value:"pending",className:"bg-gray-800 text-white",children:"Pending"}),a.jsx("option",{value:"paid",className:"bg-gray-800 text-white",children:"Paid"}),a.jsx("option",{value:"overdue",className:"bg-gray-800 text-white",children:"Overdue"})]})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t==="receivable"&&re.paymentStatus!=="paid"&&a.jsx("button",{onClick:()=>{const me=l.find(Ne=>Ne.id===re.patientId);A((me==null?void 0:me.phone)||""),N(re),S("")},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",title:"Send Reminder",children:a.jsx(sg,{size:18})}),a.jsx("button",{onClick:()=>w({type:t,...re}),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},re.id))},t)]}),fe.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No entries found."})]})})]}),h&&a.jsx($y,{onClose:()=>p(!1),children:a.jsxs("form",{onSubmit:W,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"New Accounting Entry"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("select",{name:"type",value:O.type,onChange:te,className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"receivable",children:"Receivable (Patient Bill)"}),a.jsx("option",{value:"payable",children:"Payable (Vendor Bill)"})]}),O.type==="payable"?a.jsxs("select",{name:"name",onChange:te,className:"p-3 bg-gray-800 border-gray-700 rounded-lg col-span-2",required:!0,children:[a.jsx("option",{value:"",children:"Select Vendor"}),d.map(re=>a.jsx("option",{value:re.vendorName,children:re.vendorName},re.id))]}):a.jsxs("select",{name:"patientId",onChange:te,className:"p-3 bg-gray-800 border-gray-700 rounded-lg col-span-2",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),l.map(re=>a.jsxs("option",{value:re.id,children:[re.firstName," ",re.lastName]},re.id))]}),a.jsx("input",{type:"number",name:"amount",step:"0.01",onChange:te,placeholder:"Amount",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"date",name:"dueDate",onChange:te,className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Add Entry"})]})]})}),y&&a.jsxs($y,{onClose:()=>w(null),width:"max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete invoice "',y.invoiceNumber,'"?']}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>w(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>V(y.type,y.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]}),(b||v)&&a.jsxs($y,{onClose:()=>{N(null),_(null)},width:"max-w-xl",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[v?a.jsx(Ea,{className:"text-green-400"}):a.jsx(en,{className:"text-blue-400"}),v?"Payment Confirmation":"AI Reminder Assistant"]}),a.jsx("p",{className:"text-gray-400 mb-6",children:v?`Draft a payment confirmation for ${v.patientName}.`:`Draft a payment reminder for ${b.patientName}.`}),!j&&!P&&a.jsxs("button",{onClick:()=>q(b||v,v?"confirmation":"reminder"),className:"w-full py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[a.jsx(en,{size:20})," Generate Message"]}),P&&a.jsx("p",{className:"text-center text-gray-400 animate-pulse py-10",children:"AI is drafting a message..."}),j&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",value:F,onChange:re=>A(re.target.value),placeholder:"Recipient number e.g. +911234567890",className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg text-white placeholder:text-gray-500"}),a.jsx("textarea",{value:j,onChange:re=>S(re.target.value),className:"w-full p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300 h-48 resize-none"}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(j),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Copy"}),a.jsxs("button",{onClick:Z,disabled:C,className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 disabled:bg-gray-500 flex items-center gap-2",children:[a.jsx(K_,{size:16}),C?"Sending...":"Send SMS"]})]}),D&&a.jsx("p",{className:`text-sm text-center mt-2 ${D.startsWith("Error")?"text-red-400":"text-green-400"}`,children:D})]})]})]})}const zy=({children:e,onClose:t,width:n="max-w-lg"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),By=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function CH(){const{theme:e}=Qe(),[t,n]=g.useState([]),[r,s]=g.useState(!1),[i,o]=g.useState(null),[l,u]=g.useState(null),[d,f]=g.useState(""),[h,p]=g.useState(!1),[y,w]=g.useState([]),[b,N]=g.useState({employeeId:"",payPeriodStart:"",payPeriodEnd:""});g.useEffect(()=>{v(),_()},[]);const v=async()=>{try{const O=await(await fetch(oe("/api/payroll"))).json();n(Array.isArray(O)?O:[])}catch(A){console.error("Failed to fetch payrolls:",A)}},_=async()=>{try{const A=await fetch(oe("/api/employees"));w(await A.json())}catch(A){console.error("Failed to fetch employees:",A)}},j=async A=>{p(!0),f("");const O="You are an HR assistant for a hospital named 'Shree Medicare'. Your tone is professional, friendly, and concise.",$=`Draft an email to an employee named ${A.firstName} ${A.lastName} notifying them that their salary of $${Number(A.basicSalary).toLocaleString()} for the pay period ${new Date(A.payPeriodStart).toLocaleDateString()} to ${new Date(A.payPeriodEnd).toLocaleDateString()} has been processed. Mention that the amount will be reflected in their bank account shortly. Keep it brief.`;try{const K=await fetch(oe("/api/ai/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:O},{role:"user",content:$}]})});if(!K.ok)throw new Error(`API call failed with status: ${K.status}`);const W=(await K.json()).reply;f(W||"Sorry, I couldn't generate an email draft at this time.")}catch(K){console.error("Gemini API error:",K),f("Error: Could not connect to the AI service. Please check the server configuration.")}finally{p(!1)}},S=A=>{const{name:O,value:$}=A.target;N(K=>({...K,[O]:$}))},P=async A=>{A.preventDefault();try{const $=await(await fetch(oe("/api/payroll/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).json();$.success?(s(!1),v()):alert($.message)}catch(O){console.error("Failed to connect to server.",O),alert("Failed to connect to server.")}},E=async(A,O)=>{try{const K=await(await fetch(oe(`/api/payroll/${A}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:O})})).json();K.success?v():alert(K.message)}catch($){console.error("Failed to connect to server.",$),alert("Failed to connect to server.")}},C=async A=>{try{const $=await(await fetch(oe(`/api/payroll/${A}`),{method:"DELETE"})).json();$.success?v():alert($.message)}catch(O){console.error("Failed to connect to server.",O),alert("Failed to connect to server.")}o(null)},T=A=>{switch(A){case"paid":return"bg-green-500/20 text-green-300";case"pending":return"bg-yellow-500/20 text-yellow-300";default:return"bg-gray-500/20 text-gray-300"}},D={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},R={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},F=g.useMemo(()=>t.filter(A=>A.status==="pending").reduce((A,O)=>A+Number(O.basicSalary),0),[t]);return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Payroll Management"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage employee salaries and payment history."})]}),a.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Generate Payroll"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:D,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:R,children:a.jsx(By,{title:"Total Payroll Records",value:t.length,icon:zs,color:"text-blue-400"})}),a.jsx(Y.div,{variants:R,children:a.jsx(By,{title:"Pending Payments",value:`$${F.toLocaleString()}`,icon:$s,color:"text-yellow-400"})}),a.jsx(Y.div,{variants:R,children:a.jsx(By,{title:"Employees on Payroll",value:y.length,icon:us,color:"text-green-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Payroll History"}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Employee"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Pay Period"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Salary"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:D,initial:"hidden",animate:"visible",children:t.map(A=>a.jsxs(Y.tr,{variants:R,className:"border-b border-gray-800 hover:bg-gray-800/50 transition-colors",children:[a.jsxs("td",{className:"p-4 font-semibold",children:[A.firstName," ",A.lastName]}),a.jsxs("td",{className:"p-4 text-gray-400 text-sm",children:[new Date(A.payPeriodStart).toLocaleDateString()," - ",new Date(A.payPeriodEnd).toLocaleDateString()]}),a.jsxs("td",{className:"p-4 font-semibold text-lg",children:["$",Number(A.basicSalary).toLocaleString()]}),a.jsx("td",{className:"p-4",children:a.jsxs("select",{value:A.status,onChange:O=>E(A.id,O.target.value),className:`px-3 py-1.5 rounded-full text-xs font-semibold border-none outline-none appearance-none transition-colors ${T(A.status)} bg-opacity-100`,children:[a.jsx("option",{value:"pending",className:"bg-gray-800 text-white",children:"Pending"}),a.jsx("option",{value:"paid",className:"bg-gray-800 text-white",children:"Paid"})]})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>{u(A),f("")},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",title:"Notify Employee",children:a.jsx(sg,{size:18})}),a.jsx("button",{onClick:()=>o(A),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",title:"Delete Record",children:a.jsx(or,{size:18})})]})})]},A.id))})]}),t.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No payroll records found."})]})]}),r&&a.jsx(zy,{onClose:()=>s(!1),children:a.jsxs("form",{onSubmit:P,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:"Generate New Payroll"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("select",{name:"employeeId",onChange:S,className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg text-white",required:!0,children:[a.jsx("option",{value:"",children:"Select Employee"}),y.map(A=>a.jsxs("option",{value:A.id,children:[A.firstName," ",A.lastName]},A.id))]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Pay Period Start"}),a.jsx("input",{name:"payPeriodStart",type:"date",onChange:S,className:"w-full mt-1 p-3 bg-gray-800 border-gray-700 rounded-lg text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Pay Period End"}),a.jsx("input",{name:"payPeriodEnd",type:"date",onChange:S,className:"w-full mt-1 p-3 bg-gray-800 border-gray-700 rounded-lg text-white",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Generate"})]})]})}),i&&a.jsxs(zy,{onClose:()=>o(null),children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete the payroll record for "',i.firstName," ",i.lastName,'"? This cannot be undone.']}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>o(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>C(i.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]}),l&&a.jsxs(zy,{onClose:()=>u(null),width:"max-w-2xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2 text-white flex items-center gap-2",children:" AI Email Assistant"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["Draft a payment notification for ",l.firstName,"."]}),!d&&!h&&a.jsxs("button",{onClick:()=>j(l),className:"w-full py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(en,{size:20})," Generate Draft Email"]}),h&&a.jsx("p",{className:"text-center text-gray-400 animate-pulse py-10",children:"Generating email draft..."}),d&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{value:d,onChange:A=>f(A.target.value),className:"w-full p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300 h-64 resize-none"}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(d),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Copy Text"}),a.jsx("button",{onClick:()=>u(null),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Done"})]})]})]})]})}const Vy=({title:e,value:t,icon:n})=>{const{theme:r}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${r==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${r==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:"w-5 h-5 text-gray-500"})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${r==="dark"?"text-white":"text-gray-900"}`,children:t})]})},_C=({children:e,onClose:t})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:"bg-[#1C1C1E] rounded-2xl p-8 w-full max-w-lg border border-gray-700 shadow-2xl",onClick:n=>n.stopPropagation(),children:e})})});function PH(){const{theme:e}=Qe(),[t,n]=g.useState([]),[r,s]=g.useState(null),[i,o]=g.useState(null),[l,u]=g.useState(null),[d,f]=g.useState(""),[h,p]=g.useState({vendorName:"",contactPerson:"",email:"",phone:"",address:"",vendorType:"",status:"active"});g.useEffect(()=>{y()},[]);const y=async()=>{try{const T=await(await fetch(oe("/api/vendors"))).json();n(Array.isArray(T)?T:[])}catch(C){console.error("Failed to fetch vendors:",C),n([])}},w=(C,T)=>{const{name:D,value:R}=C.target;T==="new"?p(F=>({...F,[D]:R})):i&&o(F=>F&&{...F,[D]:R})},b=async C=>{C.preventDefault();try{const D=await(await fetch(oe("/api/vendors/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();D.success?(s(null),y()):alert(D.message)}catch{alert("Failed to connect to server.")}},N=async C=>{if(C.preventDefault(),!!i)try{const D=await(await fetch(oe(`/api/vendors/${i.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json();D.success?(s(null),y()):alert(D.message)}catch(T){console.error("Failed to connect to server",T),alert("Failed to connect to server")}},v=async C=>{try{const D=await(await fetch(oe(`/api/vendors/${C}`),{method:"DELETE"})).json();D.success?y():alert(D.message)}catch(T){console.error("Failed to connect to server",T),alert("Failed to connect to server")}u(null)},_=(C,T=null)=>{s(C),T&&o(JSON.parse(JSON.stringify(T))),C==="add"&&p({vendorName:"",contactPerson:"",email:"",phone:"",address:"",vendorType:"",status:"active"})},j=g.useMemo(()=>t.filter(C=>Object.values(C).some(T=>String(T).toLowerCase().includes(d.toLowerCase()))),[t,d]),S=C=>C==="active"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300",P={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},E={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Vendor Management"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage suppliers and service providers."})]}),a.jsxs("button",{onClick:()=>_("add"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Add Vendor"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:P,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:E,children:a.jsx(Vy,{title:"Total Vendors",value:t.length,icon:Z_})}),a.jsx(Y.div,{variants:E,children:a.jsx(Vy,{title:"Active Vendors",value:t.filter(C=>C.status==="active").length,icon:No})}),a.jsx(Y.div,{variants:E,children:a.jsx(Vy,{title:"Vendor Types",value:new Set(t.map(C=>C.vendorType)).size,icon:Bp})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Fs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by name, contact, type...",value:d,onChange:C=>f(C.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-colors"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Vendor Name"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Contact"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Type"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:P,initial:"hidden",animate:"visible",children:j.map(C=>a.jsxs(Y.tr,{variants:E,className:"border-b border-gray-800 hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"p-4 font-semibold",children:C.vendorName}),a.jsxs("td",{className:"p-4 text-sm text-gray-300",children:[a.jsx("div",{children:C.contactPerson}),a.jsx("div",{className:"text-gray-500",children:C.email})]}),a.jsx("td",{className:"p-4 text-gray-400",children:C.vendorType}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${S(C.status)}`,children:C.status.toUpperCase()})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>_("details",C),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(Sc,{size:18})}),a.jsx("button",{onClick:()=>_("edit",C),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(ki,{size:18})}),a.jsx("button",{onClick:()=>u(C),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},C.id))})]}),j.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No vendors found."})]})]}),r&&a.jsxs(_C,{onClose:()=>s(null),children:[r==="add"&&a.jsxs("form",{onSubmit:b,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:"Add New Vendor"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"vendorName",onChange:C=>w(C,"new"),placeholder:"Vendor Name",className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg text-white",required:!0}),a.jsx("input",{name:"contactPerson",onChange:C=>w(C,"new"),placeholder:"Contact Person",className:"p-3 bg-gray-800 border-gray-700 rounded-lg text-white"}),a.jsx("input",{type:"email",name:"email",onChange:C=>w(C,"new"),placeholder:"Email",className:"p-3 bg-gray-800 border-gray-700 rounded-lg text-white"}),a.jsx("input",{name:"phone",onChange:C=>w(C,"new"),placeholder:"Phone",className:"p-3 bg-gray-800 border-gray-700 rounded-lg text-white"}),a.jsx("input",{name:"vendorType",onChange:C=>w(C,"new"),placeholder:"Vendor Type (e.g., Supplies)",className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg text-white"})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>s(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Add Vendor"})]})]}),r==="edit"&&i&&a.jsxs("form",{onSubmit:N,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:"Edit Vendor"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"vendorName",value:i.vendorName,onChange:C=>w(C,"edit"),className:"col-span-2 p-3 bg-gray-800 border-gray-700 rounded-lg text-white",required:!0}),a.jsx("input",{name:"contactPerson",value:i.contactPerson,onChange:C=>w(C,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg text-white"}),a.jsx("input",{name:"email",value:i.email,onChange:C=>w(C,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg text-white"}),a.jsx("input",{name:"phone",value:i.phone,onChange:C=>w(C,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg text-white"}),a.jsx("input",{name:"vendorType",value:i.vendorType,onChange:C=>w(C,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg text-white"}),a.jsxs("select",{name:"status",value:i.status,onChange:C=>w(C,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg text-white",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>s(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Save Changes"})]})]}),r==="details"&&i&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:i.vendorName}),a.jsx("button",{onClick:()=>s(null),className:"-mt-2 -mr-2 p-2 rounded-full hover:bg-gray-700",children:a.jsx(Wn,{size:20})})]}),a.jsxs("div",{className:"space-y-3 text-gray-300",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Contact:"})," ",i.contactPerson||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",i.email||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone:"})," ",i.phone||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Type:"})," ",i.vendorType||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",a.jsx("span",{className:`font-semibold ${i.status==="active"?"text-green-400":"text-red-400"}`,children:i.status.toUpperCase()})]})]})]})]}),l&&a.jsxs(_C,{onClose:()=>u(null),children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete vendor "',l.vendorName,'"? This action cannot be undone.']}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>v(l.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]})]})}const Uy=({children:e,onClose:t,width:n="max-w-lg"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),ah=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function TH(){const{theme:e}=Qe(),[t,n]=g.useState("pharma"),[r,s]=g.useState([]),[i,o]=g.useState([]),[l,u]=g.useState(null),[d,f]=g.useState(null),[h,p]=g.useState(null),[y,w]=g.useState(""),[b,N]=g.useState(!1),[v,_]=g.useState({name:"",quantity:"1",status:"available"}),[j,S]=g.useState(null);g.useEffect(()=>{P(),E()},[]);const P=async()=>{try{const z=await(await fetch(oe("/api/inventory/pharmaceuticals"))).json();s(Array.isArray(z)?z:[])}catch(W){console.error(W)}},E=async()=>{try{const z=await(await fetch(oe("/api/inventory/equipment"))).json();o(Array.isArray(z)?z:[])}catch(W){console.error(W)}},C=(W,z)=>{const{name:V,value:q}=W.target;z==="new"?_(Z=>({...Z,[V]:q})):S(Z=>Z?{...Z,[V]:q}:null)},T=async W=>{W.preventDefault();try{const V=await(await fetch(oe("/api/inventory/equipment/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).json();V.success?(u(null),E()):alert(V.message)}catch{alert("Failed to connect to server.")}},D=async W=>{if(W.preventDefault(),!j)return;const{id:z,stockQuantity:V,name:q,quantity:Z,status:X}=j,G="stockQuantity"in j,ae=oe(G?`/api/inventory/pharmaceuticals/${z}`:`/api/inventory/equipment/${z}`),fe=G?{stockQuantity:V}:{name:q,quantity:Z,status:X};try{const be=await(await fetch(ae,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(fe)})).json();be.success?(u(null),G?P():E()):alert(be.message)}catch{alert("Failed to connect to server")}},R=async W=>{try{(await(await fetch(oe(`/api/inventory/equipment/${W}`),{method:"DELETE"})).json()).success&&E()}catch{alert("Failed to connect to server")}f(null)},F=async W=>{N(!0),w("");const z="You are a hospital inventory manager. Your task is to draft a professional and concise reorder request email for a medical item. Be clear about the item needed and the urgency if it's low on stock.",V=`Draft a reorder request email for the following item: ${W.name}. The current stock is ${"stockQuantity"in W?W.stockQuantity:W.quantity}. For pharmaceuticals, the reorder level is ${W.reorderLevel||"not set"}. Please prioritize this if the stock is low.`;try{const q=await fetch(oe("/api/ai/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:z},{role:"user",content:V}]})});if(!q.ok)throw new Error(`API error: ${q.status}`);const X=(await q.json()).reply;w(X||"Could not generate reorder request.")}catch(q){console.error("Gemini API error:",q),w("Error connecting to AI service.")}finally{N(!1)}},A=(W,z=null)=>{u(W),z&&S(JSON.parse(JSON.stringify(z))),_({name:"",quantity:"1",status:"available"})},O=g.useMemo(()=>r.filter(W=>W.stockQuantity<=W.reorderLevel).length,[r]),$=["pharma","equipment"],K={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},te={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Inventory"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Track pharmaceuticals and medical equipment."})]}),t==="equipment"&&a.jsxs("button",{onClick:()=>A("add"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Add Equipment"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",variants:K,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:te,children:a.jsx(ah,{title:"Total Items",value:r.length+i.length,icon:Bp,color:"text-blue-400"})}),a.jsx(Y.div,{variants:te,children:a.jsx(ah,{title:"Pharmaceuticals",value:r.length,icon:Ls,color:"text-green-400"})}),a.jsx(Y.div,{variants:te,children:a.jsx(ah,{title:"Equipment",value:i.length,icon:co,color:"text-cyan-400"})}),a.jsx(Y.div,{variants:te,children:a.jsx(ah,{title:"Low Stock Alerts",value:O,icon:BI,color:"text-red-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800",children:[a.jsx("div",{className:"p-2 border-b border-gray-800",children:a.jsxs("div",{className:"flex space-x-2 relative",children:[$.map(W=>a.jsx("button",{onClick:()=>n(W),className:`flex-1 py-2.5 rounded-lg font-semibold transition-colors z-10 ${t===W?"text-white":"text-gray-400 hover:text-white"}`,children:W==="pharma"?"Pharmaceuticals":"Equipment"},W)),a.jsx(Y.div,{layoutId:"activeInvTab",className:"absolute h-full w-1/2 bg-blue-600 rounded-lg",transition:{type:"spring",stiffness:300,damping:25},animate:{x:`${$.indexOf(t)*100}%`}})]})}),a.jsx("div",{className:"p-6",children:a.jsx(mt,{mode:"wait",children:a.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:t==="pharma"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Name"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Stock"}),a.jsx("th",{className:"p-4 text-right text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:K,initial:"hidden",animate:"visible",children:r.map(W=>a.jsxs(Y.tr,{variants:te,className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsx("td",{className:"p-4 font-semibold",children:W.name}),a.jsx("td",{className:`p-4 font-semibold ${W.stockQuantity<=W.reorderLevel?"text-red-400":"text-white"}`,children:W.stockQuantity}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>{p(W),w("")},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",title:"Generate Reorder Request",children:a.jsx(en,{size:18})}),a.jsx("button",{onClick:()=>{u("edit"),S(W)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(ki,{size:18})})]})})]},W.id))})]})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Name"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Quantity"}),a.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"p-4 text-right text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:K,initial:"hidden",animate:"visible",children:i.map(W=>a.jsxs(Y.tr,{variants:te,className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsx("td",{className:"p-4 font-semibold",children:W.name}),a.jsx("td",{className:"p-4",children:W.quantity}),a.jsx("td",{className:"p-4 capitalize",children:W.status}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>{u("edit"),S(W)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(ki,{size:18})}),a.jsx("button",{onClick:()=>f(W),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},W.id))})]})})},t)})})]}),l&&a.jsxs(Uy,{onClose:()=>u(null),width:l==="add"?"max-w-md":"max-w-lg",children:[l==="add"&&a.jsxs("form",{onSubmit:T,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Equipment"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{name:"name",onChange:W=>C(W,"new"),placeholder:"Equipment Name",className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"number",name:"quantity",value:v.quantity,onChange:W=>C(W,"new"),placeholder:"Quantity",className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsxs("select",{name:"status",value:v.status,onChange:W=>C(W,"new"),className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg",children:[a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"in-use",children:"In Use"}),a.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Add Item"})]})]}),l==="edit"&&j&&a.jsxs("form",{onSubmit:D,children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Edit ",j.name]}),a.jsx("div",{className:"space-y-4",children:"stockQuantity"in j?a.jsx("input",{type:"number",name:"stockQuantity",value:j.stockQuantity,onChange:W=>C(W,"edit"),placeholder:"Stock Quantity",className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}):a.jsxs(a.Fragment,{children:[a.jsx("input",{name:"name",value:j.name,onChange:W=>C(W,"edit"),className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"number",name:"quantity",value:j.quantity,onChange:W=>C(W,"edit"),className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsxs("select",{name:"status",value:j.status,onChange:W=>C(W,"edit"),className:"w-full p-3 bg-gray-800 border-gray-700 rounded-lg",children:[a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"in-use",children:"In Use"}),a.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Save Changes"})]})]})]}),d&&a.jsxs(Uy,{onClose:()=>f(null),width:"max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete equipment "',d.name,'"?']}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>f(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>R(d.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]}),h&&a.jsxs(Uy,{onClose:()=>p(null),width:"max-w-2xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:" AI Reorder Assistant"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["Draft a reorder request for ",h.name,"."]}),!y&&!b&&a.jsxs("button",{onClick:()=>F(h),className:"w-full py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[a.jsx(en,{size:20})," Generate Request"]}),b&&a.jsx("p",{className:"text-center text-gray-400 animate-pulse py-10",children:"AI is drafting a request..."}),y&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{value:y,onChange:W=>w(W.target.value),className:"w-full p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300 h-64 resize-none"}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(y),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Copy Text"}),a.jsx("button",{onClick:()=>p(null),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Done"})]})]})]})]})}const EH=({children:e,onClose:t})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:"bg-[#1C1C1E] rounded-2xl p-8 w-full max-w-lg border border-gray-700 shadow-2xl text-white",onClick:n=>n.stopPropagation(),children:e})})}),MH=({title:e,icon:t,stats:n,onSend:r,color:s})=>{const{theme:i}=Qe();return a.jsxs(Y.div,{variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},className:`rounded-2xl border p-6 flex flex-col justify-between ${i==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${s}`,children:a.jsx(t,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:`text-xl font-bold ${i==="dark"?"text-white":"text-gray-900"}`,children:e})]}),a.jsx("div",{className:"space-y-3",children:n.map((o,l)=>a.jsxs("div",{className:`flex items-baseline justify-between p-3 rounded-lg ${i==="dark"?"bg-gray-800/50":"bg-gray-100"}`,children:[a.jsx("span",{className:`font-medium text-sm ${i==="dark"?"text-gray-400":"text-gray-500"}`,children:o.label}),a.jsx("span",{className:`text-2xl font-bold ${i==="dark"?"text-white":"text-gray-900"}`,children:o.value})]},l))})]}),a.jsxs("button",{onClick:r,className:"mt-6 w-full bg-blue-600 text-white font-semibold py-2.5 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(zp,{className:"w-4 h-4"}),"Send Report via SMS"]})]})};function DH(){const{theme:e}=Qe(),[t,n]=g.useState({patients:{total:0,active:0},beds:{total:0,occupied:0},receivables:{totalCollection:0}}),[r,s]=g.useState(!1),[i,o]=g.useState({to:"",message:""}),[l,u]=g.useState(!1);g.useEffect(()=>{d()},[]);const d=async()=>{try{const w=await fetch(oe("/api/sms/summaries"));n(await w.json())}catch(w){console.error("Failed to fetch summaries:",w)}},f=async w=>{w.preventDefault(),u(!0);try{await new Promise(v=>setTimeout(v,500));const N=await(await fetch(oe("/api/sms/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json();N.success?s(!1):alert(`Failed to send SMS: ${N.error||N.message}`)}catch(b){console.error("Failed to connect to the server.",b),alert("Failed to connect to the server.")}finally{u(!1)}},h=async w=>{try{const N=await(await fetch(oe(`/api/sms/report/${w}`))).json();N.message?(o({to:"",message:N.message}),s(!0)):alert("Could not generate report.")}catch(b){console.error("Failed to fetch report data.",b),alert("Failed to fetch report data.")}},p=[{title:"Patient Summary",reportType:"patients",icon:zs,color:"from-pink-500 to-rose-500",stats:[{label:"Total Patients",value:t.patients.total},{label:"Active",value:t.patients.active}]},{title:"OPD Cash Summary",reportType:"opd",icon:us,color:"from-green-500 to-emerald-500",stats:[{label:"Total Collection",value:`$${Number(t.receivables.totalCollection||0).toLocaleString()}`}]},{title:"Ward / Bed Status",reportType:"ward-status",icon:Y_,color:"from-orange-500 to-amber-500",stats:[{label:"Total Beds",value:t.beds.total},{label:"Occupied",value:t.beds.occupied}]},{title:"Admissions Today",reportType:"admit-discharge",icon:co,color:"from-sky-500 to-blue-600",stats:[{label:"Admissions",value:"23"},{label:"Discharges",value:"18"}]}],y={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"SMS & Reports"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Send summaries and hospital statistics via SMS."})]})})}),a.jsx(Y.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",variants:y,initial:"hidden",animate:"visible",children:p.map(w=>a.jsx(MH,{...w,onSend:()=>h(w.reportType)},w.title))}),r&&a.jsxs(EH,{onClose:()=>s(!1),children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Send SMS Notification"}),a.jsx("button",{onClick:()=>s(!1),className:"p-1 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white",children:a.jsx(Wn,{size:24})})]}),a.jsxs("form",{className:"space-y-4",onSubmit:f,children:[a.jsx("input",{placeholder:"Recipient Phone Number (e.g., +919876543210)",className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",value:i.to,onChange:w=>o({...i,to:w.target.value}),required:!0}),a.jsx("textarea",{className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:8,value:i.message,onChange:w=>o({...i,message:w.target.value}),required:!0}),a.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-600",children:l?"Sending...":"Send Message"})]})]})]})]})}const jC=({children:e,onClose:t,width:n="max-w-lg"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),Wy=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function AH(){const{theme:e}=Qe(),[t,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState([]),[l,u]=g.useState(""),[d,f]=g.useState(null),[h,p]=g.useState(null),[y,w]=g.useState(null),[b,N]=g.useState({patientId:"",vaccineName:"",vaccinationDate:"",doseNumber:1,administeredByDoctorId:"",notes:"",nextDueDate:""});g.useEffect(()=>{v(),_(),j()},[]);const v=async()=>{try{const O=await(await fetch(oe("/api/immunizations"))).json();n(Array.isArray(O)?O:[])}catch(A){console.error("Failed to fetch immunizations:",A)}},_=async()=>{try{const A=await fetch(oe("/api/patients"));s(await A.json()||[])}catch(A){console.error("Failed to fetch patients:",A)}},j=async()=>{try{const O=await(await fetch(oe("/api/employees"))).json();o(O.filter($=>$.role==="doctor")||[])}catch(A){console.error("Failed to fetch doctors:",A)}},S=(A,O)=>{const{name:$,value:K}=A.target;O==="new"?N(te=>({...te,[$]:K})):h&&p(te=>te?{...te,[$]:K}:null)},P=async A=>{A.preventDefault();try{const $=await(await fetch(oe("/api/immunizations/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).json();$.success?(f(null),v()):alert($.message)}catch{alert("Failed to connect to the server.")}},E=async A=>{if(A.preventDefault(),!!h)try{const $=await(await fetch(oe(`/api/immunizations/${h.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();$.success?(f(null),v()):alert($.message)}catch{alert("Failed to connect to server.")}},C=async A=>{try{const $=await(await fetch(oe(`/api/immunizations/${A}`),{method:"DELETE"})).json();$.success?v():alert($.message)}catch{alert("Failed to connect to server.")}w(null)},T=(A,O=null)=>{f(A),O&&p(JSON.parse(JSON.stringify(O))),A==="add"&&N({patientId:"",vaccineName:"",vaccinationDate:"",doseNumber:1,administeredByDoctorId:"",notes:"",nextDueDate:""})},D=g.useMemo(()=>t.filter(A=>Object.values(A).some(O=>String(O).toLowerCase().includes(l.toLowerCase()))),[t,l]),R={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},F={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Immunization Tracking"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage patient vaccination records."})]}),a.jsxs("button",{onClick:()=>T("add"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Add Immunization"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:R,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:F,children:a.jsx(Wy,{title:"Total Records",value:t.length,icon:qI,color:"text-blue-400"})}),a.jsx(Y.div,{variants:F,children:a.jsx(Wy,{title:"Upcoming Doses",value:t.filter(A=>A.nextDueDate&&new Date(A.nextDueDate)>new Date).length,icon:zr,color:"text-yellow-400"})}),a.jsx(Y.div,{variants:F,children:a.jsx(Wy,{title:"Patients Vaccinated",value:new Set(t.map(A=>A.patientId)).size,icon:No,color:"text-green-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Fs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by vaccine, patient, or doctor...",value:l,onChange:A=>u(A.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Patient"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Vaccine"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Date"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Dose"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Administered By"}),a.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:R,initial:"hidden",animate:"visible",children:D.map(A=>a.jsxs(Y.tr,{variants:F,className:"border-b border-gray-800 hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"p-4 font-semibold",children:A.patientName}),a.jsx("td",{className:"p-4",children:A.vaccineName}),a.jsx("td",{className:"p-4 text-sm text-gray-400",children:new Date(A.vaccinationDate).toLocaleDateString()}),a.jsx("td",{className:"p-4",children:A.doseNumber}),a.jsx("td",{className:"p-4 text-sm text-gray-400",children:A.administeredByDoctorName||"N/A"}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>T("edit",A),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(ki,{size:18})}),a.jsx("button",{onClick:()=>w(A),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},A.id))})]}),D.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No immunization records found."})]})]}),d&&a.jsxs(jC,{onClose:()=>f(null),children:[d==="add"&&a.jsxs("form",{onSubmit:P,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Immunization"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("select",{name:"patientId",onChange:A=>S(A,"new"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),r.map(A=>a.jsxs("option",{value:A.id,children:[A.firstName," ",A.lastName]},A.id))]}),a.jsx("input",{name:"vaccineName",onChange:A=>S(A,"new"),placeholder:"Vaccine Name",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"date",name:"vaccinationDate",onChange:A=>S(A,"new"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"number",name:"doseNumber",onChange:A=>S(A,"new"),placeholder:"Dose Number",defaultValue:1,className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsxs("select",{name:"administeredByDoctorId",onChange:A=>S(A,"new"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",children:[a.jsx("option",{value:"",children:"Administered By (Doctor)"}),i.map(A=>a.jsxs("option",{value:A.id,children:[A.firstName," ",A.lastName]},A.id))]}),a.jsx("input",{type:"date",name:"nextDueDate",onChange:A=>S(A,"new"),placeholder:"Next Due Date (Optional)",className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("textarea",{name:"notes",onChange:A=>S(A,"new"),placeholder:"Notes (Optional)",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",rows:3})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>f(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Add Record"})]})]}),d==="edit"&&h&&a.jsxs("form",{onSubmit:E,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Edit Immunization Record"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx("select",{name:"patientId",value:h.patientId,onChange:A=>S(A,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0,children:r.map(A=>a.jsxs("option",{value:A.id,children:[A.firstName," ",A.lastName]},A.id))}),a.jsx("input",{name:"vaccineName",value:h.vaccineName,onChange:A=>S(A,"edit"),placeholder:"Vaccine Name",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"date",name:"vaccinationDate",value:h.vaccinationDate.split("T")[0],onChange:A=>S(A,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("input",{type:"number",name:"doseNumber",value:h.doseNumber,onChange:A=>S(A,"edit"),placeholder:"Dose Number",className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsxs("select",{name:"administeredByDoctorId",value:h.administeredByDoctorId||"",onChange:A=>S(A,"edit"),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",children:[a.jsx("option",{value:"",children:"Administered By (Doctor)"}),i.map(A=>a.jsxs("option",{value:A.id,children:[A.firstName," ",A.lastName]},A.id))]}),a.jsx("input",{type:"date",name:"nextDueDate",value:h.nextDueDate?h.nextDueDate.split("T")[0]:"",onChange:A=>S(A,"edit"),placeholder:"Next Due Date (Optional)",className:"p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("textarea",{name:"notes",value:h.notes||"",onChange:A=>S(A,"edit"),placeholder:"Notes (Optional)",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",rows:3})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>f(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Save Changes"})]})]})]}),y&&a.jsxs(jC,{onClose:()=>w(null),width:"max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete the immunization record for "',h==null?void 0:h.patientName,'" (',h==null?void 0:h.vaccineName,")?"]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>w(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>C(y.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]})]})}const NC=({children:e,onClose:t,width:n="max-w-lg"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),Hy=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function LH(){var V,q,Z;const{theme:e}=Qe(),[t,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState(""),[l,u]=g.useState(null),[d,f]=g.useState(null),[h,p]=g.useState(null),[y,w]=g.useState({patientId:"",dueDate:"",items:[],notes:""}),[b,N]=g.useState({description:"",amount:"",serviceReference:""}),[v,_]=g.useState({paymentAmount:"",paymentMethod:"Cash",notes:""});g.useEffect(()=>{j(),S()},[]);const j=async()=>{try{const G=await(await fetch(oe("/api/billing"))).json();n(Array.isArray(G)?G:[])}catch(X){console.error("Failed to fetch bills:",X)}},S=async()=>{try{const X=await fetch(oe("/api/patients"));s(await X.json()||[])}catch(X){console.error("Failed to fetch patients:",X)}},P=X=>{const{name:G,value:ae}=X.target;w(fe=>({...fe,[G]:ae}))},E=X=>{const{name:G,value:ae}=X.target;N(fe=>({...fe,[G]:ae}))},C=()=>{b.description&&b.amount&&(w(X=>({...X,items:[...X.items,b]})),N({description:"",amount:"",serviceReference:""}))},T=X=>{w(G=>({...G,items:G.items.filter((ae,fe)=>fe!==X)}))},D=async X=>{X.preventDefault();try{const ae=await(await fetch(oe("/api/billing/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).json();ae.success?(u(null),j(),w({patientId:"",dueDate:"",items:[],notes:""})):alert(ae.message)}catch{alert("Failed to connect to the server.")}},R=async X=>{if(X.preventDefault(),!!d)try{const ae=await(await fetch(oe(`/api/billing/${d.id}/pay`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).json();ae.success?(u(null),j(),_({paymentAmount:"",paymentMethod:"Cash",notes:""})):alert(ae.message)}catch{alert("Failed to connect to server.")}},F=async X=>{if(X.preventDefault(),!!d)try{const ae=await(await fetch(oe(`/api/billing/${d.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({dueDate:d.dueDate,status:d.status,notes:d.notes})})).json();ae.success?(u(null),j()):alert(ae.message)}catch{alert("Failed to connect to server.")}},A=async X=>{try{const ae=await(await fetch(oe(`/api/billing/${X}`),{method:"DELETE"})).json();ae.success?j():alert(ae.message)}catch{alert("Failed to connect to server.")}p(null)},O=async(X,G=null)=>{if(u(X),G)if(X==="view")try{const fe=await(await fetch(oe(`/api/billing/${G.id}/details`))).json();fe.success?f(fe.bill):alert(fe.message)}catch{alert("Failed to fetch bill details.")}else f(JSON.parse(JSON.stringify(G)));X==="generate"&&(w({patientId:"",dueDate:"",items:[],notes:""}),N({description:"",amount:"",serviceReference:""}))},$=g.useMemo(()=>t.filter(X=>Object.values(X).some(G=>String(G).toLowerCase().includes(i.toLowerCase()))),[t,i]),K=X=>{switch(X){case"paid":return"bg-green-500/20 text-green-300";case"pending":return"bg-yellow-500/20 text-yellow-300";case"partial":return"bg-blue-500/20 text-blue-300";case"overdue":return"bg-red-500/20 text-red-300";default:return"bg-gray-500/20 text-gray-400"}},te=g.useMemo(()=>(t||[]).reduce((X,G)=>X+parseFloat(G.balanceDue),0)||0,[t]),W={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},z={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Patient Billing"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage patient invoices and payments."})]}),a.jsxs("button",{onClick:()=>O("generate"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Generate New Bill"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:W,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:z,children:a.jsx(Hy,{title:"Total Bills",value:t.length,icon:mi,color:"text-blue-400"})}),a.jsx(Y.div,{variants:z,children:a.jsx(Hy,{title:"Outstanding Balance",value:`$${te.toFixed(2)}`,icon:us,color:"text-red-400"})}),a.jsx(Y.div,{variants:z,children:a.jsx(Hy,{title:"Patients with Bills",value:new Set(t.map(X=>X.patientId)).size,icon:No,color:"text-green-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Fs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by bill number, patient, or status...",value:i,onChange:X=>o(X.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Bill #"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Patient"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Total Amount"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Balance Due"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Status"}),a.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:W,initial:"hidden",animate:"visible",children:$.map(X=>{var G,ae;return a.jsxs(Y.tr,{variants:z,className:"border-b border-gray-800 hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"p-4 font-semibold",children:X.billNumber}),a.jsxs("td",{className:"p-4",children:[(G=r.find(fe=>fe.id===X.patientId))==null?void 0:G.firstName," ",(ae=r.find(fe=>fe.id===X.patientId))==null?void 0:ae.lastName]}),a.jsxs("td",{className:"p-4",children:["$",parseFloat(X.totalAmount).toFixed(2)]}),a.jsxs("td",{className:"p-4",children:["$",parseFloat(X.balanceDue).toFixed(2)]}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${K(X.status)}`,children:X.status.toUpperCase()})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>O("view",X),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(Sc,{size:18})}),a.jsx("button",{onClick:()=>O("pay",X),className:"p-2 text-green-400 hover:text-white hover:bg-green-700 rounded-full",title:"Record Payment",children:a.jsx(us,{size:18})}),a.jsx("button",{onClick:()=>O("edit",X),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",children:a.jsx(ki,{size:18})}),a.jsx("button",{onClick:()=>p(X),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-full",children:a.jsx(or,{size:18})})]})})]},X.id)})})]}),$.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No bills found."})]})]}),l&&a.jsxs(NC,{onClose:()=>u(null),width:l==="view"?"max-w-2xl":"max-w-lg",children:[l==="generate"&&a.jsxs("form",{onSubmit:D,children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Generate New Bill"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("select",{name:"patientId",onChange:P,className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),r.map(X=>a.jsxs("option",{value:X.id,children:[X.firstName," ",X.lastName]},X.id))]}),a.jsx("input",{type:"date",name:"dueDate",onChange:P,className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsx("textarea",{name:"notes",onChange:P,placeholder:"Bill Notes (Optional)",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",rows:2}),a.jsx("h3",{className:"text-xl font-bold mt-4 mb-2",children:"Bill Items"}),a.jsx("div",{className:"space-y-2",children:y.items.map((X,G)=>a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-700 rounded-lg",children:[a.jsxs("span",{className:"flex-1",children:[X.description," - $",parseFloat(X.amount).toFixed(2)]}),a.jsx("button",{type:"button",onClick:()=>T(G),className:"p-1 text-red-400 hover:text-red-300",children:a.jsx(Wn,{size:16})})]},G))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{name:"description",value:b.description,onChange:E,placeholder:"Item Description",className:"flex-1 p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("input",{type:"number",name:"amount",value:b.amount,onChange:E,placeholder:"Amount",step:"0.01",className:"w-24 p-3 bg-gray-800 border-gray-700 rounded-lg"}),a.jsx("button",{type:"button",onClick:C,className:"p-3 bg-blue-600 text-white rounded-lg",children:a.jsx(Dn,{size:20})})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Generate Bill"})]})]}),l==="view"&&d&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold",children:["Bill #",d.billNumber]}),a.jsx("button",{onClick:()=>u(null),className:"p-1 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white",children:a.jsx(Wn,{size:24})})]}),a.jsxs("p",{className:"text-gray-400 mb-4",children:["Patient: ",(V=r.find(X=>X.id===d.patientId))==null?void 0:V.firstName," ",(q=r.find(X=>X.id===d.patientId))==null?void 0:q.lastName]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Bill Date:"})," ",new Date(d.billDate).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Due Date:"})," ",new Date(d.dueDate).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Total Amount:"})," $",parseFloat(d.totalAmount).toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Amount Paid:"})," $",parseFloat(d.amountPaid).toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Balance Due:"})," $",parseFloat(d.balanceDue).toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${K(d.status)}`,children:d.status.toUpperCase()})]}),d.notes&&a.jsxs("p",{children:[a.jsx("strong",{children:"Notes:"})," ",d.notes]})]}),a.jsx("h3",{className:"text-xl font-bold mt-4 mb-2",children:"Items"}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:(Z=d.items)==null?void 0:Z.map((X,G)=>a.jsxs("div",{className:"flex justify-between p-2 bg-gray-700 rounded-lg",children:[a.jsx("span",{children:X.description}),a.jsxs("span",{children:["$",parseFloat(X.amount).toFixed(2)]})]},G))}),a.jsx("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Close"})})]}),l==="edit"&&d&&a.jsxs("form",{onSubmit:F,children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Edit Bill #",d.billNumber]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx("input",{type:"date",name:"dueDate",value:d.dueDate.split("T")[0],onChange:X=>f(G=>({...G,dueDate:X.target.value})),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsxs("select",{name:"status",value:d.status,onChange:X=>f(G=>({...G,status:X.target.value})),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"partial",children:"Partial"}),a.jsx("option",{value:"overdue",children:"Overdue"})]}),a.jsx("textarea",{name:"notes",value:d.notes||"",onChange:X=>f(G=>({...G,notes:X.target.value})),placeholder:"Notes (Optional)",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",rows:2})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Save Changes"})]})]}),l==="pay"&&d&&a.jsxs("form",{onSubmit:R,children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Record Payment for Bill #",d.billNumber]}),a.jsxs("p",{className:"text-gray-400 mb-4",children:["Balance Due: $",parseFloat(d.balanceDue).toFixed(2)]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx("input",{type:"number",name:"paymentAmount",value:v.paymentAmount,onChange:X=>_(G=>({...G,paymentAmount:X.target.value})),placeholder:"Payment Amount",step:"0.01",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",required:!0}),a.jsxs("select",{name:"paymentMethod",value:v.paymentMethod,onChange:X=>_(G=>({...G,paymentMethod:X.target.value})),className:"p-3 bg-gray-800 border-gray-700 rounded-lg",children:[a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Card",children:"Card"}),a.jsx("option",{value:"Online",children:"Online"}),a.jsx("option",{value:"Insurance",children:"Insurance"})]}),a.jsx("textarea",{name:"notes",value:v.notes,onChange:X=>_(G=>({...G,notes:X.target.value})),placeholder:"Payment Notes (Optional)",className:"p-3 bg-gray-800 border-gray-700 rounded-lg",rows:2})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>u(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Record Payment"})]})]})]}),h&&a.jsxs(NC,{onClose:()=>p(null),width:"max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete bill #",d==null?void 0:d.billNumber,"? This cannot be undone."]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>p(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>A(h.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Delete"})]})]})]})}const Gy=({children:e,onClose:t,width:n="max-w-lg"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),qy=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function IH({user:e}){var re,me,Ne,ce;const{theme:t}=Qe(),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState([]),[u,d]=g.useState(""),[f,h]=g.useState(null),[p,y]=g.useState(null),[w,b]=g.useState(!1),[N,v]=g.useState({patientId:"",notes:"",consultationType:"virtual"}),[_,j]=g.useState(""),[S,P]=g.useState(""),[E,C]=g.useState([]),[T,D]=g.useState(!1),[R,F]=g.useState({notes:""}),[A,O]=g.useState({message:""});g.useEffect(()=>{$(),K(),te()},[]),g.useEffect(()=>{e.id&&_&&W(e.id,_)},[e.id,_]);const $=async()=>{try{const xe=await(await fetch(oe(`/api/appointments/doctor/${e.id}/virtual`))).json();r(Array.isArray(xe)?xe:[])}catch(ue){console.error("Failed to fetch virtual appointments:",ue)}},K=async()=>{try{const ue=await fetch(oe("/api/patients"));i(await ue.json()||[])}catch(ue){console.error("Failed to fetch patients:",ue)}},te=async()=>{try{const xe=await(await fetch(oe("/api/employees"))).json();l(xe.filter(je=>je.role==="doctor")||[])}catch(ue){console.error("Failed to fetch doctors:",ue)}},W=async(ue,xe)=>{if(!ue||!xe){C([]);return}D(!0);try{const je=await fetch(oe(`/api/schedules/available-slots/${ue}/${xe}`));C(await je.json())}catch(je){console.error("Failed to fetch available slots:",je),C([])}finally{D(!1)}},z=ue=>{const{name:xe,value:je}=ue.target;xe==="appointmentDate"?(j(je),P("")):v(Ce=>({...Ce,[xe]:je}))},V=ue=>{P(ue)},q=async ue=>{if(ue.preventDefault(),!S){alert("Please select an available time slot.");return}const xe={...N,patientId:N.patientId,doctorId:e.id,appointmentDate:S};try{const Ce=await(await fetch(oe("/api/portal/book-appointment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xe)})).json();Ce.success?(h(null),$(),v({patientId:"",notes:"",consultationType:"virtual"}),j(""),P(""),C([]),alert("Virtual consultation scheduled successfully!")):alert(Ce.message||"Failed to schedule virtual appointment.")}catch(je){console.error("Error booking virtual appointment:",je),alert("Failed to connect to the server or book appointment.")}},Z=async ue=>{try{const je=await(await fetch(oe(`/api/virtual-consultations/appointment/${ue.id}`))).json();je&&je.success&&je.room&&je.room.roomUrl?window.open(je.room.roomUrl,"_blank"):alert("Virtual room details not found for this appointment. Please ensure it was created.")}catch(xe){console.error("Error joining consultation:",xe),alert("Failed to join consultation.")}},X=ue=>{const{name:xe,value:je}=ue.target;F(Ce=>({...Ce,[xe]:je}))},G=async ue=>{if(ue.preventDefault(),!!p)try{const je=await(await fetch(oe("/api/medical-records/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:p.patientId,doctorId:e.id,recordDate:new Date().toISOString().split("T")[0],diagnosis:"Virtual Consultation E-Prescription",treatment:`Issued during virtual consult: ID ${p.id}`,prescriptionNotes:R.notes})})).json();je.success?(h(null),F({notes:""}),alert("E-Prescription issued successfully!")):alert(je.message||"Failed to issue E-Prescription.")}catch(xe){console.error("Error issuing E-Prescription:",xe),alert("Failed to connect to the server or issue prescription.")}},ae=ue=>{const{name:xe,value:je}=ue.target;O(Ce=>({...Ce,[xe]:je}))},fe=async ue=>{if(ue.preventDefault(),!!p)try{const je=await(await fetch(oe("/api/messaging/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderId:e.id,senderType:"employee",receiverId:p.patientId,receiverType:"patient",message:A.message})})).json();je.success?(h(null),O({message:""}),alert("Message sent successfully!")):alert(je.message||"Failed to send message.")}catch(xe){console.error("Error sending message:",xe),alert("Failed to connect to the server or send message.")}},ge=g.useMemo(()=>n.filter(ue=>Object.values(ue).some(xe=>String(xe).toLowerCase().includes(u.toLowerCase()))),[n,u]),be={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},ke={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${t==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Telemedicine Consultations"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Manage virtual patient appointments."})]}),a.jsxs("button",{onClick:()=>h("bookVirtual"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2",children:[a.jsx(Dn,{size:20}),a.jsx("span",{children:"Schedule Virtual Consult"})]})]})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:be,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:ke,children:a.jsx(qy,{title:"Total Virtual Consults",value:n.length,icon:Vp,color:"text-blue-400"})}),a.jsx(Y.div,{variants:ke,children:a.jsx(qy,{title:"Upcoming Today",value:n.filter(ue=>new Date(ue.appointmentDate).toDateString()===new Date().toDateString()).length,icon:zr,color:"text-yellow-400"})}),a.jsx(Y.div,{variants:ke,children:a.jsx(qy,{title:"Messages",value:"0",icon:zp,color:"text-green-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Fs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by patient or date...",value:u,onChange:ue=>d(ue.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Patient"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Date & Time"}),a.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Notes"}),a.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-400",children:"Actions"})]})}),a.jsx(Y.tbody,{variants:be,initial:"hidden",animate:"visible",children:ge.map(ue=>a.jsxs(Y.tr,{variants:ke,className:"border-b border-gray-800 hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"p-4 font-semibold",children:ue.patientName}),a.jsx("td",{className:"p-4 text-sm text-gray-400",children:new Date(ue.appointmentDate).toLocaleString()}),a.jsx("td",{className:"p-4 text-sm text-gray-400",children:ue.notes||"N/A"}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>Z(ue),className:"p-2 text-blue-400 hover:text-white hover:bg-blue-700 rounded-full",title:"Join Consultation",children:a.jsx(Vp,{size:18})}),a.jsx("button",{onClick:()=>{h("history"),y(ue)},className:"p-2 text-green-400 hover:text-white hover:bg-green-700 rounded-full",title:"View Patient History",children:a.jsx(mi,{size:18})}),a.jsx("button",{onClick:()=>{h("prescribe"),y(ue)},className:"p-2 text-yellow-400 hover:text-white hover:bg-yellow-700 rounded-full",title:"E-Prescribe",children:a.jsx(Ls,{size:18})}),a.jsx("button",{onClick:()=>{h("message"),y(ue)},className:"p-2 text-purple-400 hover:text-white hover:bg-purple-700 rounded-full",title:"Message Patient",children:a.jsx(zp,{size:18})})]})})]},ue.id))})]}),ge.length===0&&a.jsx("p",{className:"text-center py-12 text-gray-500",children:"No virtual appointments found."})]})]}),f==="history"&&p&&a.jsx(JI,{patientId:p.patientId,patientName:p.patientName,onClose:()=>h(null)}),f==="bookVirtual"&&a.jsxs(Gy,{onClose:()=>h(null),width:"max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Schedule Virtual Consultation"}),a.jsxs("form",{onSubmit:q,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Patient"}),a.jsxs("select",{name:"patientId",value:N.patientId,onChange:z,className:"w-full p-2 bg-gray-800 border-gray-700 text-white rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),s.map(ue=>a.jsxs("option",{value:ue.id,children:[ue.firstName," ",ue.lastName]},ue.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Date"}),a.jsx("input",{type:"date",name:"appointmentDate",value:_,onChange:z,min:new Date().toISOString().split("T")[0],className:"w-full p-2 bg-gray-800 border-gray-700 text-white rounded-lg",required:!0})]}),T&&a.jsx("p",{className:"text-center text-gray-400",children:"Loading slots..."}),E.length>0&&!T&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Available Slots"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:E.map(ue=>a.jsx("button",{type:"button",onClick:()=>V(ue),className:`p-2 rounded-lg text-sm text-center ${S===ue?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600"}`,children:new Date(ue).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},ue))})]}),!T&&E.length===0&&_&&a.jsx("p",{className:"text-center text-gray-400",children:"No available slots for this date."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Notes (Optional)"}),a.jsx("textarea",{name:"notes",value:N.notes,onChange:z,className:"w-full p-2 bg-gray-800 border-gray-700 text-white rounded-lg",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Consultation Type"}),a.jsxs("select",{name:"consultationType",value:N.consultationType,onChange:z,className:"w-full p-2 bg-gray-800 border-gray-700 text-white rounded-lg",required:!0,children:[a.jsx("option",{value:"virtual",children:"Virtual"}),a.jsx("option",{value:"in-person",children:"In-person"})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>h(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:!S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-500",children:"Schedule Consult"})]})]})]}),f==="prescribe"&&p&&a.jsxs(Gy,{onClose:()=>h(null),width:"max-w-xl",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["E-Prescribe for ",(re=s.find(ue=>ue.id===p.patientId))==null?void 0:re.firstName," ",(me=s.find(ue=>ue.id===p.patientId))==null?void 0:me.lastName]}),a.jsxs("form",{onSubmit:G,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Prescription Notes"}),a.jsx("textarea",{name:"notes",value:R.notes,onChange:X,className:"w-full p-2 bg-gray-800 border-gray-700 text-white rounded-lg",rows:5,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>h(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Issue Prescription"})]})]})]}),f==="message"&&p&&a.jsxs(Gy,{onClose:()=>h(null),width:"max-w-md",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Message ",(Ne=s.find(ue=>ue.id===p.patientId))==null?void 0:Ne.firstName," ",(ce=s.find(ue=>ue.id===p.patientId))==null?void 0:ce.lastName]}),a.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Message"}),a.jsx("textarea",{name:"message",value:A.message,onChange:ae,className:"w-full p-2 bg-gray-800 border-gray-700 text-white rounded-lg",rows:5,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-4 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>h(null),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Send Message"})]})]})]})]})}var Eb={exports:{}},QI={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(QI);var Ft=QI.exports,Mb={exports:{}},Db={exports:{}},eR={exports:{}};(function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(eR);var tR=eR.exports,Ab={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,s){if(s.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+s.length+" present")}e.exports=t.default})(Ab,Ab.exports);var qn=Ab.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(tR),s=n(qn);function i(o){return(0,s.default)(1,arguments),o instanceof Date||(0,r.default)(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"}e.exports=t.default})(Db,Db.exports);var RH=Db.exports,Lb={exports:{}};(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(tR),s=n(qn);function i(o){(0,s.default)(1,arguments);var l=Object.prototype.toString.call(o);return o instanceof Date||(0,r.default)(o)==="object"&&l==="[object Date]"?new Date(o.getTime()):typeof o=="number"||l==="[object Number]"?new Date(o):((typeof o=="string"||l==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}e.exports=t.default})(Lb,Lb.exports);var Ws=Lb.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(RH),s=n(Ws),i=n(qn);function o(l){if((0,i.default)(1,arguments),!(0,r.default)(l)&&typeof l!="number")return!1;var u=(0,s.default)(l);return!isNaN(Number(u))}e.exports=t.default})(Mb,Mb.exports);var OH=Mb.exports,Ib={exports:{}},Rb={exports:{}},Ob={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}e.exports=t.default})(Ob,Ob.exports);var Aa=Ob.exports;const $H=gn(Aa);(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(Aa),s=n(Ws),i=n(qn);function o(l,u){(0,i.default)(2,arguments);var d=(0,s.default)(l).getTime(),f=(0,r.default)(u);return new Date(d+f)}e.exports=t.default})(Rb,Rb.exports);var FH=Rb.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(FH),s=n(qn),i=n(Aa);function o(l,u){(0,s.default)(2,arguments);var d=(0,i.default)(u);return(0,r.default)(l,-d)}e.exports=t.default})(Ib,Ib.exports);var zH=Ib.exports,$b={exports:{}},Fb={exports:{}};(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(Ws),s=n(qn),i=864e5;function o(l){(0,s.default)(1,arguments);var u=(0,r.default)(l),d=u.getTime();u.setUTCMonth(0,1),u.setUTCHours(0,0,0,0);var f=u.getTime(),h=d-f;return Math.floor(h/i)+1}e.exports=t.default})(Fb,Fb.exports);var BH=Fb.exports,zb={exports:{}},Bb={exports:{}};(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(Ws),s=n(qn);function i(o){(0,s.default)(1,arguments);var l=1,u=(0,r.default)(o),d=u.getUTCDay(),f=(d<l?7:0)+d-l;return u.setUTCDate(u.getUTCDate()-f),u.setUTCHours(0,0,0,0),u}e.exports=t.default})(Bb,Bb.exports);var Q_=Bb.exports,Vb={exports:{}},Ub={exports:{}};(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(Ws),s=n(qn),i=n(Q_);function o(l){(0,s.default)(1,arguments);var u=(0,r.default)(l),d=u.getUTCFullYear(),f=new Date(0);f.setUTCFullYear(d+1,0,4),f.setUTCHours(0,0,0,0);var h=(0,i.default)(f),p=new Date(0);p.setUTCFullYear(d,0,4),p.setUTCHours(0,0,0,0);var y=(0,i.default)(p);return u.getTime()>=h.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}e.exports=t.default})(Ub,Ub.exports);var nR=Ub.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(nR),s=n(Q_),i=n(qn);function o(l){(0,i.default)(1,arguments);var u=(0,r.default)(l),d=new Date(0);d.setUTCFullYear(u,0,4),d.setUTCHours(0,0,0,0);var f=(0,s.default)(d);return f}e.exports=t.default})(Vb,Vb.exports);var VH=Vb.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(Ws),s=n(Q_),i=n(VH),o=n(qn),l=6048e5;function u(d){(0,o.default)(1,arguments);var f=(0,r.default)(d),h=(0,s.default)(f).getTime()-(0,i.default)(f).getTime();return Math.round(h/l)+1}e.exports=t.default})(zb,zb.exports);var UH=zb.exports,Wb={exports:{}},Hb={exports:{}},La={};Object.defineProperty(La,"__esModule",{value:!0});La.getDefaultOptions=WH;La.setDefaultOptions=HH;var rR={};function WH(){return rR}function HH(e){rR=e}(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(Ws),s=n(qn),i=n(Aa),o=La;function l(u,d){var f,h,p,y,w,b,N,v;(0,s.default)(1,arguments);var _=(0,o.getDefaultOptions)(),j=(0,i.default)((f=(h=(p=(y=d==null?void 0:d.weekStartsOn)!==null&&y!==void 0?y:d==null||(w=d.locale)===null||w===void 0||(b=w.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&p!==void 0?p:_.weekStartsOn)!==null&&h!==void 0?h:(N=_.locale)===null||N===void 0||(v=N.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=(0,r.default)(u),P=S.getUTCDay(),E=(P<j?7:0)+P-j;return S.setUTCDate(S.getUTCDate()-E),S.setUTCHours(0,0,0,0),S}e.exports=t.default})(Hb,Hb.exports);var ej=Hb.exports,Gb={exports:{}},qb={exports:{}};(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(Ws),s=n(qn),i=n(ej),o=n(Aa),l=La;function u(d,f){var h,p,y,w,b,N,v,_;(0,s.default)(1,arguments);var j=(0,r.default)(d),S=j.getUTCFullYear(),P=(0,l.getDefaultOptions)(),E=(0,o.default)((h=(p=(y=(w=f==null?void 0:f.firstWeekContainsDate)!==null&&w!==void 0?w:f==null||(b=f.locale)===null||b===void 0||(N=b.options)===null||N===void 0?void 0:N.firstWeekContainsDate)!==null&&y!==void 0?y:P.firstWeekContainsDate)!==null&&p!==void 0?p:(v=P.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(S+1,0,E),C.setUTCHours(0,0,0,0);var T=(0,i.default)(C,f),D=new Date(0);D.setUTCFullYear(S,0,E),D.setUTCHours(0,0,0,0);var R=(0,i.default)(D,f);return j.getTime()>=T.getTime()?S+1:j.getTime()>=R.getTime()?S:S-1}e.exports=t.default})(qb,qb.exports);var sR=qb.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(sR),s=n(qn),i=n(ej),o=n(Aa),l=La;function u(d,f){var h,p,y,w,b,N,v,_;(0,s.default)(1,arguments);var j=(0,l.getDefaultOptions)(),S=(0,o.default)((h=(p=(y=(w=f==null?void 0:f.firstWeekContainsDate)!==null&&w!==void 0?w:f==null||(b=f.locale)===null||b===void 0||(N=b.options)===null||N===void 0?void 0:N.firstWeekContainsDate)!==null&&y!==void 0?y:j.firstWeekContainsDate)!==null&&p!==void 0?p:(v=j.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&h!==void 0?h:1),P=(0,r.default)(d,f),E=new Date(0);E.setUTCFullYear(P,0,S),E.setUTCHours(0,0,0,0);var C=(0,i.default)(E,f);return C}e.exports=t.default})(Gb,Gb.exports);var GH=Gb.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(Ws),s=n(ej),i=n(GH),o=n(qn),l=6048e5;function u(d,f){(0,o.default)(1,arguments);var h=(0,r.default)(d),p=(0,s.default)(h,f).getTime()-(0,i.default)(h,f).getTime();return Math.round(p/l)+1}e.exports=t.default})(Wb,Wb.exports);var qH=Wb.exports,Yb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,s){for(var i=r<0?"-":"",o=Math.abs(r).toString();o.length<s;)o="0"+o;return i+o}e.exports=t.default})(Yb,Yb.exports);var iR=Yb.exports,Zb={exports:{}};(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(iR),s={y:function(l,u){var d=l.getUTCFullYear(),f=d>0?d:1-d;return(0,r.default)(u==="yy"?f%100:f,u.length)},M:function(l,u){var d=l.getUTCMonth();return u==="M"?String(d+1):(0,r.default)(d+1,2)},d:function(l,u){return(0,r.default)(l.getUTCDate(),u.length)},a:function(l,u){var d=l.getUTCHours()/12>=1?"pm":"am";switch(u){case"a":case"aa":return d.toUpperCase();case"aaa":return d;case"aaaaa":return d[0];case"aaaa":default:return d==="am"?"a.m.":"p.m."}},h:function(l,u){return(0,r.default)(l.getUTCHours()%12||12,u.length)},H:function(l,u){return(0,r.default)(l.getUTCHours(),u.length)},m:function(l,u){return(0,r.default)(l.getUTCMinutes(),u.length)},s:function(l,u){return(0,r.default)(l.getUTCSeconds(),u.length)},S:function(l,u){var d=u.length,f=l.getUTCMilliseconds(),h=Math.floor(f*Math.pow(10,d-3));return(0,r.default)(h,u.length)}},i=s;t.default=i,e.exports=t.default})(Zb,Zb.exports);var YH=Zb.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(BH),s=n(UH),i=n(nR),o=n(qH),l=n(sR),u=n(iR),d=n(YH),f={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h={G:function(v,_,j){var S=v.getUTCFullYear()>0?1:0;switch(_){case"G":case"GG":case"GGG":return j.era(S,{width:"abbreviated"});case"GGGGG":return j.era(S,{width:"narrow"});case"GGGG":default:return j.era(S,{width:"wide"})}},y:function(v,_,j){if(_==="yo"){var S=v.getUTCFullYear(),P=S>0?S:1-S;return j.ordinalNumber(P,{unit:"year"})}return d.default.y(v,_)},Y:function(v,_,j,S){var P=(0,l.default)(v,S),E=P>0?P:1-P;if(_==="YY"){var C=E%100;return(0,u.default)(C,2)}return _==="Yo"?j.ordinalNumber(E,{unit:"year"}):(0,u.default)(E,_.length)},R:function(v,_){var j=(0,i.default)(v);return(0,u.default)(j,_.length)},u:function(v,_){var j=v.getUTCFullYear();return(0,u.default)(j,_.length)},Q:function(v,_,j){var S=Math.ceil((v.getUTCMonth()+1)/3);switch(_){case"Q":return String(S);case"QQ":return(0,u.default)(S,2);case"Qo":return j.ordinalNumber(S,{unit:"quarter"});case"QQQ":return j.quarter(S,{width:"abbreviated",context:"formatting"});case"QQQQQ":return j.quarter(S,{width:"narrow",context:"formatting"});case"QQQQ":default:return j.quarter(S,{width:"wide",context:"formatting"})}},q:function(v,_,j){var S=Math.ceil((v.getUTCMonth()+1)/3);switch(_){case"q":return String(S);case"qq":return(0,u.default)(S,2);case"qo":return j.ordinalNumber(S,{unit:"quarter"});case"qqq":return j.quarter(S,{width:"abbreviated",context:"standalone"});case"qqqqq":return j.quarter(S,{width:"narrow",context:"standalone"});case"qqqq":default:return j.quarter(S,{width:"wide",context:"standalone"})}},M:function(v,_,j){var S=v.getUTCMonth();switch(_){case"M":case"MM":return d.default.M(v,_);case"Mo":return j.ordinalNumber(S+1,{unit:"month"});case"MMM":return j.month(S,{width:"abbreviated",context:"formatting"});case"MMMMM":return j.month(S,{width:"narrow",context:"formatting"});case"MMMM":default:return j.month(S,{width:"wide",context:"formatting"})}},L:function(v,_,j){var S=v.getUTCMonth();switch(_){case"L":return String(S+1);case"LL":return(0,u.default)(S+1,2);case"Lo":return j.ordinalNumber(S+1,{unit:"month"});case"LLL":return j.month(S,{width:"abbreviated",context:"standalone"});case"LLLLL":return j.month(S,{width:"narrow",context:"standalone"});case"LLLL":default:return j.month(S,{width:"wide",context:"standalone"})}},w:function(v,_,j,S){var P=(0,o.default)(v,S);return _==="wo"?j.ordinalNumber(P,{unit:"week"}):(0,u.default)(P,_.length)},I:function(v,_,j){var S=(0,s.default)(v);return _==="Io"?j.ordinalNumber(S,{unit:"week"}):(0,u.default)(S,_.length)},d:function(v,_,j){return _==="do"?j.ordinalNumber(v.getUTCDate(),{unit:"date"}):d.default.d(v,_)},D:function(v,_,j){var S=(0,r.default)(v);return _==="Do"?j.ordinalNumber(S,{unit:"dayOfYear"}):(0,u.default)(S,_.length)},E:function(v,_,j){var S=v.getUTCDay();switch(_){case"E":case"EE":case"EEE":return j.day(S,{width:"abbreviated",context:"formatting"});case"EEEEE":return j.day(S,{width:"narrow",context:"formatting"});case"EEEEEE":return j.day(S,{width:"short",context:"formatting"});case"EEEE":default:return j.day(S,{width:"wide",context:"formatting"})}},e:function(v,_,j,S){var P=v.getUTCDay(),E=(P-S.weekStartsOn+8)%7||7;switch(_){case"e":return String(E);case"ee":return(0,u.default)(E,2);case"eo":return j.ordinalNumber(E,{unit:"day"});case"eee":return j.day(P,{width:"abbreviated",context:"formatting"});case"eeeee":return j.day(P,{width:"narrow",context:"formatting"});case"eeeeee":return j.day(P,{width:"short",context:"formatting"});case"eeee":default:return j.day(P,{width:"wide",context:"formatting"})}},c:function(v,_,j,S){var P=v.getUTCDay(),E=(P-S.weekStartsOn+8)%7||7;switch(_){case"c":return String(E);case"cc":return(0,u.default)(E,_.length);case"co":return j.ordinalNumber(E,{unit:"day"});case"ccc":return j.day(P,{width:"abbreviated",context:"standalone"});case"ccccc":return j.day(P,{width:"narrow",context:"standalone"});case"cccccc":return j.day(P,{width:"short",context:"standalone"});case"cccc":default:return j.day(P,{width:"wide",context:"standalone"})}},i:function(v,_,j){var S=v.getUTCDay(),P=S===0?7:S;switch(_){case"i":return String(P);case"ii":return(0,u.default)(P,_.length);case"io":return j.ordinalNumber(P,{unit:"day"});case"iii":return j.day(S,{width:"abbreviated",context:"formatting"});case"iiiii":return j.day(S,{width:"narrow",context:"formatting"});case"iiiiii":return j.day(S,{width:"short",context:"formatting"});case"iiii":default:return j.day(S,{width:"wide",context:"formatting"})}},a:function(v,_,j){var S=v.getUTCHours(),P=S/12>=1?"pm":"am";switch(_){case"a":case"aa":return j.dayPeriod(P,{width:"abbreviated",context:"formatting"});case"aaa":return j.dayPeriod(P,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return j.dayPeriod(P,{width:"narrow",context:"formatting"});case"aaaa":default:return j.dayPeriod(P,{width:"wide",context:"formatting"})}},b:function(v,_,j){var S=v.getUTCHours(),P;switch(S===12?P=f.noon:S===0?P=f.midnight:P=S/12>=1?"pm":"am",_){case"b":case"bb":return j.dayPeriod(P,{width:"abbreviated",context:"formatting"});case"bbb":return j.dayPeriod(P,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return j.dayPeriod(P,{width:"narrow",context:"formatting"});case"bbbb":default:return j.dayPeriod(P,{width:"wide",context:"formatting"})}},B:function(v,_,j){var S=v.getUTCHours(),P;switch(S>=17?P=f.evening:S>=12?P=f.afternoon:S>=4?P=f.morning:P=f.night,_){case"B":case"BB":case"BBB":return j.dayPeriod(P,{width:"abbreviated",context:"formatting"});case"BBBBB":return j.dayPeriod(P,{width:"narrow",context:"formatting"});case"BBBB":default:return j.dayPeriod(P,{width:"wide",context:"formatting"})}},h:function(v,_,j){if(_==="ho"){var S=v.getUTCHours()%12;return S===0&&(S=12),j.ordinalNumber(S,{unit:"hour"})}return d.default.h(v,_)},H:function(v,_,j){return _==="Ho"?j.ordinalNumber(v.getUTCHours(),{unit:"hour"}):d.default.H(v,_)},K:function(v,_,j){var S=v.getUTCHours()%12;return _==="Ko"?j.ordinalNumber(S,{unit:"hour"}):(0,u.default)(S,_.length)},k:function(v,_,j){var S=v.getUTCHours();return S===0&&(S=24),_==="ko"?j.ordinalNumber(S,{unit:"hour"}):(0,u.default)(S,_.length)},m:function(v,_,j){return _==="mo"?j.ordinalNumber(v.getUTCMinutes(),{unit:"minute"}):d.default.m(v,_)},s:function(v,_,j){return _==="so"?j.ordinalNumber(v.getUTCSeconds(),{unit:"second"}):d.default.s(v,_)},S:function(v,_){return d.default.S(v,_)},X:function(v,_,j,S){var P=S._originalDate||v,E=P.getTimezoneOffset();if(E===0)return"Z";switch(_){case"X":return y(E);case"XXXX":case"XX":return w(E);case"XXXXX":case"XXX":default:return w(E,":")}},x:function(v,_,j,S){var P=S._originalDate||v,E=P.getTimezoneOffset();switch(_){case"x":return y(E);case"xxxx":case"xx":return w(E);case"xxxxx":case"xxx":default:return w(E,":")}},O:function(v,_,j,S){var P=S._originalDate||v,E=P.getTimezoneOffset();switch(_){case"O":case"OO":case"OOO":return"GMT"+p(E,":");case"OOOO":default:return"GMT"+w(E,":")}},z:function(v,_,j,S){var P=S._originalDate||v,E=P.getTimezoneOffset();switch(_){case"z":case"zz":case"zzz":return"GMT"+p(E,":");case"zzzz":default:return"GMT"+w(E,":")}},t:function(v,_,j,S){var P=S._originalDate||v,E=Math.floor(P.getTime()/1e3);return(0,u.default)(E,_.length)},T:function(v,_,j,S){var P=S._originalDate||v,E=P.getTime();return(0,u.default)(E,_.length)}};function p(N,v){var _=N>0?"-":"+",j=Math.abs(N),S=Math.floor(j/60),P=j%60;if(P===0)return _+String(S);var E=v;return _+String(S)+E+(0,u.default)(P,2)}function y(N,v){if(N%60===0){var _=N>0?"-":"+";return _+(0,u.default)(Math.abs(N)/60,2)}return w(N,v)}function w(N,v){var _=v||"",j=N>0?"-":"+",S=Math.abs(N),P=(0,u.default)(Math.floor(S/60),2),E=(0,u.default)(S%60,2);return j+P+_+E}var b=h;t.default=b,e.exports=t.default})($b,$b.exports);var ZH=$b.exports,Kb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(u,d){switch(u){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});case"PPPP":default:return d.date({width:"full"})}},r=function(u,d){switch(u){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});case"pppp":default:return d.time({width:"full"})}},s=function(u,d){var f=u.match(/(P+)(p+)?/)||[],h=f[1],p=f[2];if(!p)return n(u,d);var y;switch(h){case"P":y=d.dateTime({width:"short"});break;case"PP":y=d.dateTime({width:"medium"});break;case"PPP":y=d.dateTime({width:"long"});break;case"PPPP":default:y=d.dateTime({width:"full"});break}return y.replace("{{date}}",n(h,d)).replace("{{time}}",r(p,d))},i={p:r,P:s},o=i;t.default=o,e.exports=t.default})(Kb,Kb.exports);var KH=Kb.exports,Xb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}e.exports=t.default})(Xb,Xb.exports);var oR=Xb.exports;const SC=gn(oR);var af={};Object.defineProperty(af,"__esModule",{value:!0});af.isProtectedDayOfYearToken=QH;af.isProtectedWeekYearToken=eG;af.throwProtectedError=tG;var XH=["D","DD"],JH=["YY","YYYY"];function QH(e){return XH.indexOf(e)!==-1}function eG(e){return JH.indexOf(e)!==-1}function tG(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Jb={exports:{}},Qb={exports:{}},ew={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(o,l,u){var d,f=n[o];return typeof f=="string"?d=f:l===1?d=f.one:d=f.other.replace("{{count}}",l.toString()),u!=null&&u.addSuffix?u.comparison&&u.comparison>0?"in "+d:d+" ago":d},s=r;t.default=s,e.exports=t.default})(ew,ew.exports);var nG=ew.exports,tw={exports:{}},nw={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.width?String(s.width):r.defaultWidth,o=r.formats[i]||r.formats[r.defaultWidth];return o}}e.exports=t.default})(nw,nw.exports);var rG=nw.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(rG),s={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l={date:(0,r.default)({formats:s,defaultWidth:"full"}),time:(0,r.default)({formats:i,defaultWidth:"full"}),dateTime:(0,r.default)({formats:o,defaultWidth:"full"})},u=l;t.default=u,e.exports=t.default})(tw,tw.exports);var sG=tw.exports,rw={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(o,l,u,d){return n[o]},s=r;t.default=s,e.exports=t.default})(rw,rw.exports);var iG=rw.exports,sw={exports:{}},iw={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(s,i){var o=i!=null&&i.context?String(i.context):"standalone",l;if(o==="formatting"&&r.formattingValues){var u=r.defaultFormattingWidth||r.defaultWidth,d=i!=null&&i.width?String(i.width):u;l=r.formattingValues[d]||r.formattingValues[u]}else{var f=r.defaultWidth,h=i!=null&&i.width?String(i.width):r.defaultWidth;l=r.values[h]||r.values[f]}var p=r.argumentCallback?r.argumentCallback(s):s;return l[p]}}e.exports=t.default})(iw,iw.exports);var oG=iw.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(oG),s={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},l={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f=function(w,b){var N=Number(w),v=N%100;if(v>20||v<10)switch(v%10){case 1:return N+"st";case 2:return N+"nd";case 3:return N+"rd"}return N+"th"},h={ordinalNumber:f,era:(0,r.default)({values:s,defaultWidth:"wide"}),quarter:(0,r.default)({values:i,defaultWidth:"wide",argumentCallback:function(w){return w-1}}),month:(0,r.default)({values:o,defaultWidth:"wide"}),day:(0,r.default)({values:l,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:u,defaultWidth:"wide",formattingValues:d,defaultFormattingWidth:"wide"})},p=h;t.default=p,e.exports=t.default})(sw,sw.exports);var aG=sw.exports,ow={exports:{}},aw={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(i){return function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.width,d=u&&i.matchPatterns[u]||i.matchPatterns[i.defaultMatchWidth],f=o.match(d);if(!f)return null;var h=f[0],p=u&&i.parsePatterns[u]||i.parsePatterns[i.defaultParseWidth],y=Array.isArray(p)?s(p,function(N){return N.test(h)}):r(p,function(N){return N.test(h)}),w;w=i.valueCallback?i.valueCallback(y):y,w=l.valueCallback?l.valueCallback(w):w;var b=o.slice(h.length);return{value:w,rest:b}}}function r(i,o){for(var l in i)if(i.hasOwnProperty(l)&&o(i[l]))return l}function s(i,o){for(var l=0;l<i.length;l++)if(o(i[l]))return l}e.exports=t.default})(aw,aw.exports);var lG=aw.exports,lw={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.match(r.matchPattern);if(!o)return null;var l=o[0],u=s.match(r.parsePattern);if(!u)return null;var d=r.valueCallback?r.valueCallback(u[0]):u[0];d=i.valueCallback?i.valueCallback(d):d;var f=s.slice(l.length);return{value:d,rest:f}}}e.exports=t.default})(lw,lw.exports);var cG=lw.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(lG),s=n(cG),i=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,l={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},u={any:[/^b/i,/^(a|c)/i]},d={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},f={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},p={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},b={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},N={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v={ordinalNumber:(0,s.default)({matchPattern:i,parsePattern:o,valueCallback:function(S){return parseInt(S,10)}}),era:(0,r.default)({matchPatterns:l,defaultMatchWidth:"wide",parsePatterns:u,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:d,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any",valueCallback:function(S){return S+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:p,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:y,defaultMatchWidth:"wide",parsePatterns:w,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:b,defaultMatchWidth:"any",parsePatterns:N,defaultParseWidth:"any"})},_=v;t.default=_,e.exports=t.default})(ow,ow.exports);var uG=ow.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(nG),s=n(sG),i=n(iG),o=n(aG),l=n(uG),u={code:"en-US",formatDistance:r.default,formatLong:s.default,formatRelative:i.default,localize:o.default,match:l.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},d=u;t.default=d,e.exports=t.default})(Qb,Qb.exports);var dG=Qb.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(dG),s=r.default;t.default=s,e.exports=t.default})(Jb,Jb.exports);var fG=Jb.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=j;var r=n(OH),s=n(zH),i=n(Ws),o=n(ZH),l=n(KH),u=n(oR),d=af,f=n(Aa),h=n(qn),p=La,y=n(fG),w=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N=/^'([^]*?)'?$/,v=/''/g,_=/[a-zA-Z]/;function j(P,E,C){var T,D,R,F,A,O,$,K,te,W,z,V,q,Z,X,G,ae,fe;(0,h.default)(2,arguments);var ge=String(E),be=(0,p.getDefaultOptions)(),ke=(T=(D=C==null?void 0:C.locale)!==null&&D!==void 0?D:be.locale)!==null&&T!==void 0?T:y.default,re=(0,f.default)((R=(F=(A=(O=C==null?void 0:C.firstWeekContainsDate)!==null&&O!==void 0?O:C==null||($=C.locale)===null||$===void 0||(K=$.options)===null||K===void 0?void 0:K.firstWeekContainsDate)!==null&&A!==void 0?A:be.firstWeekContainsDate)!==null&&F!==void 0?F:(te=be.locale)===null||te===void 0||(W=te.options)===null||W===void 0?void 0:W.firstWeekContainsDate)!==null&&R!==void 0?R:1);if(!(re>=1&&re<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var me=(0,f.default)((z=(V=(q=(Z=C==null?void 0:C.weekStartsOn)!==null&&Z!==void 0?Z:C==null||(X=C.locale)===null||X===void 0||(G=X.options)===null||G===void 0?void 0:G.weekStartsOn)!==null&&q!==void 0?q:be.weekStartsOn)!==null&&V!==void 0?V:(ae=be.locale)===null||ae===void 0||(fe=ae.options)===null||fe===void 0?void 0:fe.weekStartsOn)!==null&&z!==void 0?z:0);if(!(me>=0&&me<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ke.localize)throw new RangeError("locale must contain localize property");if(!ke.formatLong)throw new RangeError("locale must contain formatLong property");var Ne=(0,i.default)(P);if(!(0,r.default)(Ne))throw new RangeError("Invalid time value");var ce=(0,u.default)(Ne),ue=(0,s.default)(Ne,ce),xe={firstWeekContainsDate:re,weekStartsOn:me,locale:ke,_originalDate:Ne},je=ge.match(b).map(function(Ce){var Fe=Ce[0];if(Fe==="p"||Fe==="P"){var rt=l.default[Fe];return rt(Ce,ke.formatLong)}return Ce}).join("").match(w).map(function(Ce){if(Ce==="''")return"'";var Fe=Ce[0];if(Fe==="'")return S(Ce);var rt=o.default[Fe];if(rt)return!(C!=null&&C.useAdditionalWeekYearTokens)&&(0,d.isProtectedWeekYearToken)(Ce)&&(0,d.throwProtectedError)(Ce,E,String(P)),!(C!=null&&C.useAdditionalDayOfYearTokens)&&(0,d.isProtectedDayOfYearToken)(Ce)&&(0,d.throwProtectedError)(Ce,E,String(P)),rt(ue,Ce,ke.localize,xe);if(Fe.match(_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Fe+"`");return Ce}).join("");return je}function S(P){var E=P.match(N);return E?E[1].replace(v,"'"):P}e.exports=t.default})(Eb,Eb.exports);var hG=Eb.exports;const pG=gn(hG);function kC(e,t,n){var r=yG(e,n.timeZone,n.locale);return r.formatToParts?mG(r,t):gG(r,t)}function mG(e,t){for(var n=e.formatToParts(t),r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function gG(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function yG(e,t,n){if(n&&!n.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function xG(e,t){var n=_G(t);return n.formatToParts?bG(n,e):wG(n,e)}var vG={year:0,month:1,day:2,hour:3,minute:4,second:5};function bG(e,t){try{for(var n=e.formatToParts(t),r=[],s=0;s<n.length;s++){var i=vG[n[s].type];i>=0&&(r[i]=parseInt(n[s].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function wG(e,t){var n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Yy={};function _G(e){if(!Yy[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="06/25/2014 00:00:00";Yy[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Yy[e]}function tj(e,t,n,r,s,i,o){var l=new Date(0);return l.setUTCFullYear(e,t,n),l.setUTCHours(r,s,i,o),l}var CC=36e5,jG=6e4,Zy={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function nj(e,t,n){var r,s;if(!e||(r=Zy.timezoneZ.exec(e),r))return 0;var i;if(r=Zy.timezoneHH.exec(e),r)return i=parseInt(r[1],10),PC(i)?-(i*CC):NaN;if(r=Zy.timezoneHHMM.exec(e),r){i=parseInt(r[2],10);var o=parseInt(r[3],10);return PC(i,o)?(s=Math.abs(i)*CC+o*jG,r[1]==="+"?-s:s):NaN}if(kG(e)){t=new Date(t||Date.now());var l=n?t:NG(t),u=cw(l,e),d=n?u:SG(t,u,e);return-d}return NaN}function NG(e){return tj(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function cw(e,t){var n=xG(e,t),r=tj(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),s=e.getTime(),i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function SG(e,t,n){var r=e.getTime(),s=r-t,i=cw(new Date(s),n);if(t===i)return t;s-=i-t;var o=cw(new Date(s),n);return i===o?i:Math.max(i,o)}function PC(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var TC={};function kG(e){if(TC[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),TC[e]=!0,!0}catch{return!1}}var CG=60*1e3,PG={X:function(e,t,n,r){var s=Ky(r.timeZone,e);if(s===0)return"Z";switch(t){case"X":return EC(s);case"XXXX":case"XX":return il(s);case"XXXXX":case"XXX":default:return il(s,":")}},x:function(e,t,n,r){var s=Ky(r.timeZone,e);switch(t){case"x":return EC(s);case"xxxx":case"xx":return il(s);case"xxxxx":case"xxx":default:return il(s,":")}},O:function(e,t,n,r){var s=Ky(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+TG(s,":");case"OOOO":default:return"GMT"+il(s,":")}},z:function(e,t,n,r){switch(t){case"z":case"zz":case"zzz":return kC("short",e,r);case"zzzz":default:return kC("long",e,r)}}};function Ky(e,t){var n=e?nj(e,t,!0)/CG:t.getTimezoneOffset();if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function Up(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function il(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=Up(Math.floor(s/60),2),o=Up(Math.floor(s%60),2);return r+i+n+o}function EC(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Up(Math.abs(e)/60,2)}return il(e,t)}function TG(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=t;return n+String(s)+o+Up(i,2)}var aR=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Xy=36e5,MC=6e4,EG=2,zn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:aR};function uw(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},r=n.additionalDigits==null?EG:$H(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=MG(e),i=DG(s.date,r),o=i.year,l=i.restDateString,u=AG(l,o);if(isNaN(u))return new Date(NaN);if(u){var d=u.getTime(),f=0,h;if(s.time&&(f=LG(s.time),isNaN(f)))return new Date(NaN);if(s.timeZone||n.timeZone){if(h=nj(s.timeZone||n.timeZone,new Date(d+f)),isNaN(h))return new Date(NaN)}else h=SC(new Date(d+f)),h=SC(new Date(d+f+h));return new Date(d+f+h)}else return new Date(NaN)}function MG(e){var t={},n=zn.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=zn.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var s=zn.timeZone.exec(r);s?(t.time=r.replace(s[1],""),t.timeZone=s[1].trim()):t.time=r}return t}function DG(e,t){var n=zn.YYY[t],r=zn.YYYYY[t],s;if(s=zn.YYYY.exec(e)||r.exec(e),s){var i=s[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(s=zn.YY.exec(e)||n.exec(e),s){var o=s[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function AG(e,t){if(t===null)return null;var n,r,s,i;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=zn.MM.exec(e),n)return r=new Date(0),s=parseInt(n[1],10)-1,AC(t,s)?(r.setUTCFullYear(t,s),r):new Date(NaN);if(n=zn.DDD.exec(e),n){r=new Date(0);var o=parseInt(n[1],10);return OG(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(n=zn.MMDD.exec(e),n){r=new Date(0),s=parseInt(n[1],10)-1;var l=parseInt(n[2],10);return AC(t,s,l)?(r.setUTCFullYear(t,s,l),r):new Date(NaN)}if(n=zn.Www.exec(e),n)return i=parseInt(n[1],10)-1,LC(t,i)?DC(t,i):new Date(NaN);if(n=zn.WwwD.exec(e),n){i=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return LC(t,i,u)?DC(t,i,u):new Date(NaN)}return null}function LG(e){var t,n,r;if(t=zn.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),Jy(n)?n%24*Xy:NaN;if(t=zn.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),Jy(n,r)?n%24*Xy+r*MC:NaN;if(t=zn.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var s=parseFloat(t[3].replace(",","."));return Jy(n,r,s)?n%24*Xy+r*MC+s*1e3:NaN}return null}function DC(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,i=t*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var IG=[31,28,31,30,31,30,31,31,30,31,30,31],RG=[31,29,31,30,31,30,31,31,30,31,30,31];function lR(e){return e%400===0||e%4===0&&e%100!==0}function AC(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=lR(e);if(r&&n>RG[t]||!r&&n>IG[t])return!1}return!0}function OG(e,t){if(t<1)return!1;var n=lR(e);return!(n&&t>366||!n&&t>365)}function LC(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function Jy(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}var $G=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function dw(e,t,n){var r=String(t),s=n||{},i=r.match($G);if(i){var o=uw(s.originalDate||e,s);r=i.reduce(function(l,u){if(u[0]==="'")return l;var d=l.indexOf(u),f=l[d-1]==="'",h=l.replace(u,"'"+PG[u[0]](o,u,null,s)+"'");return f?h.substring(0,d-1)+h.substring(d+1):h},r)}return pG(e,r,s)}var fw={exports:{}},hw={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,s){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r}e.exports=t.default})(hw,hw.exports);var FG=hw.exports;(function(e,t){var n=Ft.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(FG);function s(i){return(0,r.default)({},i)}e.exports=t.default})(fw,fw.exports);var zG=fw.exports;const BG=gn(zG);function VG(e,t,n){if(typeof e=="string"&&!e.match(aR)){var r=BG(n);return r.timeZone=t,uw(e,r)}var s=uw(e,n),i=tj(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime(),o=nj(t,new Date(i));return new Date(i+o)}function IC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function og(...e){return t=>{let n=!1;const r=e.map(s=>{const i=IC(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():IC(e[s],null)}}}}function Ia(...e){return g.useCallback(og(...e),e)}var UG=Symbol.for("react.lazy"),Wp=qd[" use ".trim().toString()];function WG(e){return typeof e=="object"&&e!==null&&"then"in e}function cR(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===UG&&"_payload"in e&&WG(e._payload)}function HG(e){const t=GG(e),n=g.forwardRef((r,s)=>{let{children:i,...o}=r;cR(i)&&typeof Wp=="function"&&(i=Wp(i._payload));const l=g.Children.toArray(i),u=l.find(YG);if(u){const d=u.props.children,f=l.map(h=>h===u?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:h);return a.jsx(t,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,f):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var uR=HG("Slot");function GG(e){const t=g.forwardRef((n,r)=>{let{children:s,...i}=n;if(cR(s)&&typeof Wp=="function"&&(s=Wp(s._payload)),g.isValidElement(s)){const o=KG(s),l=ZG(i,s.props);return s.type!==g.Fragment&&(l.ref=r?og(r,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qG=Symbol("radix.slottable");function YG(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qG}function ZG(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function KG(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=dR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fR(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=dR(e))&&(r&&(r+=" "),r+=t);return r}const RC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,OC=fR,ag=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return OC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(d=>{const f=n==null?void 0:n[d],h=i==null?void 0:i[d];if(f===null)return null;const p=RC(f)||RC(h);return s[d][p]}),l=n&&Object.entries(n).reduce((d,f)=>{let[h,p]=f;return p===void 0||(d[h]=p),d},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:h,className:p,...y}=f;return Object.entries(y).every(w=>{let[b,N]=w;return Array.isArray(N)?N.includes({...i,...l}[b]):{...i,...l}[b]===N})?[...d,h,p]:d},[]);return OC(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},XG=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},JG=(e,t)=>({classGroupId:e,validator:t}),hR=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Hp="-",$C=[],QG="arbitrary..",eq=e=>{const t=nq(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return tq(o);const l=o.split(Hp),u=l[0]===""&&l.length>1?1:0;return pR(l,u,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const u=r[o],d=n[o];return u?d?XG(d,u):u:d||$C}return n[o]||$C}}},pR=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],i=n.nextPart.get(s);if(i){const d=pR(e,t+1,i);if(d)return d}const o=n.validators;if(o===null)return;const l=t===0?e.join(Hp):e.slice(t).join(Hp),u=o.length;for(let d=0;d<u;d++){const f=o[d];if(f.validator(l))return f.classGroupId}},tq=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?QG+r:void 0})(),nq=e=>{const{theme:t,classGroups:n}=e;return rq(n,t)},rq=(e,t)=>{const n=hR();for(const r in e){const s=e[r];rj(s,n,r,t)}return n},rj=(e,t,n,r)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];sq(o,t,n,r)}},sq=(e,t,n,r)=>{if(typeof e=="string"){iq(e,t,n);return}if(typeof e=="function"){oq(e,t,n,r);return}aq(e,t,n,r)},iq=(e,t,n)=>{const r=e===""?t:mR(t,e);r.classGroupId=n},oq=(e,t,n,r)=>{if(lq(e)){rj(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(JG(n,e))},aq=(e,t,n,r)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[l,u]=s[o];rj(u,mR(t,l),n,r)}},mR=(e,t)=>{let n=e;const r=t.split(Hp),s=r.length;for(let i=0;i<s;i++){const o=r[i];let l=n.nextPart.get(o);l||(l=hR(),n.nextPart.set(o,l)),n=l}return n},lq=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,cq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(i,o)=>{n[i]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},pw="!",FC=":",uq=[],zC=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),dq=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,l=0,u=0,d;const f=s.length;for(let b=0;b<f;b++){const N=s[b];if(o===0&&l===0){if(N===FC){i.push(s.slice(u,b)),u=b+1;continue}if(N==="/"){d=b;continue}}N==="["?o++:N==="]"?o--:N==="("?l++:N===")"&&l--}const h=i.length===0?s:s.slice(u);let p=h,y=!1;h.endsWith(pw)?(p=h.slice(0,-1),y=!0):h.startsWith(pw)&&(p=h.slice(1),y=!0);const w=d&&d>u?d-u:void 0;return zC(i,y,p,w)};if(t){const s=t+FC,i=r;r=o=>o.startsWith(s)?i(o.slice(s.length)):zC(uq,!1,o,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},fq=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],l=o[0]==="[",u=t.has(o);l||u?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},hq=e=>({cache:cq(e.cacheSize),parseClassName:dq(e),sortModifiers:fq(e),...eq(e)}),pq=/\s+/,mq=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],l=e.trim().split(pq);let u="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:h,modifiers:p,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:b}=n(f);if(h){u=f+(u.length>0?" "+u:u);continue}let N=!!b,v=r(N?w.substring(0,b):w);if(!v){if(!N){u=f+(u.length>0?" "+u:u);continue}if(v=r(w),!v){u=f+(u.length>0?" "+u:u);continue}N=!1}const _=p.length===0?"":p.length===1?p[0]:i(p).join(":"),j=y?_+pw:_,S=j+v;if(o.indexOf(S)>-1)continue;o.push(S);const P=s(v,N);for(let E=0;E<P.length;++E){const C=P[E];o.push(j+C)}u=f+(u.length>0?" "+u:u)}return u},gq=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=gR(n))&&(s&&(s+=" "),s+=r);return s},gR=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=gR(e[r]))&&(n&&(n+=" "),n+=t);return n},yq=(e,...t)=>{let n,r,s,i;const o=u=>{const d=t.reduce((f,h)=>h(f),e());return n=hq(d),r=n.cache.get,s=n.cache.set,i=l,l(u)},l=u=>{const d=r(u);if(d)return d;const f=mq(u,n);return s(u,f),f};return i=o,(...u)=>i(gq(...u))},xq=[],rn=e=>{const t=n=>n[e]||xq;return t.isThemeGetter=!0,t},yR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vq=/^\d+\/\d+$/,bq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_q=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Za=e=>vq.test(e),Xe=e=>!!e&&!Number.isNaN(Number(e)),Oi=e=>!!e&&Number.isInteger(Number(e)),Qy=e=>e.endsWith("%")&&Xe(e.slice(0,-1)),Xs=e=>bq.test(e),Sq=()=>!0,kq=e=>wq.test(e)&&!_q.test(e),vR=()=>!1,Cq=e=>jq.test(e),Pq=e=>Nq.test(e),Tq=e=>!Me(e)&&!De(e),Eq=e=>kc(e,_R,vR),Me=e=>yR.test(e),Lo=e=>kc(e,jR,kq),ex=e=>kc(e,Iq,Xe),BC=e=>kc(e,bR,vR),Mq=e=>kc(e,wR,Pq),lh=e=>kc(e,NR,Cq),De=e=>xR.test(e),du=e=>Cc(e,jR),Dq=e=>Cc(e,Rq),VC=e=>Cc(e,bR),Aq=e=>Cc(e,_R),Lq=e=>Cc(e,wR),ch=e=>Cc(e,NR,!0),kc=(e,t,n)=>{const r=yR.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Cc=(e,t,n=!1)=>{const r=xR.exec(e);return r?r[1]?t(r[1]):n:!1},bR=e=>e==="position"||e==="percentage",wR=e=>e==="image"||e==="url",_R=e=>e==="length"||e==="size"||e==="bg-size",jR=e=>e==="length",Iq=e=>e==="number",Rq=e=>e==="family-name",NR=e=>e==="shadow",Oq=()=>{const e=rn("color"),t=rn("font"),n=rn("text"),r=rn("font-weight"),s=rn("tracking"),i=rn("leading"),o=rn("breakpoint"),l=rn("container"),u=rn("spacing"),d=rn("radius"),f=rn("shadow"),h=rn("inset-shadow"),p=rn("text-shadow"),y=rn("drop-shadow"),w=rn("blur"),b=rn("perspective"),N=rn("aspect"),v=rn("ease"),_=rn("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...S(),De,Me],E=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],T=()=>[De,Me,u],D=()=>[Za,"full","auto",...T()],R=()=>[Oi,"none","subgrid",De,Me],F=()=>["auto",{span:["full",Oi,De,Me]},Oi,De,Me],A=()=>[Oi,"auto",De,Me],O=()=>["auto","min","max","fr",De,Me],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],te=()=>["auto",...T()],W=()=>[Za,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],z=()=>[e,De,Me],V=()=>[...S(),VC,BC,{position:[De,Me]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",Aq,Eq,{size:[De,Me]}],X=()=>[Qy,du,Lo],G=()=>["","none","full",d,De,Me],ae=()=>["",Xe,du,Lo],fe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>[Xe,Qy,VC,BC],ke=()=>["","none",w,De,Me],re=()=>["none",Xe,De,Me],me=()=>["none",Xe,De,Me],Ne=()=>[Xe,De,Me],ce=()=>[Za,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xs],breakpoint:[Xs],color:[Sq],container:[Xs],"drop-shadow":[Xs],ease:["in","out","in-out"],font:[Tq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xs],shadow:[Xs],spacing:["px",Xe],text:[Xs],"text-shadow":[Xs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Za,Me,De,N]}],container:["container"],columns:[{columns:[Xe,Me,De,l]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Oi,"auto",De,Me]}],basis:[{basis:[Za,"full","auto",l,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xe,Za,"auto","initial","none",Me]}],grow:[{grow:["",Xe,De,Me]}],shrink:[{shrink:["",Xe,De,Me]}],order:[{order:[Oi,"first","last","none",De,Me]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:te()}],mx:[{mx:te()}],my:[{my:te()}],ms:[{ms:te()}],me:[{me:te()}],mt:[{mt:te()}],mr:[{mr:te()}],mb:[{mb:te()}],ml:[{ml:te()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,du,Lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,De,ex]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qy,Me]}],"font-family":[{font:[Dq,Me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,De,Me]}],"line-clamp":[{"line-clamp":[Xe,"none",De,ex]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",De,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xe,"from-font","auto",De,Lo]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Xe,"auto",De,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oi,De,Me],radial:["",De,Me],conic:[Oi,De,Me]},Lq,Mq]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xe,De,Me]}],"outline-w":[{outline:["",Xe,du,Lo]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",f,ch,lh]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",h,ch,lh]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Xe,Lo]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",p,ch,lh]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Xe,De,Me]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":be()}],"mask-image-linear-to-pos":[{"mask-linear-to":be()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":be()}],"mask-image-t-to-pos":[{"mask-t-to":be()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":be()}],"mask-image-r-to-pos":[{"mask-r-to":be()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":be()}],"mask-image-b-to-pos":[{"mask-b-to":be()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":be()}],"mask-image-l-to-pos":[{"mask-l-to":be()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":be()}],"mask-image-x-to-pos":[{"mask-x-to":be()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":be()}],"mask-image-y-to-pos":[{"mask-y-to":be()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[De,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":be()}],"mask-image-radial-to-pos":[{"mask-radial-to":be()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":be()}],"mask-image-conic-to-pos":[{"mask-conic-to":be()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Me]}],filter:[{filter:["","none",De,Me]}],blur:[{blur:ke()}],brightness:[{brightness:[Xe,De,Me]}],contrast:[{contrast:[Xe,De,Me]}],"drop-shadow":[{"drop-shadow":["","none",y,ch,lh]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Xe,De,Me]}],"hue-rotate":[{"hue-rotate":[Xe,De,Me]}],invert:[{invert:["",Xe,De,Me]}],saturate:[{saturate:[Xe,De,Me]}],sepia:[{sepia:["",Xe,De,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Me]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[Xe,De,Me]}],"backdrop-contrast":[{"backdrop-contrast":[Xe,De,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xe,De,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xe,De,Me]}],"backdrop-invert":[{"backdrop-invert":["",Xe,De,Me]}],"backdrop-opacity":[{"backdrop-opacity":[Xe,De,Me]}],"backdrop-saturate":[{"backdrop-saturate":[Xe,De,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",Xe,De,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xe,"initial",De,Me]}],ease:[{ease:["linear","initial",v,De,Me]}],delay:[{delay:[Xe,De,Me]}],animate:[{animate:["none",_,De,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,De,Me]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[De,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Me]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Xe,du,Lo,ex]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$q=yq(Oq);function tn(...e){return $q(fR(e))}const Fq=ag("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),an=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?uR:"button";return a.jsx(o,{className:tn(Fq({variant:t,size:n,className:e})),ref:i,...s})});an.displayName="Button";function SR({onClose:e}){const[t,n]=g.useState([{from:"ai",text:"Hello! I am your AI Symptom Checker. Please describe your symptoms, and I can suggest the right department for you."}]),[r,s]=g.useState(""),[i,o]=g.useState(!1),l=g.useRef(null);g.useEffect(()=>{var f;(f=l.current)==null||f.scrollIntoView({behavior:"smooth"})},[t,i]);const u=async()=>{if(!r.trim()||i)return;const f={from:"user",text:r};n(h=>[...h,f]),s(""),o(!0);try{await new Promise(w=>setTimeout(w,1500));const y={from:"ai",text:(await(await fetch(oe("/api/triage/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symptoms:r})})).json()).reply};n(w=>[...w,y])}catch(h){console.error(h);const p={from:"ai",text:"Sorry, I am having trouble connecting. Please try again later."};n(y=>[...y,p])}finally{o(!1)}},d=()=>a.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:a.jsxs("div",{className:"p-3 rounded-2xl bg-gray-800 flex items-center space-x-1.5",children:[a.jsx(Y.div,{animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut"},className:"w-2 h-2 bg-gray-500 rounded-full"}),a.jsx(Y.div,{animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.1},className:"w-2 h-2 bg-gray-500 rounded-full"}),a.jsx(Y.div,{animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.2},className:"w-2 h-2 bg-gray-500 rounded-full"})]})});return a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",children:a.jsxs(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:"bg-black/50 backdrop-blur-2xl rounded-3xl border border-white/10 shadow-2xl w-full max-w-lg flex flex-col h-[80vh] max-h-[700px] text-white",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(en,{className:"text-blue-400"}),a.jsx("h2",{className:"text-xl font-bold",children:"AI Symptom Checker"})]}),a.jsx("button",{onClick:e,className:"p-1 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white transition-colors",children:a.jsx(Wn,{size:24})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.jsx(mt,{children:t.map((f,h)=>a.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},layout:!0,className:`flex ${f.from==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl text-white ${f.from==="user"?"bg-blue-600":"bg-gray-800"}`,dangerouslySetInnerHTML:{__html:f.text}})},h))}),i&&a.jsx(d,{}),a.jsx("div",{ref:l})]}),a.jsx("div",{className:"p-6 border-t border-white/10",children:a.jsxs("div",{className:"flex gap-3 items-center bg-gray-900/50 border border-gray-700 rounded-full p-2",children:[a.jsx("input",{type:"text",value:r,onChange:f=>s(f.target.value),onKeyPress:f=>f.key==="Enter"&&u(),placeholder:"Describe your symptoms...",className:"flex-1 bg-transparent px-3 text-white placeholder:text-gray-500 focus:outline-none",disabled:i}),a.jsx(Y.button,{onClick:u,disabled:i,whileHover:{scale:1.1},whileTap:{scale:.95},className:"bg-blue-600 text-white p-2.5 rounded-full flex items-center justify-center disabled:bg-gray-600 disabled:cursor-not-allowed",children:a.jsx(K_,{size:20})})]})})]})})}const UC={appointment:zr,medical_record:J_,lab_test:co,prescription:Ls,surgery:ec,bill:us,admission:Y_,default:mi},zq=({item:e,isLast:t})=>{const n=UC[e.type]||UC.default,r=new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return a.jsxs(Y.div,{className:"relative pl-8 pb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[!t&&a.jsx("div",{className:"absolute left-[1.1rem] top-5 h-full w-0.5 bg-border"}),a.jsx("div",{className:"absolute left-0 top-0 flex items-center justify-center w-10 h-10 bg-card border rounded-full",children:a.jsx(n,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"font-semibold text-foreground",children:r}),a.jsxs("div",{className:"mt-2 p-4 bg-card border rounded-lg shadow-sm",children:[a.jsx("h4",{className:"font-bold capitalize text-lg text-foreground",children:e.type.replace("_"," ")}),a.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:Object.entries(e.details).map(([s,i])=>s==="date"?null:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium capitalize",children:[s.replace(/([A-Z])/g," $1"),":"]}),a.jsx("span",{children:String(i)})]},s))})]})]})]})};function Bq({patient:e}){const[t,n]=g.useState([]),[r,s]=g.useState(!0),[i,o]=g.useState(null);return g.useEffect(()=>{if(!(e!=null&&e.patientId))return;(async()=>{s(!0);try{const u=await fetch(oe(`/api/patients/${e.patientId}/full-history`));if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=(await u.json()).history.sort((h,p)=>new Date(p.date).getTime()-new Date(h.date).getTime());n(f)}catch(u){o("Failed to connect to the server or retrieve history."),console.error("Error fetching patient history:",u)}finally{s(!1)}})()},[e]),r?a.jsx("div",{className:"p-8 text-center",children:"Loading health timeline..."}):i?a.jsx("div",{className:"p-8 text-center text-red-500",children:i}):a.jsxs("div",{className:"p-4 sm:p-8",children:[a.jsxs("h1",{className:"text-3xl font-bold mb-8 text-foreground",children:["Medical History for ",e.firstName," ",e.lastName]}),a.jsx("div",{className:"relative",children:t.length>0?t.map((l,u)=>a.jsx(zq,{item:l,isLast:u===t.length-1},u)):a.jsx("p",{className:"text-center text-muted-foreground",children:"No medical history found."})})]})}const Vq=({item:e,onTrack:t})=>{const n=e.status==="scheduled",r=e.status==="taken",s=e.status==="skipped",i=new Date(e.time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return a.jsxs(Y.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.8},className:`p-4 rounded-2xl border ${r?"bg-green-500/10 border-green-500/20":s?"bg-red-500/10 border-red-500/20":"bg-card border-border"}`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-lg text-foreground",children:e.medication}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.dosage})]}),a.jsxs("div",{className:`flex items-center gap-1.5 text-sm font-medium ${r?"text-green-400":s?"text-red-400":"text-muted-foreground"}`,children:[r?a.jsx(yC,{size:16}):s?a.jsx(Wn,{size:16}):a.jsx($s,{size:16}),i]})]}),n&&a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[a.jsxs("button",{onClick:()=>t(e,"skipped"),className:"w-full py-2.5 bg-muted hover:bg-muted/80 rounded-lg text-sm font-semibold flex items-center justify-center gap-2",children:[a.jsx(Wn,{size:16})," Skip"]}),a.jsxs("button",{onClick:()=>t(e,"taken"),className:"w-full py-2.5 bg-primary hover:bg-primary/90 text-primary-foreground rounded-lg text-sm font-semibold flex items-center justify-center gap-2",children:[a.jsx(yC,{size:16})," Take"]})]})]})};function Uq({patient:e}){const[t,n]=g.useState([]),[r,s]=g.useState(!0),[i,o]=g.useState(null),l=async()=>{if(e!=null&&e.id)try{s(!0);const h=await fetch(oe(`/api/medications/${e.id}`));if(!h.ok)throw new Error("Failed to fetch medication schedule.");const p=await h.json();p.success?n(p.medications):o(p.message)}catch(h){o(h.message)}finally{s(!1)}};g.useEffect(()=>{l()},[e]);const u=async(h,p)=>{const y=[...t],w=t.map(b=>b.prescriptionId===h.prescriptionId&&b.time===h.time?{...b,status:p}:b);n(w);try{if(!(await fetch(oe("/api/medications/track"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:e.id,prescriptionId:h.prescriptionId,doseTime:h.time,status:p})})).ok)throw new Error("Failed to save tracking data.")}catch{o("Could not save progress. Please try again."),n(y)}},d=g.useMemo(()=>{const h={morning:[],afternoon:[],evening:[]};return t.forEach(p=>{const y=new Date(p.time).getHours();y<12?h.morning.push(p):y<18?h.afternoon.push(p):h.evening.push(p)}),h},[t]),f=({title:h,items:p,icon:y})=>p.length>0&&a.jsxs("section",{children:[a.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2 mb-4",children:[a.jsx(y,{size:20,className:"text-muted-foreground"}),h]}),a.jsx("div",{className:"space-y-4",children:a.jsx(mt,{children:p.map(w=>a.jsx(Vq,{item:w,onTrack:u},`${w.prescriptionId}-${w.time}`))})})]});return r?a.jsx("div",{className:"p-8 text-center",children:"Loading medication schedule..."}):i?a.jsx("div",{className:"p-8 text-center text-red-500",children:i}):a.jsxs("div",{className:"p-4 sm:p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2 text-foreground",children:"Medications"}),a.jsxs("p",{className:"text-muted-foreground mb-8",children:["Log the medications you've taken today, ",new Date().toLocaleDateString("en-US",{weekday:"long"}),"."]}),a.jsx("div",{className:"space-y-8",children:t.length>0?a.jsxs(a.Fragment,{children:[a.jsx(f,{title:"Morning",items:d.morning,icon:Da}),a.jsx(f,{title:"Afternoon",items:d.afternoon,icon:cH}),a.jsx(f,{title:"Evening",items:d.evening,icon:Ma})]}):a.jsxs("div",{className:"text-center py-20",children:[a.jsx(Ls,{size:40,className:"mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-foreground",children:"No Medications Scheduled"}),a.jsx("p",{className:"text-muted-foreground",children:"You have no active prescriptions for today."})]})})]})}const WC=({item:e,isActive:t,onClick:n})=>a.jsxs("button",{onClick:n,className:`w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg transition-colors duration-200 relative ${t?"text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-white"}`,children:[t&&a.jsx("div",{className:"absolute inset-0 bg-blue-600 rounded-lg",style:{borderRadius:8}}),a.jsx("span",{className:"relative z-10",children:a.jsx(e.icon,{size:20})}),a.jsx("span",{className:"relative z-10 font-semibold",children:e.label})]});function kR({activeModule:e,setActiveModule:t,userType:n,onLogout:r,isSidebarOpen:s,setSidebarOpen:i,user:o}){console.log("userType:",n);const{theme:l,toggleTheme:u}=Qe(),f=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent("96GF+GMJ, Tolnoor, Maharashtra 413227")}`,h={id:"directions",label:"Directions",icon:ig,action:()=>window.open(f,"_blank")},b=n==="admin"?[{id:"dashboard",label:"Dashboard",icon:Ty},{id:"analytics",label:"Analytics",icon:gC},{id:"bed-management",label:"Bed Management",icon:UI},{id:"appointments",label:"Appointments",icon:zr},{id:"patients",label:"Patients",icon:zs},{id:"employees",label:"Employees",icon:Tb},{id:"pharmacy",label:"Pharmacy",icon:Ls},{id:"accounting",label:"Accounting",icon:us},{id:"billing",label:"Billing",icon:xC},{id:"laboratory",label:"Laboratory",icon:co},{id:"medical-records",label:"Medical Records",icon:mi},{id:"immunizations",label:"Immunizations",icon:qI},{id:"surgical",label:"Surgical",icon:ec},{id:"payroll",label:"Payroll",icon:xC},{id:"vendors",label:"Vendors",icon:Bp},{id:"inventory",label:"Inventory",icon:Bp},{id:"sms",label:"SMS & Reports",icon:zp},h]:n==="doctor"?[{id:"dashboard",label:"Dashboard",icon:Ty},{id:"my-schedule",label:"My Schedule",icon:$s},{id:"appointments",label:"Appointments",icon:zr},{id:"telemedicine",label:"Telemedicine",icon:Vp},{id:"patients",label:"Patients",icon:zs},{id:"pharmacy",label:"Pharmacy",icon:Ls},{id:"laboratory",label:"Laboratory",icon:co},{id:"medical-records",label:"Medical Records",icon:mi},{id:"surgical",label:"Surgical",icon:ec},h]:[{id:"dashboard",label:"Dashboard",icon:Ty},{id:"appointments",label:"Appointments",icon:zr},{id:"records",label:"Medical Records",icon:mi},{id:"prescriptions",label:"Prescriptions",icon:Ls},{id:"lab_results",label:"Lab Results",icon:co},{id:"billing",label:"Billing",icon:us},{id:"medications",label:"Medication Tracker",icon:$s},{id:"timeline",label:"Health Timeline",icon:gC},h];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden ${s?"block":"hidden"}`,onClick:()=>i(!1)}),a.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white dark:bg-[#111111] border-r border-gray-200 dark:border-gray-800 flex flex-col font-sans transition-transform duration-300 ease-in-out z-50 ${s?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:relative lg:w-64`,children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:"/logo.svg",alt:"Shree Medicare Logo",className:"w-10 h-10 rounded-lg object-cover"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Shree Medicare"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"HMS"})]})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:b.map(N=>a.jsx("div",{children:a.jsx(WC,{item:N,isActive:e===N.id,onClick:()=>{N.action?N.action():t(N.id),i(!1)}})},N.id))}),a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-100 dark:bg-gray-800/50",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Theme"}),a.jsx("button",{onClick:u,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:l==="dark"?a.jsx(Da,{size:18}):a.jsx(Ma,{size:18})})]}),a.jsx(WC,{item:{id:"profile",label:`${o.firstName} ${o.lastName}`,icon:()=>a.jsx("img",{src:o.avatarUrl||`https://ui-avatars.com/api/?name=${o.firstName}+${o.lastName}`,className:"h-7 w-7 flex-shrink-0 rounded-full",alt:"Avatar"})},isActive:e==="profile",onClick:()=>t("profile")}),a.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-2.5 rounded-lg text-red-500 dark:text-red-400 font-semibold hover:bg-red-100 dark:hover:bg-red-500/10 hover:text-red-600 dark:hover:text-red-300 transition-colors",children:[a.jsx(WI,{size:20}),a.jsx("span",{children:"Logout"})]})]})]})]})}function Wq({patient:e,onLogout:t,updateUser:n}){var Wt,nn,qt,Ae,At,I,U,ee,ne;const{theme:r,toggleTheme:s}=Qe(),[i,o]=g.useState("dashboard"),[l,u]=g.useState(!1),[d,f]=g.useState([]),[h,p]=g.useState([]),[y,w]=g.useState([]),[b,N]=g.useState([]),[v,_]=g.useState([]),[j,S]=g.useState([]),[P,E]=g.useState(null),C=wr(),[T,D]=g.useState({doctorId:"",notes:"",consultationType:"in-person"}),[R,F]=g.useState(""),[A,O]=g.useState(""),$=g.useRef(null),[K,te]=g.useState(!1),[W,z]=g.useState(!1),[V,q]=g.useState(""),[Z,X]=g.useState(!1),G=()=>{if(!e||!e.id)return;const H=e.id;Promise.all([fetch(oe(`/api/portal/my-appointments/${H}`)).then(J=>J.json()),fetch(oe(`/api/portal/my-records/${H}`)).then(J=>J.json()),fetch(oe(`/api/portal/my-billing/${H}`)).then(J=>J.json()),fetch(oe(`/api/portal/my-lab-results/${H}`)).then(J=>J.json()),fetch(oe(`/api/portal/my-prescriptions/${H}`)).then(J=>J.json()),fetch(oe("/api/employees")).then(J=>J.json())]).then(([J,de,le,se,ve,ze])=>{console.log("Appointments Data:",JSON.stringify(J,null,2)),f(J||[]),p(de||[]),w(le||[]),_(se||[]),S(ve||[]),N(ze.filter(Re=>Re.role==="doctor")||[])}).catch(J=>{console.error("Failed to fetch patient data:",J)})};g.useEffect(()=>{e&&e.id&&G()},[e]);const ae=async H=>{var le;const J=(le=H.target.files)==null?void 0:le[0];if(!J)return;const de=new FormData;de.append("profilePhoto",J);try{const ve=await(await fetch(oe(`/api/patients/${e.id}/upload-photo`),{method:"POST",body:de})).json();ve.success&&n({profileImageUrl:ve.profileImageUrl})}catch(se){console.error("Upload error:",se)}},[fe,ge]=g.useState([]),be=async(H,J)=>{if(!H||!J){ge([]);return}try{const de=await fetch(oe(`/api/schedules/available-slots/${H}/${J}`));ge(await de.json())}catch(de){console.error("Failed to fetch available slots:",de),ge([])}},ke=async H=>{if(H.preventDefault(),!A){alert("Please select an available time slot.");return}const de=VG(A,"Asia/Kolkata");try{const se=await(await fetch(oe("/api/portal/book-appointment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...T,patientId:e.id,appointmentDate:de})})).json();se.success?(E(null),D({doctorId:"",notes:""}),F(""),O(""),ge([]),G()):alert(se.message||"Failed to book appointment.")}catch(le){console.error(le)}},re=async()=>{X(!0),z(!0),q("");const H=h.map(le=>`On ${new Date(le.recordDate).toLocaleDateString()}, Dr. ${le.doctorName} diagnosed '${le.diagnosis}' and prescribed the following treatment: ${le.treatment}`).join(`
`),J="You are a helpful medical assistant. Your task is to summarize the provided medical history for a patient in simple, easy-to-understand language. Organize it chronologically if possible. Do not provide new medical advice. Start by saying 'Here is a summary of your medical history:'.",de=`Please summarize the following medical records:

${H}`;try{const se=await(await fetch(oe("/api/ai/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:J},{role:"user",content:de}]})})).json();q(se.reply||"Could not generate summary.")}catch{q("Error: Could not connect to the AI service.")}finally{X(!1)}};g.useEffect(()=>{T.doctorId&&R&&be(T.doctorId,R)},[T.doctorId,R]);const me=d.find(H=>new Date(H.appointmentDate)>new Date&&H.status==="scheduled"),Ne=({title:H,value:J,icon:de})=>a.jsxs("div",{className:"p-4 rounded-xl border flex items-start justify-between bg-white border-gray-200 dark:bg-[#1C1C1E] dark:border-gray-800",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:H}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:J})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-100 dark:bg-gray-800",children:a.jsx(de,{className:"text-blue-400",size:20})})]}),ce=()=>a.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-foreground",children:"My Prescriptions"}),a.jsx("div",{className:"space-y-4",children:j.length>0?j.map(H=>a.jsxs("div",{className:"p-5 rounded-2xl bg-card border border-border",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-lg text-foreground",children:H.medicationName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:H.dosage})]}),a.jsxs("div",{className:"text-sm text-muted-foreground mt-2 sm:mt-0 text-right",children:[a.jsxs("p",{children:["Prescribed by Dr. ",H.doctorName]}),a.jsxs("p",{children:["on ",new Date(H.prescriptionDate).toLocaleDateString()]})]})]}),a.jsx("div",{className:`mt-2 text-xs font-semibold uppercase px-3 py-1 rounded-full inline-block ${H.status==="active"?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:H.status})]},H.id)):a.jsx("p",{className:"text-center text-muted-foreground py-12",children:"You have no prescriptions."})})]}),ue=()=>{const H=J=>{const de=e,le=`
Shree Medicare Hospital - Lab Result
------------------------------------
Patient: ${de.firstName} ${de.lastName}
Test Name: ${J.testName}
Test Date: ${new Date(J.testDate).toLocaleDateString()}
Doctor: Dr. ${J.doctorName}
------------------------------------

Result:
${J.result_text}
            `,se=document.createElement("a"),ve=new Blob([le],{type:"text/plain"});se.href=URL.createObjectURL(ve),se.download=`lab_result_${J.id}.txt`,document.body.appendChild(se),se.click(),document.body.removeChild(se)};return a.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-white",children:"My Lab Results"}),a.jsx("div",{className:"space-y-2",children:v.filter(J=>J.status==="completed").length>0?v.filter(J=>J.status==="completed").map(J=>a.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-[#1C1C1E] border border-gray-200 dark:border-gray-800",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-2",children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:J.testName}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(J.testDate).toLocaleDateString()})]}),a.jsx("p",{className:"text-sm mt-2 p-3 rounded-lg bg-gray-100 text-gray-700 dark:bg-gray-800/50 dark:text-gray-300",children:J.result_text}),a.jsx("div",{className:"text-right mt-2",children:a.jsxs("button",{onClick:()=>H(J),className:"text-blue-500 hover:text-blue-400 text-xs font-semibold flex items-center gap-1 ml-auto",children:[a.jsx(eH,{size:14})," Download"]})})]},J.id)):a.jsx("p",{className:"text-center text-gray-500 py-12",children:"You have no completed lab results."})})]})},xe=()=>{switch(i){case"dashboard":return a.jsx(je,{});case"timeline":return a.jsx(Bq,{patient:e});case"appointments":return a.jsx(Fe,{});case"records":return a.jsx(rt,{});case"billing":return a.jsx(xt,{});case"prescriptions":return a.jsx(ce,{});case"lab_results":return a.jsx(ue,{});case"medications":return a.jsx(Uq,{patient:e});case"profile":return a.jsx(bt,{});default:return a.jsxs("div",{className:"text-center py-20",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.replace("_"," ").replace(/\b\w/g,H=>H.toUpperCase())}),a.jsx("p",{className:"text-gray-500",children:"This section is under construction."})]})}},je=()=>a.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl font-bold my-6 text-foreground",children:`Welcome, ${e==null?void 0:e.firstName}!`}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[me?a.jsxs("div",{className:"p-6 rounded-2xl border bg-card border-border flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-3 text-foreground",children:"Next Appointment"}),a.jsxs("p",{className:"text-muted-foreground",children:["With ",a.jsx("span",{className:"font-bold text-foreground",children:me.doctorName})]}),a.jsx("p",{className:"text-4xl font-bold text-primary mt-2",children:new Date(me.appointmentDate).toLocaleDateString("en-US",{month:"long",day:"numeric"})}),a.jsx("p",{className:"text-muted-foreground",children:new Date(me.appointmentDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),me.consultationType==="virtual"&&me.roomUrl&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>window.open(me.roomUrl,"_blank"),className:"w-full bg-blue-600 text-white font-semibold p-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Join Virtual Consultation"})})]}):a.jsxs("div",{className:"p-6 rounded-2xl border bg-card border-border flex flex-col justify-center items-center text-center",children:[a.jsx("h3",{className:"font-bold text-lg mb-2 text-foreground",children:"No Upcoming Appointments"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Your schedule is clear."}),a.jsx("button",{onClick:()=>o("appointments"),className:"bg-blue-600 text-white font-semibold px-4 py-2 rounded-full text-sm",children:"Book a Visit"})]}),a.jsxs("div",{className:"p-6 rounded-2xl border flex flex-col justify-center items-center text-center cursor-pointer bg-card border-border hover:border-primary/50 transition-all",onClick:()=>te(!0),children:[a.jsx("div",{className:"p-3 rounded-full bg-primary/10 mb-3",children:a.jsx(en,{className:"text-primary",size:28})}),a.jsx("h3",{className:"font-semibold text-lg text-foreground",children:"AI Symptom Checker"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Unsure about your symptoms? Get an AI-powered recommendation."})]}),a.jsxs("div",{className:"p-6 rounded-2xl border flex flex-col justify-center items-center text-center cursor-pointer bg-red-500/10 border-red-500/20 hover:border-red-500/50 transition-all",onClick:()=>C("/patient/book-ambulance"),children:[a.jsx("div",{className:"p-3 rounded-full bg-red-500/10 mb-3",children:a.jsx(VI,{className:"text-red-500",size:28})}),a.jsx("h3",{className:"font-semibold text-lg text-red-500",children:"Ambulance Service"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Request emergency medical transport."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 p-6 rounded-2xl border bg-card border-border",children:[a.jsx("h3",{className:"font-bold text-lg mb-3 text-foreground",children:"Medication Reminder"}),j.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-muted-foreground",children:["Your latest prescription from ",a.jsxs("span",{className:"font-bold text-foreground",children:["Dr. ",j[0].doctorName]}),":"]}),a.jsxs("div",{className:"text-base mt-2 p-4 rounded-lg bg-muted/50 text-foreground",children:[a.jsx("p",{className:"font-semibold",children:j[0].medicationName}),a.jsx("p",{className:"text-sm",children:j[0].dosage})]})]}):a.jsx("p",{className:"text-muted-foreground",children:"You have no active prescriptions."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ne,{title:"Total Visits",value:d.length,icon:zr}),a.jsx(Ne,{title:"Amount Due",value:`$${y.reduce((H,J)=>J.paymentStatus!=="paid"?H+J.amount:H,0).toFixed(2)}`,icon:us})]})]})]}),Ce=async H=>{if(window.confirm("Are you sure you want to cancel this appointment?"))try{const de=await(await fetch(oe(`/api/portal/my-appointments/${H}/cancel`),{method:"PUT"})).json();de.success?G():alert(de.message||"Failed to cancel appointment.")}catch(J){console.error(J),alert("Failed to connect to the server.")}},Fe=()=>a.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl font-bold my-6 text-gray-900 dark:text-white",children:"My Visits"}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("div",{}),a.jsxs("button",{onClick:()=>E("bookAppointment"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-full text-sm flex items-center gap-2",children:[a.jsx(Dn,{size:16})," Book"]})]}),a.jsx("div",{className:"rounded-2xl border bg-white border-gray-200 dark:bg-[#1C1C1E] dark:border-gray-800",children:a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:d.length>0?d.map(H=>a.jsxs("li",{className:"p-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:dw(new Date(H.appointmentDate),"eeee, MMMM d, yyyy",{timeZone:"Asia/Kolkata"})}),a.jsxs("p",{className:"text-xs text-gray-400",children:["with ",H.doctorName," at ",dw(new Date(H.appointmentDate),"h:mm a zzz",{timeZone:"Asia/Kolkata"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${H.status==="scheduled"?"bg-blue-100 text-blue-800 dark:bg-blue-500/20 dark:text-blue-300":H.status==="canceled"?"bg-red-100 text-red-800 dark:bg-red-500/20 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"}`,children:H.status}),H.status==="scheduled"&&H.consultationType==="virtual"&&H.roomUrl&&a.jsx("button",{onClick:()=>window.open(H.roomUrl,"_blank"),className:"bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Join"}),H.status==="scheduled"&&H.consultationType!=="virtual"&&a.jsx("button",{onClick:()=>Ce(H.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-xs font-semibold",children:"Cancel"})]})]},H.id)):a.jsx("p",{className:"text-center text-gray-500 py-12",children:"You have no appointment history."})})})]}),rt=()=>a.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl font-bold my-6 text-gray-900 dark:text-white",children:"Medical History"}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("div",{}),a.jsxs("button",{onClick:re,disabled:Z,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold px-4 py-2 rounded-full text-sm flex items-center gap-2 disabled:bg-gray-500",children:[a.jsx(en,{size:16})," ",Z?"Generating...":"AI Summary"]})]}),a.jsx("div",{className:"space-y-4",children:h.length>0?h.map(H=>a.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-[#1C1C1E] border border-gray-200 dark:border-gray-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:H.diagnosis}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(H.recordDate).toLocaleDateString()})]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Doctor: ",H.doctorName]}),a.jsx("p",{className:"text-sm mt-2 p-3 rounded-lg bg-gray-100 text-gray-700 dark:bg-gray-800/50 dark:text-gray-300",children:H.treatment})]},H.id)):a.jsx("p",{className:"text-center text-gray-500 py-8",children:"You have no medical history."})})]}),xt=()=>a.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl font-bold my-6 text-gray-900 dark:text-white",children:"Billing"}),a.jsx("div",{className:"rounded-2xl border bg-white border-gray-200 dark:bg-[#1C1C1E] dark:border-gray-800",children:a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:y.length>0?y.map(H=>a.jsxs("li",{className:"p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["Invoice #",H.invoiceNumber]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Due: ",new Date(H.dueDate).toLocaleDateString()]})]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white mt-2 sm:mt-0",children:["$",Number(H.amount).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${H.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-500/20 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-500/20 dark:text-yellow-300"}`,children:H.paymentStatus}),H.paymentStatus!=="paid"&&a.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Pay Now"})]})]},H.id)):a.jsx("p",{className:"text-center text-gray-500 py-12",children:"You have no billing history."})})})]}),bt=()=>{const[H,J]=g.useState(e);g.useEffect(()=>{J(e)},[e]);const de=async le=>{le.preventDefault();try{const ve=await(await fetch(oe(`/api/patients/${e.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)})).json();alert(ve.message||"Profile updated!"),n(H)}catch(se){console.error(se)}};return a.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl font-bold my-6 text-gray-900 dark:text-white",children:"My Profile"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-4 rounded-xl border bg-white border-gray-200 dark:bg-[#1C1C1E] dark:border-gray-800",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20 group",children:[a.jsx("img",{src:e!=null&&e.profileImageUrl?`${oe("")}${e.profileImageUrl}`:`https://ui-avatars.com/api/?name=${e==null?void 0:e.firstName}+${e==null?void 0:e.lastName}&background=1c1c1e&color=a0a0a0&bold=true`,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}),a.jsx("input",{type:"file",ref:$,onChange:ae,className:"hidden",accept:"image/*"}),a.jsx("button",{onClick:()=>{var le;return(le=$.current)==null?void 0:le.click()},className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(X_,{className:"w-5 h-5 text-white"})})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]}),a.jsx("p",{className:"text-sm text-gray-500",children:e.email})]})]})}),a.jsxs("div",{className:"p-4 rounded-xl border bg-white border-gray-200 dark:bg-[#1C1C1E] dark:border-gray-800",children:[a.jsx("h3",{className:"font-bold text-md mb-3 text-gray-900 dark:text-white",children:"Personal Details"}),a.jsxs("form",{onSubmit:de,className:"space-y-3",children:[a.jsx("input",{value:(H==null?void 0:H.firstName)||"",onChange:le=>J({...H,firstName:le.target.value}),placeholder:"First Name",className:"w-full p-2 rounded-lg bg-gray-100 border-gray-300 text-gray-900 dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),a.jsx("input",{value:(H==null?void 0:H.lastName)||"",onChange:le=>J({...H,lastName:le.target.value}),placeholder:"Last Name",className:"w-full p-2 rounded-lg bg-gray-100 border-gray-300 text-gray-900 dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),a.jsx("input",{value:(H==null?void 0:H.phone)||"",onChange:le=>J({...H,phone:le.target.value}),placeholder:"Phone",className:"w-full p-2 rounded-lg bg-gray-100 border-gray-300 text-gray-900 dark:bg-gray-800 dark:border-gray-700 dark:text-white",required:!0}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-full font-semibold text-sm",children:"Save Changes"})]})]})]})]})};return a.jsxs("div",{className:"flex h-screen bg-gray-900 text-white overflow-hidden font-sans",children:[a.jsx(kR,{activeModule:i,setActiveModule:o,userType:"patient",onLogout:t,user:e,isSidebarOpen:l,setSidebarOpen:u}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md lg:hidden pt-6",children:a.jsxs("div",{className:"flex justify-between items-center p-4",children:[a.jsx("button",{onClick:()=>u(!l),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-800 dark:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Shree Medicare"}),a.jsxs(an,{variant:"ghost",size:"icon",onClick:s,children:[a.jsx(Da,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(Ma,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})]})}),a.jsx("main",{className:`flex-1 overflow-y-auto ${r==="dark"?"bg-black":"bg-gray-100"} p-4 sm:p-6`,children:a.jsx(mt,{mode:"wait",children:a.jsx(Y.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.2},children:xe()},i)})})]}),a.jsx(mt,{children:P==="bookAppointment"&&a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:"bg-[#1C1C1E] rounded-2xl p-6 w-full max-w-md m-4 border border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-bold text-white",children:"Book an Appointment"}),a.jsx("button",{onClick:()=>E(null),children:a.jsx(Wn,{className:"text-gray-500 hover:text-white"})})]}),a.jsxs("form",{onSubmit:ke,className:"space-y-3 max-h-[calc(100vh-200px)] overflow-y-auto pr-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Doctor"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto pr-2",children:b.filter(H=>H.role==="doctor").map(H=>a.jsxs("div",{onClick:()=>{D(J=>({...J,doctorId:H.id})),F(""),O("")},className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all duration-200
                                                            ${T.doctorId===H.id?"bg-blue-600 text-white shadow-md":"bg-gray-700 hover:bg-gray-600"}`,children:[a.jsx("img",{src:H.profileImageUrl?`${oe("")}${H.profileImageUrl}`:`https://ui-avatars.com/api/?name=${H.firstName}+${H.lastName}&background=1c1c1e&color=a0a0a0&bold=true`,alt:H.firstName,className:"w-8 h-8 rounded-full object-cover"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-semibold",children:["Dr. ",H.firstName," ",H.lastName]}),a.jsx("p",{className:"text-xs opacity-75",children:H.departmentName})]})]},H.id))})]}),T.doctorId&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-300 mb-2",children:"Selected Doctor"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:(Wt=b.find(H=>H.id===T.doctorId))!=null&&Wt.profileImageUrl?`${oe("")}${(nn=b.find(H=>H.id===T.doctorId))==null?void 0:nn.profileImageUrl}`:`https://ui-avatars.com/api/?name=${(qt=b.find(H=>H.id===T.doctorId))==null?void 0:qt.firstName}+${(Ae=b.find(H=>H.id===T.doctorId))==null?void 0:Ae.lastName}&background=1c1c1e&color=a0a0a0&bold=true`,alt:(At=b.find(H=>H.id===T.doctorId))==null?void 0:At.firstName,className:"w-16 h-16 rounded-full object-cover"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-semibold text-white",children:["Dr. ",(I=b.find(H=>H.id===T.doctorId))==null?void 0:I.firstName," ",(U=b.find(H=>H.id===T.doctorId))==null?void 0:U.lastName]}),a.jsx("p",{className:"text-sm text-gray-400",children:(ee=b.find(H=>H.id===T.doctorId))==null?void 0:ee.departmentName}),a.jsx("p",{className:"text-xs text-gray-500",children:(ne=b.find(H=>H.id===T.doctorId))==null?void 0:ne.position})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Date"}),a.jsx("input",{type:"date",name:"appointmentDate",value:R,onChange:H=>{F(H.target.value),O("")},min:new Date().toISOString().split("T")[0],className:"w-full p-2 bg-gray-800 border-gray-700 text-white rounded-lg text-sm",required:!0})]}),fe.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Available Slots"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:fe.map(H=>a.jsx("button",{type:"button",onClick:()=>O(H),className:`p-2 rounded-lg text-xs text-center ${A===H?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600"}`,children:new Date(H).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},H))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Reason for Visit (Optional)"}),a.jsx("textarea",{name:"notes",onChange:H=>D(J=>({...J,notes:H.target.value})),className:"w-full p-2 bg-gray-800 border-gray-700 text-white rounded-lg text-sm",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Consultation Type"}),a.jsxs("select",{name:"consultationType",value:T.consultationType,onChange:H=>D(J=>({...J,consultationType:H.target.value})),className:"w-full p-2 bg-gray-800 border-gray-700 text-white rounded-lg text-sm",required:!0,children:[a.jsx("option",{value:"in-person",children:"In-person"}),a.jsx("option",{value:"virtual",children:"Virtual"})]})]}),a.jsx("button",{type:"submit",disabled:!A,className:"w-full bg-blue-600 text-white font-semibold p-2 rounded-lg hover:bg-blue-700 transition-colors text-sm disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Book Appointment"})]})]})})}),K&&a.jsx(SR,{onClose:()=>te(!1)}),a.jsx(mt,{children:W&&a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:"bg-[#1C1C1E] rounded-2xl p-6 w-full max-w-xl m-4 border border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(en,{size:18})," AI Medical History Summary"]}),a.jsx("button",{onClick:()=>z(!1),children:a.jsx(Wn,{className:"text-gray-500 hover:text-white"})})]}),Z?a.jsx("p",{className:"text-center text-gray-400 animate-pulse py-10",children:"AI is summarizing your records..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300 whitespace-pre-wrap text-sm max-h-96 overflow-y-auto",children:V}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>z(!1),className:"px-5 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 text-sm",children:"Close"})})]})]})})})]})}const Hq="modulepreload",Gq=function(e){return"/"+e},HC={},qq=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=Gq(u),u in HC)return;HC[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Hq,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var tc;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(tc||(tc={}));class tx extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const Yq=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Zq=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:Yq(e),i=()=>s()!=="web",o=h=>{const p=d.get(h);return!!(p!=null&&p.platforms.has(s())||l(h))},l=h=>{var p;return(p=n.PluginHeaders)===null||p===void 0?void 0:p.find(y=>y.name===h)},u=h=>e.console.error(h),d=new Map,f=(h,p={})=>{const y=d.get(h);if(y)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),y.proxy;const w=s(),b=l(h);let N;const v=async()=>(!N&&w in p?N=typeof p[w]=="function"?N=await p[w]():N=p[w]:t!==null&&!N&&"web"in p&&(N=typeof p.web=="function"?N=await p.web():N=p.web),N),_=(T,D)=>{var R,F;if(b){const A=b==null?void 0:b.methods.find(O=>D===O.name);if(A)return A.rtype==="promise"?O=>n.nativePromise(h,D.toString(),O):(O,$)=>n.nativeCallback(h,D.toString(),O,$);if(T)return(R=T[D])===null||R===void 0?void 0:R.bind(T)}else{if(T)return(F=T[D])===null||F===void 0?void 0:F.bind(T);throw new tx(`"${h}" plugin is not implemented on ${w}`,tc.Unimplemented)}},j=T=>{let D;const R=(...F)=>{const A=v().then(O=>{const $=_(O,T);if($){const K=$(...F);return D=K==null?void 0:K.remove,K}else throw new tx(`"${h}.${T}()" is not implemented on ${w}`,tc.Unimplemented)});return T==="addListener"&&(A.remove=async()=>D()),A};return R.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(R,"name",{value:T,writable:!1,configurable:!1}),R},S=j("addListener"),P=j("removeListener"),E=(T,D)=>{const R=S({eventName:T},D),F=async()=>{const O=await R;P({eventName:T,callbackId:O},D)},A=new Promise(O=>R.then(()=>O({remove:F})));return A.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await F()},A},C=new Proxy({},{get(T,D){switch(D){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return b?E:S;case"removeListener":return P;default:return j(D)}}});return r[h]=C,d.set(h,{name:h,proxy:C,platforms:new Set([...Object.keys(p),...b?[w]:[]])}),C};return n.convertFileSrc||(n.convertFileSrc=h=>h),n.getPlatform=s,n.handleError=u,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=f,n.Exception=tx,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Kq=e=>e.Capacitor=Zq(e),Nd=Kq(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),lg=Nd.registerPlugin;class CR{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new Nd.Exception(t,tc.Unimplemented)}unavailable(t="not available"){return new Nd.Exception(t,tc.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const GC=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),qC=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Xq extends CR{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=qC(s).trim(),i=qC(i).trim(),n[s]=i}),n}async setCookie(t){try{const n=GC(t.key),r=GC(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}lg("CapacitorCookies",{web:()=>new Xq});const Jq=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),Qq=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=e[t[o]],s),{})},eY=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[i,o]=s;let l,u;return Array.isArray(o)?(u="",o.forEach(d=>{l=t?encodeURIComponent(d):d,u+=`${i}=${l}&`}),u.slice(0,-1)):(l=t?encodeURIComponent(o):o,u=`${i}=${l}`),`${r}&${u}`},"").substr(1):null,tY=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=Qq(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))i.set(o,l);n.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,u)=>{i.append(u,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class nY extends CR{async request(t){const n=tY(t,t.webFetchExtra),r=eY(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};o.includes("application/json")&&(l="json");let u,d;switch(l){case"arraybuffer":case"blob":d=await i.blob(),u=await Jq(d);break;case"json":u=await i.json();break;case"document":case"text":default:u=await i.text()}const f={};return i.headers.forEach((h,p)=>{f[p]=h}),{data:u,headers:f,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}lg("CapacitorHttp",{web:()=>new nY});function rY(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return new Proxy({},{get(r,s){return(i,o,l)=>{const u=e.Capacitor.Plugins[n];if(u===void 0){l(new Error(`Capacitor plugin ${n} not found`));return}if(typeof u[s]!="function"){l(new Error(`Method ${s} not found in Capacitor plugin ${n}`));return}(async()=>{try{const d=await u[s](i);o(d)}catch(d){l(d)}})()}}})}})}function sY(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return e.cordova.plugins[n]}})}function iY(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?rY(window):window.cordova!==void 0&&sY(window))}const uh=lg("Geolocation",{web:()=>qq(()=>import("./web-00BuBoKF.js"),[]).then(e=>new e.GeolocationWeb)});iY();const PR=()=>{const[e,t]=g.useState(null),[n,r]=g.useState(null),s=g.useRef(null),i=g.useRef(null),o=g.useRef(),l=new URLSearchParams(window.location.search).get("mock_location")==="true",u=async()=>{if(l)return!0;try{return(await uh.requestPermissions()).location==="granted"?!0:(r("Geolocation permission denied."),!1)}catch(h){const p=h instanceof Error?h.message:String(h);return r("Error requesting geolocation permissions: "+p),!1}},d=async h=>{if(o.current=h,r(null),l){console.log("USING MOCK GEOLOCATION FOR DEVELOPMENT");const p={timestamp:Date.now(),coords:{latitude:12.94336,longitude:77.594624,accuracy:1,altitudeAccuracy:1,altitude:0,speed:10,heading:0}};t(p),o.current&&o.current(p),i.current&&clearInterval(i.current),i.current=setInterval(()=>{t(y=>{if(!y)return null;const w={...y.coords,latitude:y.coords.latitude+5e-4,longitude:y.coords.longitude+5e-4},b={...y,timestamp:Date.now(),coords:w};return o.current&&o.current(b),console.log("Mock location updated:",b.coords),b})},5e3);return}try{if(!await u())return;s.current&&await uh.clearWatch({id:s.current}),s.current=await uh.watchPosition({enableHighAccuracy:!0,timeout:2e4,maximumAge:0},(y,w)=>{if(w){const b=w instanceof Error?w.message:String(w);r("Error watching position: "+b);return}y&&(t(y),o.current&&o.current(y))})}catch(p){const y=p instanceof Error?p.message:String(p);r("Error starting geolocation watch: "+y)}},f=async()=>{if(i.current&&(clearInterval(i.current),i.current=null,console.log("Mock geolocation tracking stopped.")),s.current!==null)try{await uh.clearWatch({id:s.current}),s.current=null,console.log("Geolocation tracking stopped.")}catch(h){console.warn("Could not clear geolocation watch:",h)}};return g.useEffect(()=>()=>{f()},[]),{position:e,error:n,startTracking:d,stopTracking:f,requestPermissions:u}},ia=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:tn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ia.displayName="Card";const oa=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:tn("flex flex-col space-y-1.5 p-6",e),...t}));oa.displayName="CardHeader";const aa=g.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:tn("text-2xl font-semibold leading-none tracking-tight",e),...t}));aa.displayName="CardTitle";const oY=g.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:tn("text-sm text-muted-foreground",e),...t}));oY.displayName="CardDescription";const la=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:tn("p-6 pt-0",e),...t}));la.displayName="CardContent";const aY=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:tn("flex items-center p-6 pt-0",e),...t}));aY.displayName="CardFooter";const TR=g.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:tn("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));TR.displayName="Textarea";const ER=g.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:tn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));ER.displayName="Input";const lY=ag("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Xi=g.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:tn(lY({variant:t}),e),...n}));Xi.displayName="Alert";const Ji=g.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:tn("mb-1 font-medium leading-none tracking-tight",e),...t}));Ji.displayName="AlertTitle";const Qi=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:tn("text-sm [&_p]:leading-relaxed",e),...t}));Qi.displayName="AlertDescription";function MR(e,t){const n=g.useRef(t);g.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const cY=1;function uY(e){return Object.freeze({__version:cY,map:e})}function DR(e,t){return Object.freeze({...e,...t})}const AR=g.createContext(null),LR=AR.Provider;function sj(){const e=g.useContext(AR);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function IR(e){function t(n,r){const{instance:s,context:i}=e(n).current;return g.useImperativeHandle(r,()=>s),n.children==null?null:nt.createElement(LR,{value:i},n.children)}return g.forwardRef(t)}function dY(e){function t(n,r){const[s,i]=g.useState(!1),{instance:o}=e(n,i).current;g.useImperativeHandle(r,()=>o),g.useEffect(function(){s&&o.update()},[o,s,n.children]);const l=o._contentNode;return l?Di.createPortal(n.children,l):null}return g.forwardRef(t)}function fY(e){function t(n,r){const{instance:s}=e(n).current;return g.useImperativeHandle(r,()=>s),null}return g.forwardRef(t)}function ij(e,t){const n=g.useRef();g.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function cg(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function hY(e,t){return function(r,s){const i=sj(),o=e(cg(r,i),i);return MR(i.map,r.attribution),ij(o.current,r.eventHandlers),t(o.current,i,r,s),o}}var mw={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(po,function(n){var r="1.9.4";function s(c){var m,x,k,M;for(x=1,k=arguments.length;x<k;x++){M=arguments[x];for(m in M)c[m]=M[m]}return c}var i=Object.create||function(){function c(){}return function(m){return c.prototype=m,new c}}();function o(c,m){var x=Array.prototype.slice;if(c.bind)return c.bind.apply(c,x.call(arguments,1));var k=x.call(arguments,2);return function(){return c.apply(m,k.length?k.concat(x.call(arguments)):arguments)}}var l=0;function u(c){return"_leaflet_id"in c||(c._leaflet_id=++l),c._leaflet_id}function d(c,m,x){var k,M,B,Q;return Q=function(){k=!1,M&&(B.apply(x,M),M=!1)},B=function(){k?M=arguments:(c.apply(x,arguments),setTimeout(Q,m),k=!0)},B}function f(c,m,x){var k=m[1],M=m[0],B=k-M;return c===k&&x?c:((c-M)%B+B)%B+M}function h(){return!1}function p(c,m){if(m===!1)return c;var x=Math.pow(10,m===void 0?6:m);return Math.round(c*x)/x}function y(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function w(c){return y(c).split(/\s+/)}function b(c,m){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?i(c.options):{});for(var x in m)c.options[x]=m[x];return c.options}function N(c,m,x){var k=[];for(var M in c)k.push(encodeURIComponent(x?M.toUpperCase():M)+"="+encodeURIComponent(c[M]));return(!m||m.indexOf("?")===-1?"?":"&")+k.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function _(c,m){return c.replace(v,function(x,k){var M=m[k];if(M===void 0)throw new Error("No value provided for variable "+x);return typeof M=="function"&&(M=M(m)),M})}var j=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function S(c,m){for(var x=0;x<c.length;x++)if(c[x]===m)return x;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var C=0;function T(c){var m=+new Date,x=Math.max(0,16-(m-C));return C=m+x,window.setTimeout(c,x)}var D=window.requestAnimationFrame||E("RequestAnimationFrame")||T,R=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function F(c,m,x){if(x&&D===T)c.call(m);else return D.call(window,o(c,m))}function A(c){c&&R.call(window,c)}var O={__proto__:null,extend:s,create:i,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:f,falseFn:h,formatNum:p,trim:y,splitWords:w,setOptions:b,getParamString:N,template:_,isArray:j,indexOf:S,emptyImageUrl:P,requestFn:D,cancelFn:R,requestAnimFrame:F,cancelAnimFrame:A};function $(){}$.extend=function(c){var m=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=m.__super__=this.prototype,k=i(x);k.constructor=m,m.prototype=k;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(m[M]=this[M]);return c.statics&&s(m,c.statics),c.includes&&(K(c.includes),s.apply(null,[k].concat(c.includes))),s(k,c),delete k.statics,delete k.includes,k.options&&(k.options=x.options?i(x.options):{},s(k.options,c.options)),k._initHooks=[],k.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,Q=k._initHooks.length;B<Q;B++)k._initHooks[B].call(this)}},m},$.include=function(c){var m=this.prototype.options;return s(this.prototype,c),c.options&&(this.prototype.options=m,this.mergeOptions(c.options)),this},$.mergeOptions=function(c){return s(this.prototype.options,c),this},$.addInitHook=function(c){var m=Array.prototype.slice.call(arguments,1),x=typeof c=="function"?c:function(){this[c].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};function K(c){if(!(typeof L>"u"||!L||!L.Mixin)){c=j(c)?c:[c];for(var m=0;m<c.length;m++)c[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(c,m,x){if(typeof c=="object")for(var k in c)this._on(k,c[k],m);else{c=w(c);for(var M=0,B=c.length;M<B;M++)this._on(c[M],m,x)}return this},off:function(c,m,x){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var k in c)this._off(k,c[k],m);else{c=w(c);for(var M=arguments.length===1,B=0,Q=c.length;B<Q;B++)M?this._off(c[B]):this._off(c[B],m,x)}return this},_on:function(c,m,x,k){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(c,m,x)===!1){x===this&&(x=void 0);var M={fn:m,ctx:x};k&&(M.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(M)}},_off:function(c,m,x){var k,M,B;if(this._events&&(k=this._events[c],!!k)){if(arguments.length===1){if(this._firingCount)for(M=0,B=k.length;M<B;M++)k[M].fn=h;delete this._events[c];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Q=this._listens(c,m,x);if(Q!==!1){var ie=k[Q];this._firingCount&&(ie.fn=h,this._events[c]=k=k.slice()),k.splice(Q,1)}}},fire:function(c,m,x){if(!this.listens(c,x))return this;var k=s({},m,{type:c,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var M=this._events[c];if(M){this._firingCount=this._firingCount+1||1;for(var B=0,Q=M.length;B<Q;B++){var ie=M[B],he=ie.fn;ie.once&&this.off(c,he,ie.ctx),he.call(ie.ctx||this,k)}this._firingCount--}}return x&&this._propagateEvent(k),this},listens:function(c,m,x,k){typeof c!="string"&&console.warn('"string" type argument expected');var M=m;typeof m!="function"&&(k=!!m,M=void 0,x=void 0);var B=this._events&&this._events[c];if(B&&B.length&&this._listens(c,M,x)!==!1)return!0;if(k){for(var Q in this._eventParents)if(this._eventParents[Q].listens(c,m,x,k))return!0}return!1},_listens:function(c,m,x){if(!this._events)return!1;var k=this._events[c]||[];if(!m)return!!k.length;x===this&&(x=void 0);for(var M=0,B=k.length;M<B;M++)if(k[M].fn===m&&k[M].ctx===x)return M;return!1},once:function(c,m,x){if(typeof c=="object")for(var k in c)this._on(k,c[k],m,!0);else{c=w(c);for(var M=0,B=c.length;M<B;M++)this._on(c[M],m,x,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[u(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[u(c)],this},_propagateEvent:function(c){for(var m in this._eventParents)this._eventParents[m].fire(c.type,s({layer:c.target,propagatedFrom:c.target},c),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var W=$.extend(te);function z(c,m,x){this.x=x?Math.round(c):c,this.y=x?Math.round(m):m}var V=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(c){return this.clone()._add(q(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(q(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new z(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new z(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(c){c=q(c);var m=c.x-this.x,x=c.y-this.y;return Math.sqrt(m*m+x*x)},equals:function(c){return c=q(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=q(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function q(c,m,x){return c instanceof z?c:j(c)?new z(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new z(c.x,c.y):new z(c,m,x)}function Z(c,m){if(c)for(var x=m?[c,m]:c,k=0,M=x.length;k<M;k++)this.extend(x[k])}Z.prototype={extend:function(c){var m,x;if(!c)return this;if(c instanceof z||typeof c[0]=="number"||"x"in c)m=x=q(c);else if(c=X(c),m=c.min,x=c.max,!m||!x)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=x.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)),this},getCenter:function(c){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var m,x;return typeof c[0]=="number"||c instanceof z?c=q(c):c=X(c),c instanceof Z?(m=c.min,x=c.max):m=x=c,m.x>=this.min.x&&x.x<=this.max.x&&m.y>=this.min.y&&x.y<=this.max.y},intersects:function(c){c=X(c);var m=this.min,x=this.max,k=c.min,M=c.max,B=M.x>=m.x&&k.x<=x.x,Q=M.y>=m.y&&k.y<=x.y;return B&&Q},overlaps:function(c){c=X(c);var m=this.min,x=this.max,k=c.min,M=c.max,B=M.x>m.x&&k.x<x.x,Q=M.y>m.y&&k.y<x.y;return B&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var m=this.min,x=this.max,k=Math.abs(m.x-x.x)*c,M=Math.abs(m.y-x.y)*c;return X(q(m.x-k,m.y-M),q(x.x+k,x.y+M))},equals:function(c){return c?(c=X(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function X(c,m){return!c||c instanceof Z?c:new Z(c,m)}function G(c,m){if(c)for(var x=m?[c,m]:c,k=0,M=x.length;k<M;k++)this.extend(x[k])}G.prototype={extend:function(c){var m=this._southWest,x=this._northEast,k,M;if(c instanceof fe)k=c,M=c;else if(c instanceof G){if(k=c._southWest,M=c._northEast,!k||!M)return this}else return c?this.extend(ge(c)||ae(c)):this;return!m&&!x?(this._southWest=new fe(k.lat,k.lng),this._northEast=new fe(M.lat,M.lng)):(m.lat=Math.min(k.lat,m.lat),m.lng=Math.min(k.lng,m.lng),x.lat=Math.max(M.lat,x.lat),x.lng=Math.max(M.lng,x.lng)),this},pad:function(c){var m=this._southWest,x=this._northEast,k=Math.abs(m.lat-x.lat)*c,M=Math.abs(m.lng-x.lng)*c;return new G(new fe(m.lat-k,m.lng-M),new fe(x.lat+k,x.lng+M))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof fe||"lat"in c?c=ge(c):c=ae(c);var m=this._southWest,x=this._northEast,k,M;return c instanceof G?(k=c.getSouthWest(),M=c.getNorthEast()):k=M=c,k.lat>=m.lat&&M.lat<=x.lat&&k.lng>=m.lng&&M.lng<=x.lng},intersects:function(c){c=ae(c);var m=this._southWest,x=this._northEast,k=c.getSouthWest(),M=c.getNorthEast(),B=M.lat>=m.lat&&k.lat<=x.lat,Q=M.lng>=m.lng&&k.lng<=x.lng;return B&&Q},overlaps:function(c){c=ae(c);var m=this._southWest,x=this._northEast,k=c.getSouthWest(),M=c.getNorthEast(),B=M.lat>m.lat&&k.lat<x.lat,Q=M.lng>m.lng&&k.lng<x.lng;return B&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,m){return c?(c=ae(c),this._southWest.equals(c.getSouthWest(),m)&&this._northEast.equals(c.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(c,m){return c instanceof G?c:new G(c,m)}function fe(c,m,x){if(isNaN(c)||isNaN(m))throw new Error("Invalid LatLng object: ("+c+", "+m+")");this.lat=+c,this.lng=+m,x!==void 0&&(this.alt=+x)}fe.prototype={equals:function(c,m){if(!c)return!1;c=ge(c);var x=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return x<=(m===void 0?1e-9:m)},toString:function(c){return"LatLng("+p(this.lat,c)+", "+p(this.lng,c)+")"},distanceTo:function(c){return ke.distance(this,ge(c))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(c){var m=180*c/40075017,x=m/Math.cos(Math.PI/180*this.lat);return ae([this.lat-m,this.lng-x],[this.lat+m,this.lng+x])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function ge(c,m,x){return c instanceof fe?c:j(c)&&typeof c[0]!="object"?c.length===3?new fe(c[0],c[1],c[2]):c.length===2?new fe(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new fe(c.lat,"lng"in c?c.lng:c.lon,c.alt):m===void 0?null:new fe(c,m,x)}var be={latLngToPoint:function(c,m){var x=this.projection.project(c),k=this.scale(m);return this.transformation._transform(x,k)},pointToLatLng:function(c,m){var x=this.scale(m),k=this.transformation.untransform(c,x);return this.projection.unproject(k)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var m=this.projection.bounds,x=this.scale(c),k=this.transformation.transform(m.min,x),M=this.transformation.transform(m.max,x);return new Z(k,M)},infinite:!1,wrapLatLng:function(c){var m=this.wrapLng?f(c.lng,this.wrapLng,!0):c.lng,x=this.wrapLat?f(c.lat,this.wrapLat,!0):c.lat,k=c.alt;return new fe(x,m,k)},wrapLatLngBounds:function(c){var m=c.getCenter(),x=this.wrapLatLng(m),k=m.lat-x.lat,M=m.lng-x.lng;if(k===0&&M===0)return c;var B=c.getSouthWest(),Q=c.getNorthEast(),ie=new fe(B.lat-k,B.lng-M),he=new fe(Q.lat-k,Q.lng-M);return new G(ie,he)}},ke=s({},be,{wrapLng:[-180,180],R:6371e3,distance:function(c,m){var x=Math.PI/180,k=c.lat*x,M=m.lat*x,B=Math.sin((m.lat-c.lat)*x/2),Q=Math.sin((m.lng-c.lng)*x/2),ie=B*B+Math.cos(k)*Math.cos(M)*Q*Q,he=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*he}}),re=6378137,me={R:re,MAX_LATITUDE:85.0511287798,project:function(c){var m=Math.PI/180,x=this.MAX_LATITUDE,k=Math.max(Math.min(x,c.lat),-x),M=Math.sin(k*m);return new z(this.R*c.lng*m,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(c){var m=180/Math.PI;return new fe((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*m,c.x*m/this.R)},bounds:function(){var c=re*Math.PI;return new Z([-c,-c],[c,c])}()};function Ne(c,m,x,k){if(j(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=m,this._c=x,this._d=k}Ne.prototype={transform:function(c,m){return this._transform(c.clone(),m)},_transform:function(c,m){return m=m||1,c.x=m*(this._a*c.x+this._b),c.y=m*(this._c*c.y+this._d),c},untransform:function(c,m){return m=m||1,new z((c.x/m-this._b)/this._a,(c.y/m-this._d)/this._c)}};function ce(c,m,x,k){return new Ne(c,m,x,k)}var ue=s({},ke,{code:"EPSG:3857",projection:me,transformation:function(){var c=.5/(Math.PI*me.R);return ce(c,.5,-c,.5)}()}),xe=s({},ue,{code:"EPSG:900913"});function je(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function Ce(c,m){var x="",k,M,B,Q,ie,he;for(k=0,B=c.length;k<B;k++){for(ie=c[k],M=0,Q=ie.length;M<Q;M++)he=ie[M],x+=(M?"L":"M")+he.x+" "+he.y;x+=m?Oe.svg?"z":"x":""}return x||"M0 0"}var Fe=document.documentElement.style,rt="ActiveXObject"in window,xt=rt&&!document.addEventListener,bt="msLaunchUri"in navigator&&!("documentMode"in document),Wt=gs("webkit"),nn=gs("android"),qt=gs("android 2")||gs("android 3"),Ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),At=nn&&gs("Google")&&Ae<537&&!("AudioNode"in window),I=!!window.opera,U=!bt&&gs("chrome"),ee=gs("gecko")&&!Wt&&!I&&!rt,ne=!U&&gs("safari"),H=gs("phantom"),J="OTransition"in Fe,de=navigator.platform.indexOf("Win")===0,le=rt&&"transition"in Fe,se="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qt,ve="MozPerspective"in Fe,ze=!window.L_DISABLE_3D&&(le||se||ve)&&!J&&!H,Re=typeof orientation<"u"||gs("mobile"),pe=Re&&Wt,Le=Re&&se,$e=!window.PointerEvent&&window.MSPointerEvent,Nt=!!(window.PointerEvent||$e),St="ontouchstart"in window||!!window.TouchEvent,Vc=!window.L_NO_TOUCH&&(St||Nt),vt=Re&&I,Lt=Re&&ee,q$=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Y$=function(){var c=!1;try{var m=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",h,m),window.removeEventListener("testPassiveEventSupport",h,m)}catch{}return c}(),Z$=function(){return!!document.createElement("canvas").getContext}(),h0=!!(document.createElementNS&&je("svg").createSVGRect),K$=!!h0&&function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),X$=!h0&&function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var m=c.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),J$=navigator.platform.indexOf("Mac")===0,Q$=navigator.platform.indexOf("Linux")===0;function gs(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var Oe={ie:rt,ielt9:xt,edge:bt,webkit:Wt,android:nn,android23:qt,androidStock:At,opera:I,chrome:U,gecko:ee,safari:ne,phantom:H,opera12:J,win:de,ie3d:le,webkit3d:se,gecko3d:ve,any3d:ze,mobile:Re,mobileWebkit:pe,mobileWebkit3d:Le,msPointer:$e,pointer:Nt,touch:Vc,touchNative:St,mobileOpera:vt,mobileGecko:Lt,retina:q$,passiveEvents:Y$,canvas:Z$,svg:h0,vml:X$,inlineSvg:K$,mac:J$,linux:Q$},BN=Oe.msPointer?"MSPointerDown":"pointerdown",VN=Oe.msPointer?"MSPointerMove":"pointermove",UN=Oe.msPointer?"MSPointerUp":"pointerup",WN=Oe.msPointer?"MSPointerCancel":"pointercancel",p0={touchstart:BN,touchmove:VN,touchend:UN,touchcancel:WN},HN={touchstart:i6,touchmove:vf,touchend:vf,touchcancel:vf},Fa={},GN=!1;function e6(c,m,x){return m==="touchstart"&&s6(),HN[m]?(x=HN[m].bind(this,x),c.addEventListener(p0[m],x,!1),x):(console.warn("wrong event specified:",m),h)}function t6(c,m,x){if(!p0[m]){console.warn("wrong event specified:",m);return}c.removeEventListener(p0[m],x,!1)}function n6(c){Fa[c.pointerId]=c}function r6(c){Fa[c.pointerId]&&(Fa[c.pointerId]=c)}function qN(c){delete Fa[c.pointerId]}function s6(){GN||(document.addEventListener(BN,n6,!0),document.addEventListener(VN,r6,!0),document.addEventListener(UN,qN,!0),document.addEventListener(WN,qN,!0),GN=!0)}function vf(c,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var x in Fa)m.touches.push(Fa[x]);m.changedTouches=[m],c(m)}}function i6(c,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&vn(m),vf(c,m)}function o6(c){var m={},x,k;for(k in c)x=c[k],m[k]=x&&x.bind?x.bind(c):x;return c=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var a6=200;function l6(c,m){c.addEventListener("dblclick",m);var x=0,k;function M(B){if(B.detail!==1){k=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var Q=JN(B);if(!(Q.some(function(he){return he instanceof HTMLLabelElement&&he.attributes.for})&&!Q.some(function(he){return he instanceof HTMLInputElement||he instanceof HTMLSelectElement}))){var ie=Date.now();ie-x<=a6?(k++,k===2&&m(o6(B))):k=1,x=ie}}}return c.addEventListener("click",M),{dblclick:m,simDblclick:M}}function c6(c,m){c.removeEventListener("dblclick",m.dblclick),c.removeEventListener("click",m.simDblclick)}var m0=_f(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Uc=_f(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),YN=Uc==="webkitTransition"||Uc==="OTransition"?Uc+"End":"transitionend";function ZN(c){return typeof c=="string"?document.getElementById(c):c}function Wc(c,m){var x=c.style[m]||c.currentStyle&&c.currentStyle[m];if((!x||x==="auto")&&document.defaultView){var k=document.defaultView.getComputedStyle(c,null);x=k?k[m]:null}return x==="auto"?null:x}function lt(c,m,x){var k=document.createElement(c);return k.className=m||"",x&&x.appendChild(k),k}function It(c){var m=c.parentNode;m&&m.removeChild(c)}function bf(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function za(c){var m=c.parentNode;m&&m.lastChild!==c&&m.appendChild(c)}function Ba(c){var m=c.parentNode;m&&m.firstChild!==c&&m.insertBefore(c,m.firstChild)}function g0(c,m){if(c.classList!==void 0)return c.classList.contains(m);var x=wf(c);return x.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(x)}function Ke(c,m){if(c.classList!==void 0)for(var x=w(m),k=0,M=x.length;k<M;k++)c.classList.add(x[k]);else if(!g0(c,m)){var B=wf(c);y0(c,(B?B+" ":"")+m)}}function Ht(c,m){c.classList!==void 0?c.classList.remove(m):y0(c,y((" "+wf(c)+" ").replace(" "+m+" "," ")))}function y0(c,m){c.className.baseVal===void 0?c.className=m:c.className.baseVal=m}function wf(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function Sr(c,m){"opacity"in c.style?c.style.opacity=m:"filter"in c.style&&u6(c,m)}function u6(c,m){var x=!1,k="DXImageTransform.Microsoft.Alpha";try{x=c.filters.item(k)}catch{if(m===1)return}m=Math.round(m*100),x?(x.Enabled=m!==100,x.Opacity=m):c.style.filter+=" progid:"+k+"(opacity="+m+")"}function _f(c){for(var m=document.documentElement.style,x=0;x<c.length;x++)if(c[x]in m)return c[x];return!1}function Po(c,m,x){var k=m||new z(0,0);c.style[m0]=(Oe.ie3d?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(x?" scale("+x+")":"")}function Yt(c,m){c._leaflet_pos=m,Oe.any3d?Po(c,m):(c.style.left=m.x+"px",c.style.top=m.y+"px")}function To(c){return c._leaflet_pos||new z(0,0)}var Hc,Gc,x0;if("onselectstart"in document)Hc=function(){qe(window,"selectstart",vn)},Gc=function(){wt(window,"selectstart",vn)};else{var qc=_f(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Hc=function(){if(qc){var c=document.documentElement.style;x0=c[qc],c[qc]="none"}},Gc=function(){qc&&(document.documentElement.style[qc]=x0,x0=void 0)}}function v0(){qe(window,"dragstart",vn)}function b0(){wt(window,"dragstart",vn)}var jf,w0;function _0(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(Nf(),jf=c,w0=c.style.outlineStyle,c.style.outlineStyle="none",qe(window,"keydown",Nf))}function Nf(){jf&&(jf.style.outlineStyle=w0,jf=void 0,w0=void 0,wt(window,"keydown",Nf))}function KN(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function j0(c){var m=c.getBoundingClientRect();return{x:m.width/c.offsetWidth||1,y:m.height/c.offsetHeight||1,boundingClientRect:m}}var d6={__proto__:null,TRANSFORM:m0,TRANSITION:Uc,TRANSITION_END:YN,get:ZN,getStyle:Wc,create:lt,remove:It,empty:bf,toFront:za,toBack:Ba,hasClass:g0,addClass:Ke,removeClass:Ht,setClass:y0,getClass:wf,setOpacity:Sr,testProp:_f,setTransform:Po,setPosition:Yt,getPosition:To,get disableTextSelection(){return Hc},get enableTextSelection(){return Gc},disableImageDrag:v0,enableImageDrag:b0,preventOutline:_0,restoreOutline:Nf,getSizedParentNode:KN,getScale:j0};function qe(c,m,x,k){if(m&&typeof m=="object")for(var M in m)S0(c,M,m[M],x);else{m=w(m);for(var B=0,Q=m.length;B<Q;B++)S0(c,m[B],x,k)}return this}var ys="_leaflet_events";function wt(c,m,x,k){if(arguments.length===1)XN(c),delete c[ys];else if(m&&typeof m=="object")for(var M in m)k0(c,M,m[M],x);else if(m=w(m),arguments.length===2)XN(c,function(ie){return S(m,ie)!==-1});else for(var B=0,Q=m.length;B<Q;B++)k0(c,m[B],x,k);return this}function XN(c,m){for(var x in c[ys]){var k=x.split(/\d/)[0];(!m||m(k))&&k0(c,k,null,null,x)}}var N0={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function S0(c,m,x,k){var M=m+u(x)+(k?"_"+u(k):"");if(c[ys]&&c[ys][M])return this;var B=function(ie){return x.call(k||c,ie||window.event)},Q=B;!Oe.touchNative&&Oe.pointer&&m.indexOf("touch")===0?B=e6(c,m,B):Oe.touch&&m==="dblclick"?B=l6(c,B):"addEventListener"in c?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?c.addEventListener(N0[m]||m,B,Oe.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(B=function(ie){ie=ie||window.event,P0(c,ie)&&Q(ie)},c.addEventListener(N0[m],B,!1)):c.addEventListener(m,Q,!1):c.attachEvent("on"+m,B),c[ys]=c[ys]||{},c[ys][M]=B}function k0(c,m,x,k,M){M=M||m+u(x)+(k?"_"+u(k):"");var B=c[ys]&&c[ys][M];if(!B)return this;!Oe.touchNative&&Oe.pointer&&m.indexOf("touch")===0?t6(c,m,B):Oe.touch&&m==="dblclick"?c6(c,B):"removeEventListener"in c?c.removeEventListener(N0[m]||m,B,!1):c.detachEvent("on"+m,B),c[ys][M]=null}function Eo(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function C0(c){return S0(c,"wheel",Eo),this}function Yc(c){return qe(c,"mousedown touchstart dblclick contextmenu",Eo),c._leaflet_disable_click=!0,this}function vn(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function Mo(c){return vn(c),Eo(c),this}function JN(c){if(c.composedPath)return c.composedPath();for(var m=[],x=c.target;x;)m.push(x),x=x.parentNode;return m}function QN(c,m){if(!m)return new z(c.clientX,c.clientY);var x=j0(m),k=x.boundingClientRect;return new z((c.clientX-k.left)/x.x-m.clientLeft,(c.clientY-k.top)/x.y-m.clientTop)}var f6=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function eS(c){return Oe.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/f6:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function P0(c,m){var x=m.relatedTarget;if(!x)return!0;try{for(;x&&x!==c;)x=x.parentNode}catch{return!1}return x!==c}var h6={__proto__:null,on:qe,off:wt,stopPropagation:Eo,disableScrollPropagation:C0,disableClickPropagation:Yc,preventDefault:vn,stop:Mo,getPropagationPath:JN,getMousePosition:QN,getWheelDelta:eS,isExternalTarget:P0,addListener:qe,removeListener:wt},tS=W.extend({run:function(c,m,x,k){this.stop(),this._el=c,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(k||.5,.2),this._startPos=To(c),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(c){var m=+new Date-this._startTime,x=this._duration*1e3;m<x?this._runFrame(this._easeOut(m/x),c):(this._runFrame(1),this._complete())},_runFrame:function(c,m){var x=this._startPos.add(this._offset.multiplyBy(c));m&&x._round(),Yt(this._el,x),this.fire("step")},_complete:function(){A(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),ot=W.extend({options:{crs:ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,m){m=b(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(ge(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Uc&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),qe(this._proxy,YN,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,m,x){if(m=m===void 0?this._zoom:this._limitZoom(m),c=this._limitCenter(ge(c),m,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&x!==!0){x.animate!==void 0&&(x.zoom=s({animate:x.animate},x.zoom),x.pan=s({animate:x.animate,duration:x.duration},x.pan));var k=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,m,x.zoom):this._tryAnimatedPan(c,x.pan);if(k)return clearTimeout(this._sizeTimer),this}return this._resetView(c,m,x.pan&&x.pan.noMoveStart),this},setZoom:function(c,m){return this._loaded?this.setView(this.getCenter(),c,{zoom:m}):(this._zoom=c,this)},zoomIn:function(c,m){return c=c||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,m)},zoomOut:function(c,m){return c=c||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,m)},setZoomAround:function(c,m,x){var k=this.getZoomScale(m),M=this.getSize().divideBy(2),B=c instanceof z?c:this.latLngToContainerPoint(c),Q=B.subtract(M).multiplyBy(1-1/k),ie=this.containerPointToLatLng(M.add(Q));return this.setView(ie,m,{zoom:x})},_getBoundsCenterZoom:function(c,m){m=m||{},c=c.getBounds?c.getBounds():ae(c);var x=q(m.paddingTopLeft||m.padding||[0,0]),k=q(m.paddingBottomRight||m.padding||[0,0]),M=this.getBoundsZoom(c,!1,x.add(k));if(M=typeof m.maxZoom=="number"?Math.min(m.maxZoom,M):M,M===1/0)return{center:c.getCenter(),zoom:M};var B=k.subtract(x).divideBy(2),Q=this.project(c.getSouthWest(),M),ie=this.project(c.getNorthEast(),M),he=this.unproject(Q.add(ie).divideBy(2).add(B),M);return{center:he,zoom:M}},fitBounds:function(c,m){if(c=ae(c),!c.isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(c,m);return this.setView(x.center,x.zoom,m)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,m){return this.setView(c,this._zoom,{pan:m})},panBy:function(c,m){if(c=q(c).round(),m=m||{},!c.x&&!c.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tS,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Ke(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,x,m.duration||.25,m.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,m,x){if(x=x||{},x.animate===!1||!Oe.any3d)return this.setView(c,m,x);this._stop();var k=this.project(this.getCenter()),M=this.project(c),B=this.getSize(),Q=this._zoom;c=ge(c),m=m===void 0?Q:m;var ie=Math.max(B.x,B.y),he=ie*this.getZoomScale(Q,m),ye=M.distanceTo(k)||1,Pe=1.42,Ve=Pe*Pe;function et(Zt){var Rf=Zt?-1:1,tF=Zt?he:ie,nF=he*he-ie*ie+Rf*Ve*Ve*ye*ye,rF=2*tF*Ve*ye,F0=nF/rF,IS=Math.sqrt(F0*F0+1)-F0,sF=IS<1e-9?-18:Math.log(IS);return sF}function An(Zt){return(Math.exp(Zt)-Math.exp(-Zt))/2}function cn(Zt){return(Math.exp(Zt)+Math.exp(-Zt))/2}function Cr(Zt){return An(Zt)/cn(Zt)}var Yn=et(0);function qa(Zt){return ie*(cn(Yn)/cn(Yn+Pe*Zt))}function X6(Zt){return ie*(cn(Yn)*Cr(Yn+Pe*Zt)-An(Yn))/Ve}function J6(Zt){return 1-Math.pow(1-Zt,1.5)}var Q6=Date.now(),AS=(et(1)-Yn)/Pe,eF=x.duration?1e3*x.duration:1e3*AS*.8;function LS(){var Zt=(Date.now()-Q6)/eF,Rf=J6(Zt)*AS;Zt<=1?(this._flyToFrame=F(LS,this),this._move(this.unproject(k.add(M.subtract(k).multiplyBy(X6(Rf)/ye)),Q),this.getScaleZoom(ie/qa(Rf),Q),{flyTo:!0})):this._move(c,m)._moveEnd(!0)}return this._moveStart(!0,x.noMoveStart),LS.call(this),this},flyToBounds:function(c,m){var x=this._getBoundsCenterZoom(c,m);return this.flyTo(x.center,x.zoom,m)},setMaxBounds:function(c){return c=ae(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var m=this.options.minZoom;return this.options.minZoom=c,this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var m=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,m){this._enforcingBounds=!0;var x=this.getCenter(),k=this._limitCenter(x,this._zoom,ae(c));return x.equals(k)||this.panTo(k,m),this._enforcingBounds=!1,this},panInside:function(c,m){m=m||{};var x=q(m.paddingTopLeft||m.padding||[0,0]),k=q(m.paddingBottomRight||m.padding||[0,0]),M=this.project(this.getCenter()),B=this.project(c),Q=this.getPixelBounds(),ie=X([Q.min.add(x),Q.max.subtract(k)]),he=ie.getSize();if(!ie.contains(B)){this._enforcingBounds=!0;var ye=B.subtract(ie.getCenter()),Pe=ie.extend(B).getSize().subtract(he);M.x+=ye.x<0?-Pe.x:Pe.x,M.y+=ye.y<0?-Pe.y:Pe.y,this.panTo(this.unproject(M),m),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=s({animate:!1,pan:!0},c===!0?{animate:!0}:c);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),k=m.divideBy(2).round(),M=x.divideBy(2).round(),B=k.subtract(M);return!B.x&&!B.y?this:(c.animate&&c.pan?this.panBy(B):(c.pan&&this._rawPanBy(B),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:x}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=s({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=o(this._handleGeolocationResponse,this),x=o(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,x,c):navigator.geolocation.getCurrentPosition(m,x,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var m=c.code,x=c.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var m=c.coords.latitude,x=c.coords.longitude,k=new fe(m,x),M=k.toBounds(c.coords.accuracy*2),B=this._locateOptions;if(B.setView){var Q=this.getBoundsZoom(M);this.setView(k,B.maxZoom?Math.min(Q,B.maxZoom):Q)}var ie={latlng:k,bounds:M,timestamp:c.timestamp};for(var he in c.coords)typeof c.coords[he]=="number"&&(ie[he]=c.coords[he]);this.fire("locationfound",ie)}},addHandler:function(c,m){if(!m)return this;var x=this[c]=new m(this);return this._handlers.push(x),this.options[c]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),It(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(A(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)It(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,m){var x="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),k=lt("div",x,m||this._mapPane);return c&&(this._panes[c]=k),k},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),m=this.unproject(c.getBottomLeft()),x=this.unproject(c.getTopRight());return new G(m,x)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,m,x){c=ae(c),x=q(x||[0,0]);var k=this.getZoom()||0,M=this.getMinZoom(),B=this.getMaxZoom(),Q=c.getNorthWest(),ie=c.getSouthEast(),he=this.getSize().subtract(x),ye=X(this.project(ie,k),this.project(Q,k)).getSize(),Pe=Oe.any3d?this.options.zoomSnap:1,Ve=he.x/ye.x,et=he.y/ye.y,An=m?Math.max(Ve,et):Math.min(Ve,et);return k=this.getScaleZoom(An,k),Pe&&(k=Math.round(k/(Pe/100))*(Pe/100),k=m?Math.ceil(k/Pe)*Pe:Math.floor(k/Pe)*Pe),Math.max(M,Math.min(B,k))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,m){var x=this._getTopLeftPoint(c,m);return new Z(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,m){var x=this.options.crs;return m=m===void 0?this._zoom:m,x.scale(c)/x.scale(m)},getScaleZoom:function(c,m){var x=this.options.crs;m=m===void 0?this._zoom:m;var k=x.zoom(c*x.scale(m));return isNaN(k)?1/0:k},project:function(c,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(ge(c),m)},unproject:function(c,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(q(c),m)},layerPointToLatLng:function(c){var m=q(c).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(c){var m=this.project(ge(c))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(ge(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(ae(c))},distance:function(c,m){return this.options.crs.distance(ge(c),ge(m))},containerPointToLayerPoint:function(c){return q(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return q(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var m=this.containerPointToLayerPoint(q(c));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(c)))},mouseEventToContainerPoint:function(c){return QN(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var m=this._container=ZN(c);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");qe(m,"scroll",this._onScroll,this),this._containerId=u(m)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Ke(c,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Wc(c,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Yt(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ke(c.markerPane,"leaflet-zoom-hide"),Ke(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,m,x){Yt(this._mapPane,new z(0,0));var k=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var M=this._zoom!==m;this._moveStart(M,x)._move(c,m)._moveEnd(M),this.fire("viewreset"),k&&this.fire("load")},_moveStart:function(c,m){return c&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(c,m,x,k){m===void 0&&(m=this._zoom);var M=this._zoom!==m;return this._zoom=m,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),k?x&&x.pinch&&this.fire("zoom",x):((M||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return A(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){Yt(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[u(this._container)]=this;var m=c?wt:qe;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){A(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,m){for(var x=[],k,M=m==="mouseout"||m==="mouseover",B=c.target||c.srcElement,Q=!1;B;){if(k=this._targets[u(B)],k&&(m==="click"||m==="preclick")&&this._draggableMoved(k)){Q=!0;break}if(k&&k.listens(m,!0)&&(M&&!P0(B,c)||(x.push(k),M))||B===this._container)break;B=B.parentNode}return!x.length&&!Q&&!M&&this.listens(m,!0)&&(x=[this]),x},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var m=c.target||c.srcElement;if(!(!this._loaded||m._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(m))){var x=c.type;x==="mousedown"&&_0(m),this._fireDOMEvent(c,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,m,x){if(c.type==="click"){var k=s({},c);k.type="preclick",this._fireDOMEvent(k,k.type,x)}var M=this._findEventTargets(c,m);if(x){for(var B=[],Q=0;Q<x.length;Q++)x[Q].listens(m,!0)&&B.push(x[Q]);M=B.concat(M)}if(M.length){m==="contextmenu"&&vn(c);var ie=M[0],he={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var ye=ie.getLatLng&&(!ie._radius||ie._radius<=10);he.containerPoint=ye?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(c),he.layerPoint=this.containerPointToLayerPoint(he.containerPoint),he.latlng=ye?ie.getLatLng():this.layerPointToLatLng(he.layerPoint)}for(Q=0;Q<M.length;Q++)if(M[Q].fire(m,he,!0),he.originalEvent._stopped||M[Q].options.bubblingMouseEvents===!1&&S(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,m=this._handlers.length;c<m;c++)this._handlers[c].disable()},whenReady:function(c,m){return this._loaded?c.call(m||this,{target:this}):this.on("load",c,m),this},_getMapPanePos:function(){return To(this._mapPane)||new z(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,m){var x=c&&m!==void 0?this._getNewPixelOrigin(c,m):this.getPixelOrigin();return x.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,m){var x=this.getSize()._divideBy(2);return this.project(c,m)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,m,x){var k=this._getNewPixelOrigin(x,m);return this.project(c,m)._subtract(k)},_latLngBoundsToNewLayerBounds:function(c,m,x){var k=this._getNewPixelOrigin(x,m);return X([this.project(c.getSouthWest(),m)._subtract(k),this.project(c.getNorthWest(),m)._subtract(k),this.project(c.getSouthEast(),m)._subtract(k),this.project(c.getNorthEast(),m)._subtract(k)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,m,x){if(!x)return c;var k=this.project(c,m),M=this.getSize().divideBy(2),B=new Z(k.subtract(M),k.add(M)),Q=this._getBoundsOffset(B,x,m);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?c:this.unproject(k.add(Q),m)},_limitOffset:function(c,m){if(!m)return c;var x=this.getPixelBounds(),k=new Z(x.min.add(c),x.max.add(c));return c.add(this._getBoundsOffset(k,m))},_getBoundsOffset:function(c,m,x){var k=X(this.project(m.getNorthEast(),x),this.project(m.getSouthWest(),x)),M=k.min.subtract(c.min),B=k.max.subtract(c.max),Q=this._rebound(M.x,-B.x),ie=this._rebound(M.y,-B.y);return new z(Q,ie)},_rebound:function(c,m){return c+m>0?Math.round(c-m)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(m))},_limitZoom:function(c){var m=this.getMinZoom(),x=this.getMaxZoom(),k=Oe.any3d?this.options.zoomSnap:1;return k&&(c=Math.round(c/k)*k),Math.max(m,Math.min(x,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,m){var x=this._getCenterOffset(c)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(x)?!1:(this.panBy(x,m),!0)},_createAnimProxy:function(){var c=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(m){var x=m0,k=this._proxy.style[x];Po(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),k===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){It(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),m=this.getZoom();Po(this._proxy,this.project(c,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,m,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||x.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var k=this.getZoomScale(m),M=this._getCenterOffset(c)._divideBy(1-1/k);return x.animate!==!0&&!this.getSize().contains(M)?!1:(F(function(){this._moveStart(!0,x.noMoveStart||!1)._animateZoom(c,m,!0)},this),!0)},_animateZoom:function(c,m,x,k){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=m,Ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:m,noUpdate:k}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function p6(c,m){return new ot(c,m)}var Yr=$.extend({options:{position:"topright"},initialize:function(c){b(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var m=this._map;return m&&m.removeControl(this),this.options.position=c,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var m=this._container=this.onAdd(c),x=this.getPosition(),k=c._controlCorners[x];return Ke(m,"leaflet-control"),x.indexOf("bottom")!==-1?k.insertBefore(m,k.firstChild):k.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(It(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),Zc=function(c){return new Yr(c)};ot.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},m="leaflet-",x=this._controlContainer=lt("div",m+"control-container",this._container);function k(M,B){var Q=m+M+" "+m+B;c[M+B]=lt("div",Q,x)}k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)It(this._controlCorners[c]);It(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var nS=Yr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,m,x,k){return x<k?-1:k<x?1:0}},initialize:function(c,m,x){b(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var k in c)this._addLayer(c[k],k);for(k in m)this._addLayer(m[k],k,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return Yr.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,m){return this._addLayer(c,m),this._map?this._update():this},addOverlay:function(c,m){return this._addLayer(c,m,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var m=this._getLayer(u(c));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):Ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",m=this._container=lt("div",c),x=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Yc(m),C0(m);var k=this._section=lt("section",c+"-list");x&&(this._map.on("click",this.collapse,this),qe(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=lt("a",c+"-toggle",m);M.href="#",M.title="Layers",M.setAttribute("role","button"),qe(M,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){vn(B),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=lt("div",c+"-base",k),this._separator=lt("div",c+"-separator",k),this._overlaysList=lt("div",c+"-overlays",k),m.appendChild(k)},_getLayer:function(c){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&u(this._layers[m].layer)===c)return this._layers[m]},_addLayer:function(c,m,x){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:m,overlay:x}),this.options.sortLayers&&this._layers.sort(o(function(k,M){return this.options.sortFunction(k.layer,M.layer,k.name,M.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bf(this._baseLayersList),bf(this._overlaysList),this._layerControlInputs=[];var c,m,x,k,M=0;for(x=0;x<this._layers.length;x++)k=this._layers[x],this._addItem(k),m=m||k.overlay,c=c||!k.overlay,M+=k.overlay?0:1;return this.options.hideSingleBase&&(c=c&&M>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=m&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var m=this._getLayer(u(c.target)),x=m.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;x&&this._map.fire(x,m)},_createRadioElement:function(c,m){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(m?' checked="checked"':"")+"/>",k=document.createElement("div");return k.innerHTML=x,k.firstChild},_addItem:function(c){var m=document.createElement("label"),x=this._map.hasLayer(c.layer),k;c.overlay?(k=document.createElement("input"),k.type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=x):k=this._createRadioElement("leaflet-base-layers_"+u(this),x),this._layerControlInputs.push(k),k.layerId=u(c.layer),qe(k,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+c.name;var B=document.createElement("span");m.appendChild(B),B.appendChild(k),B.appendChild(M);var Q=c.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,m,x,k=[],M=[];this._handlingClick=!0;for(var B=c.length-1;B>=0;B--)m=c[B],x=this._getLayer(m.layerId).layer,m.checked?k.push(x):m.checked||M.push(x);for(B=0;B<M.length;B++)this._map.hasLayer(M[B])&&this._map.removeLayer(M[B]);for(B=0;B<k.length;B++)this._map.hasLayer(k[B])||this._map.addLayer(k[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,m,x,k=this._map.getZoom(),M=c.length-1;M>=0;M--)m=c[M],x=this._getLayer(m.layerId).layer,m.disabled=x.options.minZoom!==void 0&&k<x.options.minZoom||x.options.maxZoom!==void 0&&k>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,qe(c,"click",vn),this.expand();var m=this;setTimeout(function(){wt(c,"click",vn),m._preventClick=!1})}}),m6=function(c,m,x){return new nS(c,m,x)},T0=Yr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var m="leaflet-control-zoom",x=lt("div",m+" leaflet-bar"),k=this.options;return this._zoomInButton=this._createButton(k.zoomInText,k.zoomInTitle,m+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(k.zoomOutText,k.zoomOutTitle,m+"-out",x,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,m,x,k,M){var B=lt("a",x,k);return B.innerHTML=c,B.href="#",B.title=m,B.setAttribute("role","button"),B.setAttribute("aria-label",m),Yc(B),qe(B,"click",Mo),qe(B,"click",M,this),qe(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var c=this._map,m="leaflet-disabled";Ht(this._zoomInButton,m),Ht(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Ke(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Ke(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new T0,this.addControl(this.zoomControl))});var g6=function(c){return new T0(c)},rS=Yr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var m="leaflet-control-scale",x=lt("div",m),k=this.options;return this._addScales(k,m+"-line",x),c.on(k.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),x},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,m,x){c.metric&&(this._mScale=lt("div",m,x)),c.imperial&&(this._iScale=lt("div",m,x))},_update:function(){var c=this._map,m=c.getSize().y/2,x=c.distance(c.containerPointToLatLng([0,m]),c.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(x)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var m=this._getRoundNum(c),x=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,x,m/c)},_updateImperial:function(c){var m=c*3.2808399,x,k,M;m>5280?(x=m/5280,k=this._getRoundNum(x),this._updateScale(this._iScale,k+" mi",k/x)):(M=this._getRoundNum(m),this._updateScale(this._iScale,M+" ft",M/m))},_updateScale:function(c,m,x){c.style.width=Math.round(this.options.maxWidth*x)+"px",c.innerHTML=m},_getRoundNum:function(c){var m=Math.pow(10,(Math.floor(c)+"").length-1),x=c/m;return x=x>=10?10:x>=5?5:x>=3?3:x>=2?2:1,m*x}}),y6=function(c){return new rS(c)},x6='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',E0=Yr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?x6+" ":"")+"Leaflet</a>"},initialize:function(c){b(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),Yc(this._container);for(var m in c._layers)c._layers[m].getAttribution&&this.addAttribution(c._layers[m].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var m in this._attributions)this._attributions[m]&&c.push(m);var x=[];this.options.prefix&&x.push(this.options.prefix),c.length&&x.push(c.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new E0().addTo(this)});var v6=function(c){return new E0(c)};Yr.Layers=nS,Yr.Zoom=T0,Yr.Scale=rS,Yr.Attribution=E0,Zc.layers=m6,Zc.zoom=g6,Zc.scale=y6,Zc.attribution=v6;var xs=$.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xs.addTo=function(c,m){return c.addHandler(m,this),this};var b6={Events:te},sS=Oe.touch?"touchstart mousedown":"mousedown",Li=W.extend({options:{clickTolerance:3},initialize:function(c,m,x,k){b(this,k),this._element=c,this._dragStartTarget=m||c,this._preventOutline=x},enable:function(){this._enabled||(qe(this._dragStartTarget,sS,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Li._dragging===this&&this.finishDrag(!0),wt(this._dragStartTarget,sS,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!g0(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){Li._dragging===this&&this.finishDrag();return}if(!(Li._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(Li._dragging=this,this._preventOutline&&_0(this._element),v0(),Hc(),!this._moving)){this.fire("down");var m=c.touches?c.touches[0]:c,x=KN(this._element);this._startPoint=new z(m.clientX,m.clientY),this._startPos=To(this._element),this._parentScale=j0(x);var k=c.type==="mousedown";qe(document,k?"mousemove":"touchmove",this._onMove,this),qe(document,k?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var m=c.touches&&c.touches.length===1?c.touches[0]:c,x=new z(m.clientX,m.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,vn(c),this._moved||(this.fire("dragstart"),this._moved=!0,Ke(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),Yt(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){Ht(document.body,"leaflet-dragging"),this._lastTarget&&(Ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wt(document,"mousemove touchmove",this._onMove,this),wt(document,"mouseup touchend touchcancel",this._onUp,this),b0(),Gc();var m=this._moved&&this._moving;this._moving=!1,Li._dragging=!1,m&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function iS(c,m,x){var k,M=[1,4,2,8],B,Q,ie,he,ye,Pe,Ve,et;for(B=0,Pe=c.length;B<Pe;B++)c[B]._code=Do(c[B],m);for(ie=0;ie<4;ie++){for(Ve=M[ie],k=[],B=0,Pe=c.length,Q=Pe-1;B<Pe;Q=B++)he=c[B],ye=c[Q],he._code&Ve?ye._code&Ve||(et=Sf(ye,he,Ve,m,x),et._code=Do(et,m),k.push(et)):(ye._code&Ve&&(et=Sf(ye,he,Ve,m,x),et._code=Do(et,m),k.push(et)),k.push(he));c=k}return c}function oS(c,m){var x,k,M,B,Q,ie,he,ye,Pe;if(!c||c.length===0)throw new Error("latlngs not passed");kr(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Ve=ge([0,0]),et=ae(c),An=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());An<1700&&(Ve=M0(c));var cn=c.length,Cr=[];for(x=0;x<cn;x++){var Yn=ge(c[x]);Cr.push(m.project(ge([Yn.lat-Ve.lat,Yn.lng-Ve.lng])))}for(ie=he=ye=0,x=0,k=cn-1;x<cn;k=x++)M=Cr[x],B=Cr[k],Q=M.y*B.x-B.y*M.x,he+=(M.x+B.x)*Q,ye+=(M.y+B.y)*Q,ie+=Q*3;ie===0?Pe=Cr[0]:Pe=[he/ie,ye/ie];var qa=m.unproject(q(Pe));return ge([qa.lat+Ve.lat,qa.lng+Ve.lng])}function M0(c){for(var m=0,x=0,k=0,M=0;M<c.length;M++){var B=ge(c[M]);m+=B.lat,x+=B.lng,k++}return ge([m/k,x/k])}var w6={__proto__:null,clipPolygon:iS,polygonCenter:oS,centroid:M0};function aS(c,m){if(!m||!c.length)return c.slice();var x=m*m;return c=N6(c,x),c=j6(c,x),c}function lS(c,m,x){return Math.sqrt(Kc(c,m,x,!0))}function _6(c,m,x){return Kc(c,m,x)}function j6(c,m){var x=c.length,k=typeof Uint8Array<"u"?Uint8Array:Array,M=new k(x);M[0]=M[x-1]=1,D0(c,M,m,0,x-1);var B,Q=[];for(B=0;B<x;B++)M[B]&&Q.push(c[B]);return Q}function D0(c,m,x,k,M){var B=0,Q,ie,he;for(ie=k+1;ie<=M-1;ie++)he=Kc(c[ie],c[k],c[M],!0),he>B&&(Q=ie,B=he);B>x&&(m[Q]=1,D0(c,m,x,k,Q),D0(c,m,x,Q,M))}function N6(c,m){for(var x=[c[0]],k=1,M=0,B=c.length;k<B;k++)S6(c[k],c[M])>m&&(x.push(c[k]),M=k);return M<B-1&&x.push(c[B-1]),x}var cS;function uS(c,m,x,k,M){var B=k?cS:Do(c,x),Q=Do(m,x),ie,he,ye;for(cS=Q;;){if(!(B|Q))return[c,m];if(B&Q)return!1;ie=B||Q,he=Sf(c,m,ie,x,M),ye=Do(he,x),ie===B?(c=he,B=ye):(m=he,Q=ye)}}function Sf(c,m,x,k,M){var B=m.x-c.x,Q=m.y-c.y,ie=k.min,he=k.max,ye,Pe;return x&8?(ye=c.x+B*(he.y-c.y)/Q,Pe=he.y):x&4?(ye=c.x+B*(ie.y-c.y)/Q,Pe=ie.y):x&2?(ye=he.x,Pe=c.y+Q*(he.x-c.x)/B):x&1&&(ye=ie.x,Pe=c.y+Q*(ie.x-c.x)/B),new z(ye,Pe,M)}function Do(c,m){var x=0;return c.x<m.min.x?x|=1:c.x>m.max.x&&(x|=2),c.y<m.min.y?x|=4:c.y>m.max.y&&(x|=8),x}function S6(c,m){var x=m.x-c.x,k=m.y-c.y;return x*x+k*k}function Kc(c,m,x,k){var M=m.x,B=m.y,Q=x.x-M,ie=x.y-B,he=Q*Q+ie*ie,ye;return he>0&&(ye=((c.x-M)*Q+(c.y-B)*ie)/he,ye>1?(M=x.x,B=x.y):ye>0&&(M+=Q*ye,B+=ie*ye)),Q=c.x-M,ie=c.y-B,k?Q*Q+ie*ie:new z(M,B)}function kr(c){return!j(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]<"u"}function dS(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),kr(c)}function fS(c,m){var x,k,M,B,Q,ie,he,ye;if(!c||c.length===0)throw new Error("latlngs not passed");kr(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Pe=ge([0,0]),Ve=ae(c),et=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());et<1700&&(Pe=M0(c));var An=c.length,cn=[];for(x=0;x<An;x++){var Cr=ge(c[x]);cn.push(m.project(ge([Cr.lat-Pe.lat,Cr.lng-Pe.lng])))}for(x=0,k=0;x<An-1;x++)k+=cn[x].distanceTo(cn[x+1])/2;if(k===0)ye=cn[0];else for(x=0,B=0;x<An-1;x++)if(Q=cn[x],ie=cn[x+1],M=Q.distanceTo(ie),B+=M,B>k){he=(B-k)/M,ye=[ie.x-he*(ie.x-Q.x),ie.y-he*(ie.y-Q.y)];break}var Yn=m.unproject(q(ye));return ge([Yn.lat+Pe.lat,Yn.lng+Pe.lng])}var k6={__proto__:null,simplify:aS,pointToSegmentDistance:lS,closestPointOnSegment:_6,clipSegment:uS,_getEdgeIntersection:Sf,_getBitCode:Do,_sqClosestPointOnSegment:Kc,isFlat:kr,_flat:dS,polylineCenter:fS},A0={project:function(c){return new z(c.lng,c.lat)},unproject:function(c){return new fe(c.y,c.x)},bounds:new Z([-180,-90],[180,90])},L0={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var m=Math.PI/180,x=this.R,k=c.lat*m,M=this.R_MINOR/x,B=Math.sqrt(1-M*M),Q=B*Math.sin(k),ie=Math.tan(Math.PI/4-k/2)/Math.pow((1-Q)/(1+Q),B/2);return k=-x*Math.log(Math.max(ie,1e-10)),new z(c.lng*m*x,k)},unproject:function(c){for(var m=180/Math.PI,x=this.R,k=this.R_MINOR/x,M=Math.sqrt(1-k*k),B=Math.exp(-c.y/x),Q=Math.PI/2-2*Math.atan(B),ie=0,he=.1,ye;ie<15&&Math.abs(he)>1e-7;ie++)ye=M*Math.sin(Q),ye=Math.pow((1-ye)/(1+ye),M/2),he=Math.PI/2-2*Math.atan(B*ye)-Q,Q+=he;return new fe(Q*m,c.x*m/x)}},C6={__proto__:null,LonLat:A0,Mercator:L0,SphericalMercator:me},P6=s({},ke,{code:"EPSG:3395",projection:L0,transformation:function(){var c=.5/(Math.PI*L0.R);return ce(c,.5,-c,.5)}()}),hS=s({},ke,{code:"EPSG:4326",projection:A0,transformation:ce(1/180,1,-1/180,.5)}),T6=s({},be,{projection:A0,transformation:ce(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,m){var x=m.lng-c.lng,k=m.lat-c.lat;return Math.sqrt(x*x+k*k)},infinite:!0});be.Earth=ke,be.EPSG3395=P6,be.EPSG3857=ue,be.EPSG900913=xe,be.EPSG4326=hS,be.Simple=T6;var Zr=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[u(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[u(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var m=c.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var x=this.getEvents();m.on(x,this),this.once("remove",function(){m.off(x,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var m=u(c);return this._layers[m]?this:(this._layers[m]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var m=u(c);return this._layers[m]?(this._loaded&&c.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return u(c)in this._layers},eachLayer:function(c,m){for(var x in this._layers)c.call(m,this._layers[x]);return this},_addLayers:function(c){c=c?j(c)?c:[c]:[];for(var m=0,x=c.length;m<x;m++)this.addLayer(c[m])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[u(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var m=u(c);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,m=-1/0,x=this._getZoomSpan();for(var k in this._zoomBoundLayers){var M=this._zoomBoundLayers[k].options;c=M.minZoom===void 0?c:Math.min(c,M.minZoom),m=M.maxZoom===void 0?m:Math.max(m,M.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=c===1/0?void 0:c,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Va=Zr.extend({initialize:function(c,m){b(this,m),this._layers={};var x,k;if(c)for(x=0,k=c.length;x<k;x++)this.addLayer(c[x])},addLayer:function(c){var m=this.getLayerId(c);return this._layers[m]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var m=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(c){var m=typeof c=="number"?c:this.getLayerId(c);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var m=Array.prototype.slice.call(arguments,1),x,k;for(x in this._layers)k=this._layers[x],k[c]&&k[c].apply(k,m);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,m){for(var x in this._layers)c.call(m,this._layers[x]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return u(c)}}),E6=function(c,m){return new Va(c,m)},qs=Va.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),Va.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),Va.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new G;for(var m in this._layers){var x=this._layers[m];c.extend(x.getBounds?x.getBounds():x.getLatLng())}return c}}),M6=function(c,m){return new qs(c,m)},Ua=$.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){b(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,m){var x=this._getIconUrl(c);if(!x){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var k=this._createImg(x,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(k,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),k},_setIconStyles:function(c,m){var x=this.options,k=x[m+"Size"];typeof k=="number"&&(k=[k,k]);var M=q(k),B=q(m==="shadow"&&x.shadowAnchor||x.iconAnchor||M&&M.divideBy(2,!0));c.className="leaflet-marker-"+m+" "+(x.className||""),B&&(c.style.marginLeft=-B.x+"px",c.style.marginTop=-B.y+"px"),M&&(c.style.width=M.x+"px",c.style.height=M.y+"px")},_createImg:function(c,m){return m=m||document.createElement("img"),m.src=c,m},_getIconUrl:function(c){return Oe.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function D6(c){return new Ua(c)}var Xc=Ua.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof Xc.imagePath!="string"&&(Xc.imagePath=this._detectIconPath()),(this.options.imagePath||Xc.imagePath)+Ua.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var m=function(x,k,M){var B=k.exec(x);return B&&B[M]};return c=m(c,/^url\((['"])?(.+)\1\)$/,2),c&&m(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=lt("div","leaflet-default-icon-path",document.body),m=Wc(c,"background-image")||Wc(c,"backgroundImage");if(document.body.removeChild(c),m=this._stripUrl(m),m)return m;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),pS=xs.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new Li(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ke(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var m=this._marker,x=m._map,k=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,B=To(m._icon),Q=x.getPixelBounds(),ie=x.getPixelOrigin(),he=X(Q.min._subtract(ie).add(M),Q.max._subtract(ie).subtract(M));if(!he.contains(B)){var ye=q((Math.max(he.max.x,B.x)-he.max.x)/(Q.max.x-he.max.x)-(Math.min(he.min.x,B.x)-he.min.x)/(Q.min.x-he.min.x),(Math.max(he.max.y,B.y)-he.max.y)/(Q.max.y-he.max.y)-(Math.min(he.min.y,B.y)-he.min.y)/(Q.min.y-he.min.y)).multiplyBy(k);x.panBy(ye,{animate:!1}),this._draggable._newPos._add(ye),this._draggable._startPos._add(ye),Yt(m._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=F(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(A(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,c)))},_onDrag:function(c){var m=this._marker,x=m._shadow,k=To(m._icon),M=m._map.layerPointToLatLng(k);x&&Yt(x,k),m._latlng=M,c.latlng=M,c.oldLatLng=this._oldLatLng,m.fire("move",c).fire("drag",c)},_onDragEnd:function(c){A(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),kf=Zr.extend({options:{icon:new Xc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,m){b(this,m),this._latlng=ge(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var m=this._latlng;return this._latlng=ge(c),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=c.icon.createIcon(this._icon),k=!1;x!==this._icon&&(this._icon&&this._removeIcon(),k=!0,c.title&&(x.title=c.title),x.tagName==="IMG"&&(x.alt=c.alt||"")),Ke(x,m),c.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qe(x,"focus",this._panOnFocus,this);var M=c.icon.createShadow(this._shadow),B=!1;M!==this._shadow&&(this._removeShadow(),B=!0),M&&(Ke(M,m),M.alt=""),this._shadow=M,c.opacity<1&&this._updateOpacity(),k&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&B&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(this._icon,"focus",this._panOnFocus,this),It(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&It(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&Yt(this._icon,c),this._shadow&&Yt(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pS)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pS(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&Sr(this._icon,c),this._shadow&&Sr(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var m=this.options.icon.options,x=m.iconSize?q(m.iconSize):q(0,0),k=m.iconAnchor?q(m.iconAnchor):q(0,0);c.panInside(this._latlng,{paddingTopLeft:k,paddingBottomRight:x.subtract(k)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function A6(c,m){return new kf(c,m)}var Ii=Zr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return b(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Cf=Ii.extend({options:{fill:!0,radius:10},initialize:function(c,m){b(this,m),this._latlng=ge(c),this._radius=this.options.radius},setLatLng:function(c){var m=this._latlng;return this._latlng=ge(c),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var m=c&&c.radius||this._radius;return Ii.prototype.setStyle.call(this,c),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,m=this._radiusY||c,x=this._clickTolerance(),k=[c+x,m+x];this._pxBounds=new Z(this._point.subtract(k),this._point.add(k))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function L6(c,m){return new Cf(c,m)}var I0=Cf.extend({initialize:function(c,m,x){if(typeof m=="number"&&(m=s({},x,{radius:m})),b(this,m),this._latlng=ge(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:Ii.prototype.setStyle,_project:function(){var c=this._latlng.lng,m=this._latlng.lat,x=this._map,k=x.options.crs;if(k.distance===ke.distance){var M=Math.PI/180,B=this._mRadius/ke.R/M,Q=x.project([m+B,c]),ie=x.project([m-B,c]),he=Q.add(ie).divideBy(2),ye=x.unproject(he).lat,Pe=Math.acos((Math.cos(B*M)-Math.sin(m*M)*Math.sin(ye*M))/(Math.cos(m*M)*Math.cos(ye*M)))/M;(isNaN(Pe)||Pe===0)&&(Pe=B/Math.cos(Math.PI/180*m)),this._point=he.subtract(x.getPixelOrigin()),this._radius=isNaN(Pe)?0:he.x-x.project([ye,c-Pe]).x,this._radiusY=he.y-Q.y}else{var Ve=k.unproject(k.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(Ve).x}this._updateBounds()}});function I6(c,m,x){return new I0(c,m,x)}var Ys=Ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,m){b(this,m),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var m=1/0,x=null,k=Kc,M,B,Q=0,ie=this._parts.length;Q<ie;Q++)for(var he=this._parts[Q],ye=1,Pe=he.length;ye<Pe;ye++){M=he[ye-1],B=he[ye];var Ve=k(c,M,B,!0);Ve<m&&(m=Ve,x=k(c,M,B))}return x&&(x.distance=Math.sqrt(m)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fS(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,m){return m=m||this._defaultShape(),c=ge(c),m.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new G,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return kr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var m=[],x=kr(c),k=0,M=c.length;k<M;k++)x?(m[k]=ge(c[k]),this._bounds.extend(m[k])):m[k]=this._convertLatLngs(c[k]);return m},_project:function(){var c=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),m=new z(c,c);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(c,m,x){var k=c[0]instanceof fe,M=c.length,B,Q;if(k){for(Q=[],B=0;B<M;B++)Q[B]=this._map.latLngToLayerPoint(c[B]),x.extend(Q[B]);m.push(Q)}else for(B=0;B<M;B++)this._projectLatlngs(c[B],m,x)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,x,k,M,B,Q,ie,he;for(x=0,M=0,B=this._rings.length;x<B;x++)for(he=this._rings[x],k=0,Q=he.length;k<Q-1;k++)ie=uS(he[k],he[k+1],c,k,!0),ie&&(m[M]=m[M]||[],m[M].push(ie[0]),(ie[1]!==he[k+1]||k===Q-2)&&(m[M].push(ie[1]),M++))}},_simplifyPoints:function(){for(var c=this._parts,m=this.options.smoothFactor,x=0,k=c.length;x<k;x++)c[x]=aS(c[x],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,m){var x,k,M,B,Q,ie,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(x=0,B=this._parts.length;x<B;x++)for(ie=this._parts[x],k=0,Q=ie.length,M=Q-1;k<Q;M=k++)if(!(!m&&k===0)&&lS(c,ie[M],ie[k])<=he)return!0;return!1}});function R6(c,m){return new Ys(c,m)}Ys._flat=dS;var Wa=Ys.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oS(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var m=Ys.prototype._convertLatLngs.call(this,c),x=m.length;return x>=2&&m[0]instanceof fe&&m[0].equals(m[x-1])&&m.pop(),m},_setLatLngs:function(c){Ys.prototype._setLatLngs.call(this,c),kr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return kr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,m=this.options.weight,x=new z(m,m);if(c=new Z(c.min.subtract(x),c.max.add(x)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var k=0,M=this._rings.length,B;k<M;k++)B=iS(this._rings[k],c,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var m=!1,x,k,M,B,Q,ie,he,ye;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(B=0,he=this._parts.length;B<he;B++)for(x=this._parts[B],Q=0,ye=x.length,ie=ye-1;Q<ye;ie=Q++)k=x[Q],M=x[ie],k.y>c.y!=M.y>c.y&&c.x<(M.x-k.x)*(c.y-k.y)/(M.y-k.y)+k.x&&(m=!m);return m||Ys.prototype._containsPoint.call(this,c,!0)}});function O6(c,m){return new Wa(c,m)}var Zs=qs.extend({initialize:function(c,m){b(this,m),this._layers={},c&&this.addData(c)},addData:function(c){var m=j(c)?c:c.features,x,k,M;if(m){for(x=0,k=m.length;x<k;x++)M=m[x],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var B=this.options;if(B.filter&&!B.filter(c))return this;var Q=Pf(c,B);return Q?(Q.feature=Mf(c),Q.defaultOptions=Q.options,this.resetStyle(Q),B.onEachFeature&&B.onEachFeature(c,Q),this.addLayer(Q)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=s({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(m){this._setLayerStyle(m,c)},this)},_setLayerStyle:function(c,m){c.setStyle&&(typeof m=="function"&&(m=m(c.feature)),c.setStyle(m))}});function Pf(c,m){var x=c.type==="Feature"?c.geometry:c,k=x?x.coordinates:null,M=[],B=m&&m.pointToLayer,Q=m&&m.coordsToLatLng||R0,ie,he,ye,Pe;if(!k&&!x)return null;switch(x.type){case"Point":return ie=Q(k),mS(B,c,ie,m);case"MultiPoint":for(ye=0,Pe=k.length;ye<Pe;ye++)ie=Q(k[ye]),M.push(mS(B,c,ie,m));return new qs(M);case"LineString":case"MultiLineString":return he=Tf(k,x.type==="LineString"?0:1,Q),new Ys(he,m);case"Polygon":case"MultiPolygon":return he=Tf(k,x.type==="Polygon"?1:2,Q),new Wa(he,m);case"GeometryCollection":for(ye=0,Pe=x.geometries.length;ye<Pe;ye++){var Ve=Pf({geometry:x.geometries[ye],type:"Feature",properties:c.properties},m);Ve&&M.push(Ve)}return new qs(M);case"FeatureCollection":for(ye=0,Pe=x.features.length;ye<Pe;ye++){var et=Pf(x.features[ye],m);et&&M.push(et)}return new qs(M);default:throw new Error("Invalid GeoJSON object.")}}function mS(c,m,x,k){return c?c(m,x):new kf(x,k&&k.markersInheritOptions&&k)}function R0(c){return new fe(c[1],c[0],c[2])}function Tf(c,m,x){for(var k=[],M=0,B=c.length,Q;M<B;M++)Q=m?Tf(c[M],m-1,x):(x||R0)(c[M]),k.push(Q);return k}function O0(c,m){return c=ge(c),c.alt!==void 0?[p(c.lng,m),p(c.lat,m),p(c.alt,m)]:[p(c.lng,m),p(c.lat,m)]}function Ef(c,m,x,k){for(var M=[],B=0,Q=c.length;B<Q;B++)M.push(m?Ef(c[B],kr(c[B])?0:m-1,x,k):O0(c[B],k));return!m&&x&&M.length>0&&M.push(M[0].slice()),M}function Ha(c,m){return c.feature?s({},c.feature,{geometry:m}):Mf(m)}function Mf(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var $0={toGeoJSON:function(c){return Ha(this,{type:"Point",coordinates:O0(this.getLatLng(),c)})}};kf.include($0),I0.include($0),Cf.include($0),Ys.include({toGeoJSON:function(c){var m=!kr(this._latlngs),x=Ef(this._latlngs,m?1:0,!1,c);return Ha(this,{type:(m?"Multi":"")+"LineString",coordinates:x})}}),Wa.include({toGeoJSON:function(c){var m=!kr(this._latlngs),x=m&&!kr(this._latlngs[0]),k=Ef(this._latlngs,x?2:m?1:0,!0,c);return m||(k=[k]),Ha(this,{type:(x?"Multi":"")+"Polygon",coordinates:k})}}),Va.include({toMultiPoint:function(c){var m=[];return this.eachLayer(function(x){m.push(x.toGeoJSON(c).geometry.coordinates)}),Ha(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(c){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(c);var x=m==="GeometryCollection",k=[];return this.eachLayer(function(M){if(M.toGeoJSON){var B=M.toGeoJSON(c);if(x)k.push(B.geometry);else{var Q=Mf(B);Q.type==="FeatureCollection"?k.push.apply(k,Q.features):k.push(Q)}}}),x?Ha(this,{geometries:k,type:"GeometryCollection"}):{type:"FeatureCollection",features:k}}});function gS(c,m){return new Zs(c,m)}var $6=gS,Df=Zr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,m,x){this._url=c,this._bounds=ae(m),b(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){It(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&za(this._image),this},bringToBack:function(){return this._map&&Ba(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=ae(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",m=this._image=c?this._url:lt("img");if(Ke(m,"leaflet-image-layer"),this._zoomAnimated&&Ke(m,"leaflet-zoom-animated"),this.options.className&&Ke(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onload=o(this.fire,this,"load"),m.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(c){var m=this._map.getZoomScale(c.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;Po(this._image,x,m)},_reset:function(){var c=this._image,m=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=m.getSize();Yt(c,m.min),c.style.width=x.x+"px",c.style.height=x.y+"px"},_updateOpacity:function(){Sr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),F6=function(c,m,x){return new Df(c,m,x)},yS=Df.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",m=this._image=c?this._url:lt("video");if(Ke(m,"leaflet-image-layer"),this._zoomAnimated&&Ke(m,"leaflet-zoom-animated"),this.options.className&&Ke(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onloadeddata=o(this.fire,this,"load"),c){for(var x=m.getElementsByTagName("source"),k=[],M=0;M<x.length;M++)k.push(x[M].src);this._url=x.length>0?k:[m.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var Q=lt("source");Q.src=this._url[B],m.appendChild(Q)}}});function z6(c,m,x){return new yS(c,m,x)}var xS=Df.extend({_initImage:function(){var c=this._image=this._url;Ke(c,"leaflet-image-layer"),this._zoomAnimated&&Ke(c,"leaflet-zoom-animated"),this.options.className&&Ke(c,this.options.className),c.onselectstart=h,c.onmousemove=h}});function B6(c,m,x){return new xS(c,m,x)}var vs=Zr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,m){c&&(c instanceof fe||j(c))?(this._latlng=ge(c),b(this,m)):(b(this,c),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&Sr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&Sr(this._container,1),this.bringToFront(),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(Sr(this._container,0),this._removeTimeout=setTimeout(o(It,void 0,this._container),200)):It(this._container),this.options.interactive&&(Ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=ge(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&za(this._container),this},bringToBack:function(){return this._map&&Ba(this._container),this},_prepareOpen:function(c){var m=this._source;if(!m._map)return!1;if(m instanceof qs){m=null;var x=this._source._layers;for(var k in x)if(x[k]._map){m=x[k];break}if(!m)return!1;this._source=m}if(!c)if(m.getCenter)c=m.getCenter();else if(m.getLatLng)c=m.getLatLng();else if(m.getBounds)c=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")c.innerHTML=m;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),m=q(this.options.offset),x=this._getAnchor();this._zoomAnimated?Yt(this._container,c.add(x)):m=m.add(c).add(x);var k=this._containerBottom=-m.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=k+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(c,m,x,k){var M=m;return M instanceof c||(M=new c(k).setContent(m)),x&&M.setLatLng(x),M}}),Zr.include({_initOverlay:function(c,m,x,k){var M=x;return M instanceof c?(b(M,k),M._source=this):(M=m&&!k?m:new c(k,this),M.setContent(x)),M}});var Af=vs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,vs.prototype.openOn.call(this,c)},onAdd:function(c){vs.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ii||this._source.on("preclick",Eo))},onRemove:function(c){vs.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ii||this._source.off("preclick",Eo))},getEvents:function(){var c=vs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",m=this._container=lt("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=lt("div",c+"-content-wrapper",m);if(this._contentNode=lt("div",c+"-content",x),Yc(m),C0(this._contentNode),qe(m,"contextmenu",Eo),this._tipContainer=lt("div",c+"-tip-container",m),this._tip=lt("div",c+"-tip",this._tipContainer),this.options.closeButton){var k=this._closeButton=lt("a",c+"-close-button",m);k.setAttribute("role","button"),k.setAttribute("aria-label","Close popup"),k.href="#close",k.innerHTML='<span aria-hidden="true">&#215;</span>',qe(k,"click",function(M){vn(M),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,m=c.style;m.width="",m.whiteSpace="nowrap";var x=c.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),m.width=x+1+"px",m.whiteSpace="",m.height="";var k=c.offsetHeight,M=this.options.maxHeight,B="leaflet-popup-scrolled";M&&k>M?(m.height=M+"px",Ke(c,B)):Ht(c,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),x=this._getAnchor();Yt(this._container,m.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,m=parseInt(Wc(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+m,k=this._containerWidth,M=new z(this._containerLeft,-x-this._containerBottom);M._add(To(this._container));var B=c.layerPointToContainerPoint(M),Q=q(this.options.autoPanPadding),ie=q(this.options.autoPanPaddingTopLeft||Q),he=q(this.options.autoPanPaddingBottomRight||Q),ye=c.getSize(),Pe=0,Ve=0;B.x+k+he.x>ye.x&&(Pe=B.x+k-ye.x+he.x),B.x-Pe-ie.x<0&&(Pe=B.x-ie.x),B.y+x+he.y>ye.y&&(Ve=B.y+x-ye.y+he.y),B.y-Ve-ie.y<0&&(Ve=B.y-ie.y),(Pe||Ve)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([Pe,Ve]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),V6=function(c,m){return new Af(c,m)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(c,m,x){return this._initOverlay(Af,c,m,x).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),Zr.include({bindPopup:function(c,m){return this._popup=this._initOverlay(Af,this._popup,c,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof qs||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){Mo(c);var m=c.layer||c.target;if(this._popup._source===m&&!(m instanceof Ii)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=m,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var Lf=vs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){vs.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){vs.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=vs.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",m=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var m,x,k=this._map,M=this._container,B=k.latLngToContainerPoint(k.getCenter()),Q=k.layerPointToContainerPoint(c),ie=this.options.direction,he=M.offsetWidth,ye=M.offsetHeight,Pe=q(this.options.offset),Ve=this._getAnchor();ie==="top"?(m=he/2,x=ye):ie==="bottom"?(m=he/2,x=0):ie==="center"?(m=he/2,x=ye/2):ie==="right"?(m=0,x=ye/2):ie==="left"?(m=he,x=ye/2):Q.x<B.x?(ie="right",m=0,x=ye/2):(ie="left",m=he+(Pe.x+Ve.x)*2,x=ye/2),c=c.subtract(q(m,x,!0)).add(Pe).add(Ve),Ht(M,"leaflet-tooltip-right"),Ht(M,"leaflet-tooltip-left"),Ht(M,"leaflet-tooltip-top"),Ht(M,"leaflet-tooltip-bottom"),Ke(M,"leaflet-tooltip-"+ie),Yt(M,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&Sr(this._container,c)},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(m)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),U6=function(c,m){return new Lf(c,m)};ot.include({openTooltip:function(c,m,x){return this._initOverlay(Lf,c,m,x).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),Zr.include({bindTooltip:function(c,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lf,this._tooltip,c,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var m=c?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[m](x),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof qs||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var m=typeof c.getElement=="function"&&c.getElement();m&&(qe(m,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),qe(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var m=typeof c.getElement=="function"&&c.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var m=c.latlng,x,k;this._tooltip.options.sticky&&c.originalEvent&&(x=this._map.mouseEventToContainerPoint(c.originalEvent),k=this._map.containerPointToLayerPoint(x),m=this._map.layerPointToLatLng(k)),this._tooltip.setLatLng(m)}});var vS=Ua.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var m=c&&c.tagName==="DIV"?c:document.createElement("div"),x=this.options;if(x.html instanceof Element?(bf(m),m.appendChild(x.html)):m.innerHTML=x.html!==!1?x.html:"",x.bgPos){var k=q(x.bgPos);m.style.backgroundPosition=-k.x+"px "+-k.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function W6(c){return new vS(c)}Ua.Default=Xc;var Jc=Zr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){b(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),It(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(za(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ba(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof z?c:new z(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var m=this.getPane().children,x=-c(-1/0,1/0),k=0,M=m.length,B;k<M;k++)B=m[k].style.zIndex,m[k]!==this._container&&B&&(x=c(x,+B));isFinite(x)&&(this.options.zIndex=x+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){Sr(this._container,this.options.opacity);var c=+new Date,m=!1,x=!1;for(var k in this._tiles){var M=this._tiles[k];if(!(!M.current||!M.loaded)){var B=Math.min(1,(c-M.loaded)/200);Sr(M.el,B),B<1?m=!0:(M.active?x=!0:this._onOpaqueTile(M),M.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),m&&(A(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,m=this.options.maxZoom;if(c!==void 0){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===c?(this._levels[x].el.style.zIndex=m-Math.abs(c-x),this._onUpdateLevel(x)):(It(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var k=this._levels[c],M=this._map;return k||(k=this._levels[c]={},k.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),k.el.style.zIndex=m,k.origin=M.project(M.unproject(M.getPixelOrigin()),c).round(),k.zoom=c,this._setZoomTransform(k,M.getCenter(),M.getZoom()),h(k.el.offsetWidth),this._onCreateLevel(k)),this._level=k,k}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var c,m,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)m=this._tiles[c],m.retain=m.current;for(c in this._tiles)if(m=this._tiles[c],m.current&&!m.active){var k=m.coords;this._retainParent(k.x,k.y,k.z,k.z-5)||this._retainChildren(k.x,k.y,k.z,k.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var m in this._tiles)this._tiles[m].coords.z===c&&this._removeTile(m)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)It(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,m,x,k){var M=Math.floor(c/2),B=Math.floor(m/2),Q=x-1,ie=new z(+M,+B);ie.z=+Q;var he=this._tileCoordsToKey(ie),ye=this._tiles[he];return ye&&ye.active?(ye.retain=!0,!0):(ye&&ye.loaded&&(ye.retain=!0),Q>k?this._retainParent(M,B,Q,k):!1)},_retainChildren:function(c,m,x,k){for(var M=2*c;M<2*c+2;M++)for(var B=2*m;B<2*m+2;B++){var Q=new z(M,B);Q.z=x+1;var ie=this._tileCoordsToKey(Q),he=this._tiles[ie];if(he&&he.active){he.retain=!0;continue}else he&&he.loaded&&(he.retain=!0);x+1<k&&this._retainChildren(M,B,x+1,k)}},_resetView:function(c){var m=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var m=this.options;return m.minNativeZoom!==void 0&&c<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<c?m.maxNativeZoom:c},_setView:function(c,m,x,k){var M=Math.round(m);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var B=this.options.updateWhenZooming&&M!==this._tileZoom;(!k||B)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(c),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(c,m)},_setZoomTransforms:function(c,m){for(var x in this._levels)this._setZoomTransform(this._levels[x],c,m)},_setZoomTransform:function(c,m,x){var k=this._map.getZoomScale(x,c.zoom),M=c.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(m,x)).round();Oe.any3d?Po(c.el,M,k):Yt(c.el,M)},_resetGrid:function(){var c=this._map,m=c.options.crs,x=this._tileSize=this.getTileSize(),k=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,m.wrapLng[0]],k).x/x.x),Math.ceil(c.project([0,m.wrapLng[1]],k).x/x.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([m.wrapLat[0],0],k).y/x.x),Math.ceil(c.project([m.wrapLat[1],0],k).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var m=this._map,x=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),k=m.getZoomScale(x,this._tileZoom),M=m.project(c,this._tileZoom).floor(),B=m.getSize().divideBy(k*2);return new Z(M.subtract(B),M.add(B))},_update:function(c){var m=this._map;if(m){var x=this._clampZoom(m.getZoom());if(c===void 0&&(c=m.getCenter()),this._tileZoom!==void 0){var k=this._getTiledPixelBounds(c),M=this._pxBoundsToTileRange(k),B=M.getCenter(),Q=[],ie=this.options.keepBuffer,he=new Z(M.getBottomLeft().subtract([ie,-ie]),M.getTopRight().add([ie,-ie]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ye in this._tiles){var Pe=this._tiles[ye].coords;(Pe.z!==this._tileZoom||!he.contains(new z(Pe.x,Pe.y)))&&(this._tiles[ye].current=!1)}if(Math.abs(x-this._tileZoom)>1){this._setView(c,x);return}for(var Ve=M.min.y;Ve<=M.max.y;Ve++)for(var et=M.min.x;et<=M.max.x;et++){var An=new z(et,Ve);if(An.z=this._tileZoom,!!this._isValidTile(An)){var cn=this._tiles[this._tileCoordsToKey(An)];cn?cn.current=!0:Q.push(An)}}if(Q.sort(function(Yn,qa){return Yn.distanceTo(B)-qa.distanceTo(B)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Cr=document.createDocumentFragment();for(et=0;et<Q.length;et++)this._addTile(Q[et],Cr);this._level.el.appendChild(Cr)}}}},_isValidTile:function(c){var m=this._map.options.crs;if(!m.infinite){var x=this._globalTileRange;if(!m.wrapLng&&(c.x<x.min.x||c.x>x.max.x)||!m.wrapLat&&(c.y<x.min.y||c.y>x.max.y))return!1}if(!this.options.bounds)return!0;var k=this._tileCoordsToBounds(c);return ae(this.options.bounds).overlaps(k)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var m=this._map,x=this.getTileSize(),k=c.scaleBy(x),M=k.add(x),B=m.unproject(k,c.z),Q=m.unproject(M,c.z);return[B,Q]},_tileCoordsToBounds:function(c){var m=this._tileCoordsToNwSe(c),x=new G(m[0],m[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var m=c.split(":"),x=new z(+m[0],+m[1]);return x.z=+m[2],x},_removeTile:function(c){var m=this._tiles[c];m&&(It(m.el),delete this._tiles[c],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Ke(c,"leaflet-tile");var m=this.getTileSize();c.style.width=m.x+"px",c.style.height=m.y+"px",c.onselectstart=h,c.onmousemove=h,Oe.ielt9&&this.options.opacity<1&&Sr(c,this.options.opacity)},_addTile:function(c,m){var x=this._getTilePos(c),k=this._tileCoordsToKey(c),M=this.createTile(this._wrapCoords(c),o(this._tileReady,this,c));this._initTile(M),this.createTile.length<2&&F(o(this._tileReady,this,c,null,M)),Yt(M,x),this._tiles[k]={el:M,coords:c,current:!0},m.appendChild(M),this.fire("tileloadstart",{tile:M,coords:c})},_tileReady:function(c,m,x){m&&this.fire("tileerror",{error:m,tile:x,coords:c});var k=this._tileCoordsToKey(c);x=this._tiles[k],x&&(x.loaded=+new Date,this._map._fadeAnimated?(Sr(x.el,0),A(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),m||(Ke(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var m=new z(this._wrapX?f(c.x,this._wrapX):c.x,this._wrapY?f(c.y,this._wrapY):c.y);return m.z=c.z,m},_pxBoundsToTileRange:function(c){var m=this.getTileSize();return new Z(c.min.unscaleBy(m).floor(),c.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function H6(c){return new Jc(c)}var Ga=Jc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,m){this._url=c,m=b(this,m),m.detectRetina&&Oe.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,m){return this._url===c&&m===void 0&&(m=!0),this._url=c,m||this.redraw(),this},createTile:function(c,m){var x=document.createElement("img");return qe(x,"load",o(this._tileOnLoad,this,m,x)),qe(x,"error",o(this._tileOnError,this,m,x)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(c),x},getTileUrl:function(c){var m={r:Oe.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-c.y;this.options.tms&&(m.y=x),m["-y"]=x}return _(this._url,s(m,this.options))},_tileOnLoad:function(c,m){Oe.ielt9?setTimeout(o(c,this,null,m),0):c(null,m)},_tileOnError:function(c,m,x){var k=this.options.errorTileUrl;k&&m.getAttribute("src")!==k&&(m.src=k),c(x,m)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,m=this.options.maxZoom,x=this.options.zoomReverse,k=this.options.zoomOffset;return x&&(c=m-c),c+k},_getSubdomain:function(c){var m=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var c,m;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(m=this._tiles[c].el,m.onload=h,m.onerror=h,!m.complete)){m.src=P;var x=this._tiles[c].coords;It(m),delete this._tiles[c],this.fire("tileabort",{tile:m,coords:x})}},_removeTile:function(c){var m=this._tiles[c];if(m)return m.el.setAttribute("src",P),Jc.prototype._removeTile.call(this,c)},_tileReady:function(c,m,x){if(!(!this._map||x&&x.getAttribute("src")===P))return Jc.prototype._tileReady.call(this,c,m,x)}});function bS(c,m){return new Ga(c,m)}var wS=Ga.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,m){this._url=c;var x=s({},this.defaultWmsParams);for(var k in m)k in this.options||(x[k]=m[k]);m=b(this,m);var M=m.detectRetina&&Oe.retina?2:1,B=this.getTileSize();x.width=B.x*M,x.height=B.y*M,this.wmsParams=x},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,Ga.prototype.onAdd.call(this,c)},getTileUrl:function(c){var m=this._tileCoordsToNwSe(c),x=this._crs,k=X(x.project(m[0]),x.project(m[1])),M=k.min,B=k.max,Q=(this._wmsVersion>=1.3&&this._crs===hS?[M.y,M.x,B.y,B.x]:[M.x,M.y,B.x,B.y]).join(","),ie=Ga.prototype.getTileUrl.call(this,c);return ie+N(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(c,m){return s(this.wmsParams,c),m||this.redraw(),this}});function G6(c,m){return new wS(c,m)}Ga.WMS=wS,bS.wms=G6;var Ks=Zr.extend({options:{padding:.1},initialize:function(c){b(this,c),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,m){var x=this._map.getZoomScale(m,this._zoom),k=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,m),B=k.multiplyBy(-x).add(M).subtract(this._map._getNewPixelOrigin(c,m));Oe.any3d?Po(this._container,B,x):Yt(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,m=this._map.getSize(),x=this._map.containerPointToLayerPoint(m.multiplyBy(-c)).round();this._bounds=new Z(x,x.add(m.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_S=Ks.extend({options:{tolerance:0},getEvents:function(){var c=Ks.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ks.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");qe(c,"mousemove",this._onMouseMove,this),qe(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),qe(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){A(this._redrawRequest),delete this._ctx,It(this._container),wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var m in this._layers)c=this._layers[m],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ks.prototype._update.call(this);var c=this._bounds,m=this._container,x=c.getSize(),k=Oe.retina?2:1;Yt(m,c.min),m.width=k*x.x,m.height=k*x.y,m.style.width=x.x+"px",m.style.height=x.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){Ks.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[u(c)]=c;var m=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var m=c._order,x=m.next,k=m.prev;x?x.prev=k:this._drawLast=k,k?k.next=x:this._drawFirst=x,delete c._order,delete this._layers[u(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var m=c.options.dashArray.split(/[, ]+/),x=[],k,M;for(M=0;M<m.length;M++){if(k=Number(m[M]),isNaN(k))return;x.push(k)}c.options._dashArray=x}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var m=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(c._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(c._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var m=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,m=this._redrawBounds;if(this._ctx.save(),m){var x=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var k=this._drawFirst;k;k=k.next)c=k.layer,(!m||c._pxBounds&&c._pxBounds.intersects(m))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,m){if(this._drawing){var x,k,M,B,Q=c._parts,ie=Q.length,he=this._ctx;if(ie){for(he.beginPath(),x=0;x<ie;x++){for(k=0,M=Q[x].length;k<M;k++)B=Q[x][k],he[k?"lineTo":"moveTo"](B.x,B.y);m&&he.closePath()}this._fillStroke(he,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var m=c._point,x=this._ctx,k=Math.max(Math.round(c._radius),1),M=(Math.max(Math.round(c._radiusY),1)||k)/k;M!==1&&(x.save(),x.scale(1,M)),x.beginPath(),x.arc(m.x,m.y/M,k,0,Math.PI*2,!1),M!==1&&x.restore(),this._fillStroke(x,c)}},_fillStroke:function(c,m){var x=m.options;x.fill&&(c.globalAlpha=x.fillOpacity,c.fillStyle=x.fillColor||x.color,c.fill(x.fillRule||"evenodd")),x.stroke&&x.weight!==0&&(c.setLineDash&&c.setLineDash(m.options&&m.options._dashArray||[]),c.globalAlpha=x.opacity,c.lineWidth=x.weight,c.strokeStyle=x.color,c.lineCap=x.lineCap,c.lineJoin=x.lineJoin,c.stroke())},_onClick:function(c){for(var m=this._map.mouseEventToLayerPoint(c),x,k,M=this._drawFirst;M;M=M.next)x=M.layer,x.options.interactive&&x._containsPoint(m)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(x))&&(k=x);this._fireEvent(k?[k]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,m)}},_handleMouseOut:function(c){var m=this._hoveredLayer;m&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([m],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,m){if(!this._mouseHoverThrottled){for(var x,k,M=this._drawFirst;M;M=M.next)x=M.layer,x.options.interactive&&x._containsPoint(m)&&(k=x);k!==this._hoveredLayer&&(this._handleMouseOut(c),k&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([k],c,"mouseover"),this._hoveredLayer=k)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,m,x){this._map._fireDOMEvent(m,x||m.type,c)},_bringToFront:function(c){var m=c._order;if(m){var x=m.next,k=m.prev;if(x)x.prev=k;else return;k?k.next=x:x&&(this._drawFirst=x),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(c)}},_bringToBack:function(c){var m=c._order;if(m){var x=m.next,k=m.prev;if(k)k.next=x;else return;x?x.prev=k:k&&(this._drawLast=k),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(c)}}});function jS(c){return Oe.canvas?new _S(c):null}var Qc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),q6={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ks.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var m=c._container=Qc("shape");Ke(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",c._path=Qc("path"),m.appendChild(c._path),this._updateStyle(c),this._layers[u(c)]=c},_addPath:function(c){var m=c._container;this._container.appendChild(m),c.options.interactive&&c.addInteractiveTarget(m)},_removePath:function(c){var m=c._container;It(m),c.removeInteractiveTarget(m),delete this._layers[u(c)]},_updateStyle:function(c){var m=c._stroke,x=c._fill,k=c.options,M=c._container;M.stroked=!!k.stroke,M.filled=!!k.fill,k.stroke?(m||(m=c._stroke=Qc("stroke")),M.appendChild(m),m.weight=k.weight+"px",m.color=k.color,m.opacity=k.opacity,k.dashArray?m.dashStyle=j(k.dashArray)?k.dashArray.join(" "):k.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=k.lineCap.replace("butt","flat"),m.joinstyle=k.lineJoin):m&&(M.removeChild(m),c._stroke=null),k.fill?(x||(x=c._fill=Qc("fill")),M.appendChild(x),x.color=k.fillColor||k.color,x.opacity=k.fillOpacity):x&&(M.removeChild(x),c._fill=null)},_updateCircle:function(c){var m=c._point.round(),x=Math.round(c._radius),k=Math.round(c._radiusY||x);this._setPath(c,c._empty()?"M0 0":"AL "+m.x+","+m.y+" "+x+","+k+" 0,"+65535*360)},_setPath:function(c,m){c._path.v=m},_bringToFront:function(c){za(c._container)},_bringToBack:function(c){Ba(c._container)}},If=Oe.vml?Qc:je,eu=Ks.extend({_initContainer:function(){this._container=If("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=If("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){It(this._container),wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ks.prototype._update.call(this);var c=this._bounds,m=c.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,x.setAttribute("width",m.x),x.setAttribute("height",m.y)),Yt(x,c.min),x.setAttribute("viewBox",[c.min.x,c.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(c){var m=c._path=If("path");c.options.className&&Ke(m,c.options.className),c.options.interactive&&Ke(m,"leaflet-interactive"),this._updateStyle(c),this._layers[u(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){It(c._path),c.removeInteractiveTarget(c._path),delete this._layers[u(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var m=c._path,x=c.options;m&&(x.stroke?(m.setAttribute("stroke",x.color),m.setAttribute("stroke-opacity",x.opacity),m.setAttribute("stroke-width",x.weight),m.setAttribute("stroke-linecap",x.lineCap),m.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?m.setAttribute("stroke-dasharray",x.dashArray):m.removeAttribute("stroke-dasharray"),x.dashOffset?m.setAttribute("stroke-dashoffset",x.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),x.fill?(m.setAttribute("fill",x.fillColor||x.color),m.setAttribute("fill-opacity",x.fillOpacity),m.setAttribute("fill-rule",x.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(c,m){this._setPath(c,Ce(c._parts,m))},_updateCircle:function(c){var m=c._point,x=Math.max(Math.round(c._radius),1),k=Math.max(Math.round(c._radiusY),1)||x,M="a"+x+","+k+" 0 1,0 ",B=c._empty()?"M0 0":"M"+(m.x-x)+","+m.y+M+x*2+",0 "+M+-x*2+",0 ";this._setPath(c,B)},_setPath:function(c,m){c._path.setAttribute("d",m)},_bringToFront:function(c){za(c._path)},_bringToBack:function(c){Ba(c._path)}});Oe.vml&&eu.include(q6);function NS(c){return Oe.svg||Oe.vml?new eu(c):null}ot.include({getRenderer:function(c){var m=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var m=this._paneRenderers[c];return m===void 0&&(m=this._createRenderer({pane:c}),this._paneRenderers[c]=m),m},_createRenderer:function(c){return this.options.preferCanvas&&jS(c)||NS(c)}});var SS=Wa.extend({initialize:function(c,m){Wa.prototype.initialize.call(this,this._boundsToLatLngs(c),m)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=ae(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function Y6(c,m){return new SS(c,m)}eu.create=If,eu.pointsToPath=Ce,Zs.geometryToLayer=Pf,Zs.coordsToLatLng=R0,Zs.coordsToLatLngs=Tf,Zs.latLngToCoords=O0,Zs.latLngsToCoords=Ef,Zs.getFeature=Ha,Zs.asFeature=Mf,ot.mergeOptions({boxZoom:!0});var kS=xs.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){It(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Hc(),v0(),this._startPoint=this._map.mouseEventToContainerPoint(c),qe(document,{contextmenu:Mo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),Ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var m=new Z(this._point,this._startPoint),x=m.getSize();Yt(this._box,m.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(It(this._box),Ht(this._container,"leaflet-crosshair")),Gc(),b0(),wt(document,{contextmenu:Mo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var m=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",kS),ot.mergeOptions({doubleClickZoom:!0});var CS=xs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var m=this._map,x=m.getZoom(),k=m.options.zoomDelta,M=c.originalEvent.shiftKey?x-k:x+k;m.options.doubleClickZoom==="center"?m.setZoom(M):m.setZoomAround(c.containerPoint,M)}});ot.addInitHook("addHandler","doubleClickZoom",CS),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var PS=xs.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new Li(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ht(this._map._container,"leaflet-grab"),Ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=ae(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var m=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(m),this._prunePositions(m)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,m){return c-(c-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;c.x<m.min.x&&(c.x=this._viscousLimit(c.x,m.min.x)),c.y<m.min.y&&(c.y=this._viscousLimit(c.y,m.min.y)),c.x>m.max.x&&(c.x=this._viscousLimit(c.x,m.max.x)),c.y>m.max.y&&(c.y=this._viscousLimit(c.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,m=Math.round(c/2),x=this._initialWorldOffset,k=this._draggable._newPos.x,M=(k-m+x)%c+m-x,B=(k+m+x)%c-m-x,Q=Math.abs(M+x)<Math.abs(B+x)?M:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(c){var m=this._map,x=m.options,k=!x.inertia||c.noInertia||this._times.length<2;if(m.fire("dragend",c),k)m.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,Q=x.easeLinearity,ie=M.multiplyBy(Q/B),he=ie.distanceTo([0,0]),ye=Math.min(x.inertiaMaxSpeed,he),Pe=ie.multiplyBy(ye/he),Ve=ye/(x.inertiaDeceleration*Q),et=Pe.multiplyBy(-Ve/2).round();!et.x&&!et.y?m.fire("moveend"):(et=m._limitOffset(et,m.options.maxBounds),F(function(){m.panBy(et,{duration:Ve,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",PS),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var TS=xs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),qe(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,m=document.documentElement,x=c.scrollTop||m.scrollTop,k=c.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(k,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var m=this._panKeys={},x=this.keyCodes,k,M;for(k=0,M=x.left.length;k<M;k++)m[x.left[k]]=[-1*c,0];for(k=0,M=x.right.length;k<M;k++)m[x.right[k]]=[c,0];for(k=0,M=x.down.length;k<M;k++)m[x.down[k]]=[0,c];for(k=0,M=x.up.length;k<M;k++)m[x.up[k]]=[0,-1*c]},_setZoomDelta:function(c){var m=this._zoomKeys={},x=this.keyCodes,k,M;for(k=0,M=x.zoomIn.length;k<M;k++)m[x.zoomIn[k]]=c;for(k=0,M=x.zoomOut.length;k<M;k++)m[x.zoomOut[k]]=-c},_addHooks:function(){qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var m=c.keyCode,x=this._map,k;if(m in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(k=this._panKeys[m],c.shiftKey&&(k=q(k).multiplyBy(3)),x.options.maxBounds&&(k=x._limitOffset(q(k),x.options.maxBounds)),x.options.worldCopyJump){var M=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(k)));x.panTo(M)}else x.panBy(k)}else if(m in this._zoomKeys)x.setZoom(x.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&x._popup&&x._popup.options.closeOnEscapeKey)x.closePopup();else return;Mo(c)}}});ot.addInitHook("addHandler","keyboard",TS),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ES=xs.extend({addHooks:function(){qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var m=eS(c),x=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var k=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),k),Mo(c)},_performZoom:function(){var c=this._map,m=c.getZoom(),x=this._map.options.zoomSnap||0;c._stop();var k=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(k))))/Math.LN2,B=x?Math.ceil(M/x)*x:M,Q=c._limitZoom(m+(this._delta>0?B:-B))-m;this._delta=0,this._startTime=null,Q&&(c.options.scrollWheelZoom==="center"?c.setZoom(m+Q):c.setZoomAround(this._lastMousePos,m+Q))}});ot.addInitHook("addHandler","scrollWheelZoom",ES);var Z6=600;ot.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var MS=xs.extend({addHooks:function(){qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var m=c.touches[0];this._startPos=this._newPos=new z(m.clientX,m.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(qe(document,"touchend",vn),qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),Z6),qe(document,"touchend touchcancel contextmenu",this._cancel,this),qe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){wt(document,"touchend",vn),wt(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)},_onMove:function(c){var m=c.touches[0];this._newPos=new z(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,m){var x=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});x._simulated=!0,m.target.dispatchEvent(x)}});ot.addInitHook("addHandler","tapHold",MS),ot.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var DS=xs.extend({addHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var m=this._map;if(!(!c.touches||c.touches.length!==2||m._animatingZoom||this._zooming)){var x=m.mouseEventToContainerPoint(c.touches[0]),k=m.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(x.add(k)._divideBy(2))),this._startDist=x.distanceTo(k),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),qe(document,"touchmove",this._onTouchMove,this),qe(document,"touchend touchcancel",this._onTouchEnd,this),vn(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var m=this._map,x=m.mouseEventToContainerPoint(c.touches[0]),k=m.mouseEventToContainerPoint(c.touches[1]),M=x.distanceTo(k)/this._startDist;if(this._zoom=m.getScaleZoom(M,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&M<1||this._zoom>m.getMaxZoom()&&M>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var B=x._add(k)._divideBy(2)._subtract(this._centerPoint);if(M===1&&B.x===0&&B.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),A(this._animRequest);var Q=o(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(Q,this,!0),vn(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,A(this._animRequest),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",DS),ot.BoxZoom=kS,ot.DoubleClickZoom=CS,ot.Drag=PS,ot.Keyboard=TS,ot.ScrollWheelZoom=ES,ot.TapHold=MS,ot.TouchZoom=DS,n.Bounds=Z,n.Browser=Oe,n.CRS=be,n.Canvas=_S,n.Circle=I0,n.CircleMarker=Cf,n.Class=$,n.Control=Yr,n.DivIcon=vS,n.DivOverlay=vs,n.DomEvent=h6,n.DomUtil=d6,n.Draggable=Li,n.Evented=W,n.FeatureGroup=qs,n.GeoJSON=Zs,n.GridLayer=Jc,n.Handler=xs,n.Icon=Ua,n.ImageOverlay=Df,n.LatLng=fe,n.LatLngBounds=G,n.Layer=Zr,n.LayerGroup=Va,n.LineUtil=k6,n.Map=ot,n.Marker=kf,n.Mixin=b6,n.Path=Ii,n.Point=z,n.PolyUtil=w6,n.Polygon=Wa,n.Polyline=Ys,n.Popup=Af,n.PosAnimation=tS,n.Projection=C6,n.Rectangle=SS,n.Renderer=Ks,n.SVG=eu,n.SVGOverlay=xS,n.TileLayer=Ga,n.Tooltip=Lf,n.Transformation=Ne,n.Util=O,n.VideoOverlay=yS,n.bind=o,n.bounds=X,n.canvas=jS,n.circle=I6,n.circleMarker=L6,n.control=Zc,n.divIcon=W6,n.extend=s,n.featureGroup=M6,n.geoJSON=gS,n.geoJson=$6,n.gridLayer=H6,n.icon=D6,n.imageOverlay=F6,n.latLng=ge,n.latLngBounds=ae,n.layerGroup=E6,n.map=p6,n.marker=A6,n.point=q,n.polygon=O6,n.polyline=R6,n.popup=V6,n.rectangle=Y6,n.setOptions=b,n.stamp=u,n.svg=NS,n.svgOverlay=B6,n.tileLayer=bS,n.tooltip=U6,n.transformation=ce,n.version=r,n.videoOverlay=z6;var K6=window.L;n.noConflict=function(){return window.L=K6,this},window.L=n})})(mw,mw.exports);var Pc=mw.exports;const Tc=gn(Pc);function ug(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function dg(e,t){return t==null?function(r,s){const i=g.useRef();return i.current||(i.current=e(r,s)),i}:function(r,s){const i=g.useRef();i.current||(i.current=e(r,s));const o=g.useRef(r),{instance:l}=i.current;return g.useEffect(function(){o.current!==r&&(t(l,r,o.current),o.current=r)},[l,r,s]),i}}function RR(e,t){g.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function OR(e){return function(n){const r=sj(),s=e(cg(n,r),r);return MR(r.map,n.attribution),ij(s.current,n.eventHandlers),RR(s.current,r),s}}function pY(e,t){const n=g.useRef();g.useEffect(function(){if(t.pathOptions!==n.current){const s=t.pathOptions??{};e.instance.setStyle(s),n.current=s}},[e,t])}function mY(e){return function(n){const r=sj(),s=e(cg(n,r),r);return ij(s.current,n.eventHandlers),RR(s.current,r),pY(s.current,n),s}}function gY(e,t){const n=dg(e,t),r=OR(n);return IR(r)}function yY(e,t){const n=dg(e),r=hY(n,t);return dY(r)}function xY(e,t){const n=dg(e,t),r=mY(n);return IR(r)}function vY(e,t){const n=dg(e,t),r=OR(n);return fY(r)}function bY(e,t,n){const{opacity:r,zIndex:s}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function gw(){return gw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(this,arguments)}function wY({bounds:e,boundsOptions:t,center:n,children:r,className:s,id:i,placeholder:o,style:l,whenReady:u,zoom:d,...f},h){const[p]=g.useState({className:s,id:i,style:l}),[y,w]=g.useState(null);g.useImperativeHandle(h,()=>(y==null?void 0:y.map)??null,[y]);const b=g.useCallback(v=>{if(v!==null&&y===null){const _=new Pc.Map(v,f);n!=null&&d!=null?_.setView(n,d):e!=null&&_.fitBounds(e,t),u!=null&&_.whenReady(u),w(uY(_))}},[]);g.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const N=y?nt.createElement(LR,{value:y},r):o??null;return nt.createElement("div",gw({},p,{ref:b}),N)}const $R=g.forwardRef(wY),qu=gY(function({position:t,...n},r){const s=new Pc.Marker(t,n);return ug(s,DR(r,{overlayContainer:s}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),_Y=xY(function({positions:t,...n},r){const s=new Pc.Polyline(t,n);return ug(s,DR(r,{overlayContainer:s}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),Yu=yY(function(t,n){const r=new Pc.Popup(t,n.overlayContainer);return ug(r,n)},function(t,n,{position:r},s){g.useEffect(function(){const{instance:o}=t;function l(d){d.popup===o&&(o.update(),s(!0))}function u(d){d.popup===o&&s(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var f;n.map.off({popupopen:l,popupclose:u}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(o)}},[t,n,s,r])}),FR=vY(function({url:t,...n},r){const s=new Pc.TileLayer(t,cg(n,r));return ug(s,r)},function(t,n,r){bY(t,n,r);const{url:s}=n;s!=null&&s!==r.url&&t.setUrl(s)}),zR=({start:e,end:t})=>{const[n,r]=g.useState([]);return g.useEffect(()=>{if(e&&t){const s=`https://router.project-osrm.org/route/v1/driving/${e.lng},${e.lat};${t.lng},${t.lat}?geometries=geojson`;fetch(s).then(i=>i.json()).then(i=>{if(i.routes&&i.routes.length){const o=i.routes[0].geometry.coordinates.map(l=>[l[1],l[0]]);r(o)}}).catch(i=>console.error("Error fetching route:",i))}},[e,t]),n.length>0?a.jsx(_Y,{positions:n,color:"blue"}):null};delete Tc.Icon.Default.prototype._getIconUrl;Tc.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const oj=({paramedicLocation:e,sceneLocation:t,ambulances:n})=>{let s=[12.9716,77.5946],i=12;const o=[];if(e&&o.push([e.latitude,e.longitude]),t&&o.push([t.latitude,t.longitude]),n&&n.forEach(d=>{d.latitude&&d.longitude&&o.push([d.latitude,d.longitude])}),o.length>0){const d=o.map(b=>b[0]),f=o.map(b=>b[1]),h=Math.min(...d),p=Math.max(...d),y=Math.min(...f),w=Math.max(...f);s=[(h+p)/2,(y+w)/2]}const l=e?{lat:e.latitude,lng:e.longitude}:null,u=t?{lat:t.latitude,lng:t.longitude}:null;return a.jsx("div",{className:"w-full h-full rounded-lg overflow-hidden shadow-md",children:a.jsxs($R,{center:s,zoom:i,scrollWheelZoom:!0,className:"h-full w-full",children:[a.jsx(FR,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e&&a.jsx(qu,{position:[e.latitude,e.longitude],children:a.jsx(Yu,{children:"Your Current Location"})}),t&&a.jsx(qu,{position:[t.latitude,t.longitude],children:a.jsx(Yu,{children:"Scene Location"})}),n&&n.map(d=>a.jsx(qu,{position:[d.latitude,d.longitude],children:a.jsx(Yu,{children:d.vehicle_name})},d.ambulance_id)),l&&u&&a.jsx(zR,{start:l,end:u})]})})},jY=({user:e})=>{const t=wr(),{position:n,error:r,startTracking:s}=PR(),[i,o]=g.useState(""),[l,u]=g.useState("idle"),[d,f]=g.useState(""),[h,p]=g.useState(null),[y,w]=g.useState(""),[b,N]=g.useState(!0),[v,_]=g.useState([]);g.useEffect(()=>{(async()=>{if(!(!e||!e.id))try{const R=await(await fetch(oe(`/api/ems/patient/my-trip-status?patientId=${e.id}`))).json();R.success&&R.trip?t(`/patient/track-ambulance/${R.trip.trip_id}`):j()}catch(D){console.error("Error checking for active trip:",D),j()}})()},[e,t]);const j=async()=>{try{const D=await(await fetch(oe("/api/ems/ambulances/locations"))).json();D.success&&_(D.locations)}catch(T){console.error("Error fetching available ambulances:",T)}finally{N(!1)}},S=()=>{u("locating"),s()},P=async()=>{let T,D;if(l==="locating"&&n)T=n.coords.latitude,D=n.coords.longitude;else if(l==="manual"&&y){u("booking"),f("");try{const F=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(y)}&format=json&limit=1`)).json();if(F&&F.length>0)T=F[0].lat,D=F[0].lon;else{u("error"),f("Could not find the specified address. Please try again.");return}}catch{u("error"),f("Failed to geocode the address.");return}}else{f("Please provide a location or address.");return}u("booking"),f("");try{const F=await(await fetch(oe("/api/ems/patient/book-ambulance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient_id:e.id,latitude:T,longitude:D,notes:i})})).json();F.success?(u("success"),p(F.trip_id),setTimeout(()=>{t(`/patient/track-ambulance/${F.trip_id}`)},2e3)):(u("error"),f(F.message||"Failed to book ambulance."))}catch{u("error"),f("Failed to connect to the server.")}},E=()=>{switch(l){case"idle":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs(an,{onClick:S,className:"w-full",size:"lg",children:[a.jsx(ig,{className:"mr-2 h-4 w-4"})," Use My Current Location"]}),a.jsxs(an,{onClick:()=>u("manual"),className:"w-full",size:"lg",variant:"outline",children:[a.jsx(X_,{className:"mr-2 h-4 w-4"})," Enter Address Manually"]})]});case"locating":return r?a.jsxs(Xi,{variant:"destructive",children:[a.jsx(Ji,{children:"Geolocation Error"}),a.jsx(Qi,{children:r})]}):n?C("Your current location will be used."):a.jsxs("div",{className:"text-center",children:[a.jsx(Gu,{className:"mx-auto h-8 w-8 animate-spin"}),a.jsx("p",{className:"mt-2",children:"Getting your location..."})]});case"manual":return C("Please enter the address for pickup.");case"booking":return a.jsxs("div",{className:"text-center",children:[a.jsx(Gu,{className:"mx-auto h-8 w-8 animate-spin"}),a.jsx("p",{className:"mt-2",children:"Finding the nearest ambulance..."})]});case"success":return a.jsxs(Xi,{variant:"success",children:[a.jsx(Ji,{children:"Booking Successful!"}),a.jsx(Qi,{children:"Help is on the way. Redirecting you to the tracking page..."})]});case"error":return a.jsxs(Xi,{variant:"destructive",children:[a.jsx(Ji,{children:"Booking Failed"}),a.jsx(Qi,{children:d})]});default:return null}},C=T=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Xi,{children:[a.jsx(Ji,{children:"Location"}),a.jsx(Qi,{children:T})]}),l==="manual"&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),a.jsx(ER,{id:"address",value:y,onChange:D=>w(D.target.value),placeholder:"e.g., 123 Main St, Anytown, USA"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes for the Paramedic (Optional):"}),a.jsx(TR,{id:"notes",value:i,onChange:D=>o(D.target.value),placeholder:"e.g., Patient is on the 2nd floor, difficulty breathing."})]}),a.jsx(an,{onClick:P,className:"w-full",size:"lg",disabled:l==="booking",children:"Book Ambulance Now"})]});return b?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Gu,{className:"mx-auto h-8 w-8 animate-spin"}),a.jsx("p",{className:"mt-2",children:"Checking for active trips..."})]}):a.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-900 min-h-screen flex flex-col",children:[a.jsx("div",{className:"w-full rounded-lg overflow-hidden shadow-md mb-4 h-[33vh]",children:a.jsx(oj,{ambulances:v})}),a.jsxs(ia,{className:"w-full max-w-full flex-shrink-0 flex-grow",children:[a.jsxs(oa,{className:"relative",children:[a.jsx(an,{variant:"ghost",size:"icon",className:"absolute top-4 left-4",onClick:()=>t("/patient-dashboard"),children:a.jsx(Nc,{className:"h-6 w-6"})}),a.jsx(aa,{className:"text-2xl font-bold text-center",children:"Book an Ambulance"})]}),a.jsx(la,{className:"space-y-6",children:E()})]})]})},NY=({user:e})=>{const{tripId:t}=o7(),n=wr(),[r,s]=g.useState(null),[i,o]=g.useState(!0),[l,u]=g.useState(""),[d,f]=g.useState(!1),[h,p]=g.useState(!1),y=g.useRef(null),w=async()=>{if(!(!e||!e.id))try{const j=await(await fetch(oe(`/api/ems/patient/my-trip-status?patientId=${e.id}`))).json();j.success?(s(j.trip),!j.trip&&!h&&u("Could not find an active trip. It may have been completed or cancelled.")):h||u(j.message||"Failed to fetch trip status.")}catch{h||u("Failed to connect to the server.")}finally{o(!1)}},b=async()=>{if(r){f(!0),u("");try{const j=await(await fetch(oe("/api/ems/patient/cancel-trip"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trip_id:r.trip_id})})).json();j.success?(y.current&&clearInterval(y.current),p(!0),setTimeout(()=>{n("/patient-dashboard")},3e3)):u(j.message||"Failed to cancel the trip.")}catch{u("Failed to connect to the server.")}finally{f(!1)}}};if(g.useEffect(()=>{if(e&&e.id)return w(),y.current=setInterval(w,1e4),()=>{y.current&&clearInterval(y.current)}},[e]),i)return a.jsxs("div",{className:"p-4 md:p-8 text-center",children:[a.jsx(Gu,{className:"mx-auto h-8 w-8 animate-spin"}),a.jsx("p",{className:"mt-2",children:"Loading trip details..."})]});if(h)return a.jsx("div",{className:"p-4 md:p-8 bg-gray-100 dark:bg-gray-900 min-h-screen flex items-center justify-center",children:a.jsxs(ia,{className:"w-full max-w-md",children:[a.jsx(oa,{children:a.jsx(aa,{className:"text-2xl font-bold text-center",children:"Booking Cancelled"})}),a.jsxs(la,{className:"space-y-4 text-center",children:[a.jsxs(Xi,{variant:"success",children:[a.jsx(Ji,{children:"Success!"}),a.jsx(Qi,{children:"Your ambulance booking has been successfully cancelled."})]}),a.jsx("p",{className:"text-sm text-gray-500",children:"You will be redirected to your dashboard shortly."}),a.jsx(an,{onClick:()=>n("/patient-dashboard"),children:"Go to Dashboard"})]})]})});if(l)return a.jsx("div",{className:"p-4 md:p-8",children:a.jsxs(Xi,{variant:"destructive",children:[a.jsx(Ji,{children:"Error"}),a.jsx(Qi,{children:l})]})});const N=r!=null&&r.ambulance_latitude?{latitude:r.ambulance_latitude,longitude:r.ambulance_longitude}:null,v=_=>{switch(_){case"New_Alert":return"We have received your request and are assigning the nearest paramedic.";case"Assigned":return"A paramedic has been assigned and is on their way!";case"En_Route_To_Scene":return"Your paramedic is en route to your location.";case"At_Scene":return"The paramedic has arrived at the scene.";case"Transporting":return"You are being transported to the hospital.";default:return"Your trip is in progress."}};return a.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-900 min-h-screen flex flex-col",children:[a.jsx("div",{className:"w-full rounded-lg overflow-hidden shadow-md mb-4 h-[50vh]",children:N?a.jsx(oj,{paramedicLocation:N,sceneLocation:null}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 dark:bg-gray-700",children:a.jsx("p",{children:"Waiting for ambulance location..."})})}),a.jsxs(ia,{className:"w-full max-w-full flex-shrink-0 flex-grow",children:[a.jsxs(oa,{className:"relative",children:[a.jsx(an,{variant:"ghost",size:"icon",className:"absolute top-4 left-4",onClick:()=>n("/patient-dashboard"),children:a.jsx(Nc,{className:"h-6 w-6"})}),a.jsx(aa,{className:"text-2xl font-bold text-center",children:"Track Your Ambulance"})]}),a.jsx(la,{className:"space-y-4",children:r?a.jsxs(a.Fragment,{children:[a.jsxs(Xi,{variant:"success",children:[a.jsx($s,{className:"h-4 w-4"}),a.jsx(Ji,{className:"font-semibold",children:r.status.replace("_"," ")}),a.jsx(Qi,{children:v(r.status)})]}),r.paramedic_firstName&&a.jsxs(ia,{children:[a.jsx(oa,{children:a.jsx(aa,{className:"text-lg",children:"Paramedic Information"})}),a.jsxs(la,{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(No,{className:"h-5 w-5"}),a.jsxs("span",{children:[r.paramedic_firstName," ",r.paramedic_lastName]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(HI,{className:"h-5 w-5"}),a.jsx("a",{href:`tel:${r.paramedic_phone}`,className:"text-blue-500 hover:underline",children:r.paramedic_phone})]})]})]}),a.jsx(an,{onClick:b,disabled:d,variant:"destructive",className:"w-full",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Gu,{className:"mr-2 h-4 w-4 animate-spin"})," Cancelling..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ZI,{className:"mr-2 h-4 w-4"})," Cancel Booking"]})})]}):a.jsx("p",{className:"text-center",children:"No active trip found."})})]})]})},SY=({children:e,onClose:t,width:n="max-w-xl"})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:`bg-[#1C1C1E] rounded-2xl p-8 w-full ${n} border border-gray-700 shadow-2xl text-white`,onClick:r=>r.stopPropagation(),children:e})})}),nx=({title:e,value:t,icon:n,color:r})=>{const{theme:s}=Qe();return a.jsxs("div",{className:`p-5 rounded-2xl border ${s==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${s==="dark"?"text-gray-400":"text-gray-500"}`,children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${s==="dark"?"text-white":"text-gray-900"}`,children:t})]})};function kY({user:e}){const{theme:t}=Qe(),[n,r]=g.useState([]),[s,i]=g.useState("upcoming"),[o,l]=g.useState(null),[u,d]=g.useState(""),[f,h]=g.useState(!1),p=(e==null?void 0:e.role)==="admin";g.useEffect(()=>{(async()=>{if(e)try{const j=oe(p?"/api/appointments/all":`/api/appointments/doctor/${e.id}`),S=await fetch(j);if(!S.ok){const E=await S.json();console.error("Error fetching appointments:",E),r([]);return}const P=await S.json();Array.isArray(P)?r(P):(console.warn("API did not return an array for appointments:",P),r([]))}catch(j){console.error("Failed to fetch appointments:",j),r([])}})()},[e,p]);const y=async _=>{h(!0),d("");const j="You are a medical assistant AI. Your task is to provide a very brief, structured pre-consultation summary for a doctor. Focus on the key information provided. Use bullet points for clarity.",S=`Summarize the upcoming appointment for patient ${_.patientName}. The appointment is for the ${_.departmentName} department. The provided reason for the visit is: "${_.notes}". Highlight the main complaint.`;try{const P=await fetch(oe("/api/ai/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:j},{role:"user",content:S}]})});if(!P.ok)throw new Error(`API error: ${P.status}`);const C=(await P.json()).reply;d(C||"Could not generate summary.")}catch(P){console.error("Gemini API error:",P),d("Error connecting to AI service.")}finally{h(!1)}},w=g.useMemo(()=>n.filter(_=>_.appointmentDate).filter(_=>{const j=new Date(_.appointmentDate),S=new Date;return s==="upcoming"?j>=S&&_.status==="scheduled":j<S}).sort((_,j)=>new Date(_.appointmentDate).getTime()-new Date(j.appointmentDate).getTime()),[n,s]);if(!e||!e.role)return a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user data or user not authorized..."});const b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},N={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},v=["upcoming","past"];return a.jsxs("div",{className:`p-8 font-sans min-h-full ${t==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:p?"All Appointments":"My Appointments"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"View upcoming and past patient consultations."})]})})}),a.jsxs(Y.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",variants:b,initial:"hidden",animate:"visible",children:[a.jsx(Y.div,{variants:N,children:a.jsx(nx,{title:"Total Appointments",value:n.length,icon:zr,color:"text-blue-400"})}),a.jsx(Y.div,{variants:N,children:a.jsx(nx,{title:"Upcoming Today",value:n.filter(_=>_.appointmentDate&&new Date(_.appointmentDate).toDateString()===new Date().toDateString()&&new Date(_.appointmentDate)>=new Date).length,icon:$s,color:"text-yellow-400"})}),a.jsx(Y.div,{variants:N,children:a.jsx(nx,{title:"Completed This Week",value:n.filter(_=>_.appointmentDate&&_.status==="completed"&&new Date(_.appointmentDate)>new Date(Date.now()-7*24*60*60*1e3)).length,icon:Ea,color:"text-green-400"})})]}),a.jsxs("div",{className:"bg-[#1C1C1E] rounded-2xl border border-gray-800 p-6",children:[a.jsx("div",{className:"w-full max-w-sm border-b border-gray-800 mb-6",children:a.jsxs("div",{className:"flex space-x-2 relative",children:[v.map(_=>a.jsx("button",{onClick:()=>i(_),className:`flex-1 py-2.5 text-sm rounded-lg font-semibold transition-colors z-10 ${s===_?"text-white":"text-gray-400 hover:text-white"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_)),a.jsx(Y.div,{layoutId:"activeApptTab",className:"absolute h-full w-1/2 bg-blue-600 rounded-lg",transition:{type:"spring",stiffness:300,damping:25},animate:{x:`${v.indexOf(s)*100}%`}})]})}),a.jsx(mt,{mode:"wait",children:a.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:w.length>0?a.jsx(Y.div,{className:"space-y-4",variants:b,initial:"hidden",animate:"visible",children:w.map(_=>a.jsxs(Y.div,{variants:N,className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-white",children:_.patientName}),a.jsxs("p",{className:"text-sm text-gray-400",children:[p&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(No,{size:12,className:"mr-1"}),"Dr. ",_.doctorName]}),_.departmentName," - ",a.jsx("span",{className:"text-xs",children:_.appointmentDate?dw(new Date(_.appointmentDate),"PPpp",{timeZone:"Asia/Kolkata"}):"No date"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold capitalize ${_.status==="scheduled"?"bg-blue-500/20 text-blue-300":"bg-gray-700 text-gray-400"}`,children:_.status}),s==="upcoming"&&a.jsx("button",{onClick:()=>{l(_),d("")},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full",title:"AI Pre-Consultation Summary",children:a.jsx(en,{size:18})})]})]},_.id))}):a.jsxs("div",{className:"text-center py-20 text-gray-500",children:[a.jsx(zr,{className:"mx-auto w-12 h-12 mb-4"}),"No ",s," appointments found."]})},s)})]}),o&&a.jsxs(SY,{onClose:()=>l(null),children:[a.jsx("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:" AI Pre-Consultation Summary"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["A quick summary for ",o.patientName,"'s upcoming appointment."]}),!u&&!f&&a.jsxs("button",{onClick:()=>y(o),className:"w-full py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[a.jsx(en,{size:20})," Generate Summary"]}),f&&a.jsx("p",{className:"text-center text-gray-400 animate-pulse py-10",children:"AI is preparing the summary..."}),u&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-gray-800 border-gray-700 rounded-lg text-gray-300 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:u.replace(/\n/g,"<br />")}}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(u),className:"px-6 py-2 bg-gray-700 rounded-lg font-semibold hover:bg-gray-600",children:"Copy Text"}),a.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700",children:"Done"})]})]})]})]})}const CY=({title:e,value:t,icon:n,color:r,trend:s})=>a.jsxs(Y.div,{className:"p-4 rounded-2xl flex flex-col justify-between transition-colors duration-300 bg-card border border-border shadow-sm",whileHover:{scale:1.03,boxShadow:"0px 10px 30px rgba(0,0,0,0.1)"},transition:{type:"spring",stiffness:300},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground truncate",children:e}),a.jsx(n,{className:`w-5 h-5 ${r}`})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-3xl font-bold mt-2 text-foreground truncate",children:t}),s&&a.jsxs("div",{className:"flex items-center text-green-500 text-xs mt-1",children:[a.jsx(fH,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"truncate",children:s})]})]})]}),dh=({label:e,icon:t,onClick:n})=>a.jsxs("button",{onClick:n,className:"flex items-center space-x-3 text-left w-full p-3 rounded-lg transition-colors bg-muted/50 hover:bg-muted text-foreground",children:[a.jsx(t,{className:"w-5 h-5 text-muted-foreground"}),a.jsx("span",{className:"font-semibold",children:e})]});function YC({setActiveModule:e}){const{theme:t}=Qe(),[n,r]=g.useState({totalPatients:0,activeStaff:0,availableBeds:0,revenue:0}),[s,i]=g.useState([]),[o,l]=g.useState("Morning"),[u,d]=g.useState("");g.useEffect(()=>{const p=new Date().getHours();p<12?l("Morning"):p<18?l("Afternoon"):l("Evening"),d(new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),f()},[]);const f=async()=>{try{const y=await(await fetch(oe("/api/dashboard/stats"))).json();console.log("Dashboard stats data:",y),y&&r(y);const b=await(await fetch(oe("/api/dashboard/agenda"))).json();console.log("Dashboard agenda data:",b),Array.isArray(b)&&i(b)}catch(p){console.error("Failed to fetch dashboard data:",p)}},h=[{title:"Total Patients",value:n.totalPatients.toLocaleString(),icon:zs,color:"text-pink-400",trend:"+5 this week"},{title:"Active Staff",value:n.activeStaff.toLocaleString(),icon:J_,color:"text-blue-400"},{title:"Available Beds",value:n.availableBeds.toLocaleString(),icon:Y_,color:"text-green-400"},{title:"Today's Revenue",value:`$${Number(n.revenue).toLocaleString()}`,icon:us,color:"text-teal-400",trend:"+$1.2k today"}];return a.jsx("div",{className:"min-h-screen p-4 sm:p-8 font-sans transition-colors duration-300 bg-background text-foreground",children:a.jsxs("div",{children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-base sm:text-lg text-muted-foreground",children:u}),a.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold flex items-center gap-3",children:["Good ",o,o==="Morning"?a.jsx(Da,{className:"text-yellow-400"}):a.jsx(Ma,{className:"text-blue-300"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.map(p=>a.jsx("div",{children:a.jsx(CY,{...p})},p.title)),a.jsxs("div",{className:"sm:col-span-2 lg:col-span-1 p-6 rounded-2xl transition-colors duration-300 bg-card border border-border",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(dh,{label:"Admit New Patient",icon:zs,onClick:()=>e("patients")}),a.jsx(dh,{label:"Schedule Surgery",icon:ec,onClick:()=>e("surgical")}),a.jsx(dh,{label:"New Lab Test",icon:co,onClick:()=>e("laboratory")}),a.jsx(dh,{label:"Check Pharmacy Stock",icon:Ls,onClick:()=>e("pharmacy")})]})]}),a.jsxs("div",{className:"sm:col-span-2 lg:col-pan-3 p-4 rounded-2xl transition-colors duration-300 bg-card border border-border",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Today's Agenda"}),a.jsx("div",{className:"space-y-3 overflow-x-auto",children:s.length>0?s.map(p=>a.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-lg transition-colors duration-300 bg-muted/50 min-w-max",children:[a.jsx("div",{className:"w-1 h-10 rounded-full bg-primary"}),a.jsx("div",{className:"w-20 text-sm font-semibold text-muted-foreground",children:new Date(p.appointmentDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold truncate text-foreground",children:p.notes||"Check-up"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:p.patientName})]}),a.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-primary/10 text-primary",children:p.status})]},p.id)):a.jsx("p",{className:"text-center text-muted-foreground py-10",children:"No appointments scheduled for today."})})]})]})]})})}const BR=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],PY=BR.map((e,t)=>({dayOfWeek:t,dayName:e,isWorkDay:!1,startTime:"09:00",endTime:"17:00"}));function TY({user:e}){const{theme:t}=Qe(),[n,r]=g.useState(PY),[s,i]=g.useState(!1);g.useEffect(()=>{e&&e.id&&o()},[e]);const o=async()=>{i(!0);try{const f=await(await fetch(oe(`/api/schedules/${e.id}`))).json(),h=BR.map((p,y)=>{const w=f.find(b=>b.dayOfWeek===y);return{dayOfWeek:y,dayName:p,isWorkDay:!!w,startTime:w?w.startTime.substring(0,5):"09:00",endTime:w?w.endTime.substring(0,5):"17:00"}});r(h)}catch(d){console.error("Failed to fetch schedule:",d)}finally{i(!1)}},l=(d,f,h)=>{const p=[...n];p[d][f]=h,r(p)},u=async()=>{i(!0);const d=n.filter(f=>f.isWorkDay).map(f=>({dayOfWeek:f.dayOfWeek,startTime:f.startTime,endTime:f.endTime}));try{(await(await fetch(oe("/api/schedules"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctorId:e.id,schedules:d})})).json()).success?alert("Schedule saved successfully!"):alert("Failed to save schedule.")}catch(f){console.error("Failed to save schedule:",f),alert("Error saving schedule.")}finally{i(!1)}};return a.jsxs("div",{className:`p-8 font-sans min-h-full ${t==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"My Schedule"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Set your weekly availability for patient appointments."})]}),a.jsxs("button",{onClick:u,disabled:s,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-full transition-colors flex items-center gap-2 disabled:bg-gray-500",children:[a.jsx(lH,{size:20}),a.jsx("span",{children:s?"Saving...":"Save Changes"})]})]})}),a.jsx("div",{className:`p-6 rounded-2xl border ${t==="dark"?"bg-[#1C1C1E] border-gray-800":"bg-white border-gray-200"}`,children:a.jsx("div",{className:"space-y-4",children:n.map((d,f)=>a.jsxs(Y.div,{className:`p-4 rounded-lg flex items-center justify-between ${t==="dark"?"bg-gray-800/50":"bg-gray-100"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.05},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"checkbox",checked:d.isWorkDay,onChange:h=>l(f,"isWorkDay",h.target.checked),className:"h-5 w-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300"}),a.jsx("span",{className:"w-28 font-semibold",children:d.dayName})]}),a.jsxs("div",{className:`flex items-center gap-4 ${d.isWorkDay?"":"opacity-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-gray-400",children:"From"}),a.jsx("input",{type:"time",value:d.startTime,disabled:!d.isWorkDay,onChange:h=>l(f,"startTime",h.target.value),className:`p-2 rounded-md text-sm ${t==="dark"?"bg-gray-700":"bg-gray-200"}`})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-gray-400",children:"To"}),a.jsx("input",{type:"time",value:d.endTime,disabled:!d.isWorkDay,onChange:h=>l(f,"endTime",h.target.value),className:`p-2 rounded-md text-sm ${t==="dark"?"bg-gray-700":"bg-gray-200"}`})]})]})]},d.dayOfWeek))})})]})}const EY=ag(["gradient-button","inline-flex items-center justify-center","rounded-[11px] min-w-[132px] px-9 py-4","text-base leading-[19px] font-[500] text-primary-foreground","font-sans font-bold","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:pointer-events-none disabled:opacity-50","bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 bg-[length:200%_200%] animate-gradient-animation"],{variants:{variant:{default:"",variant:"gradient-button-variant"}},defaultVariants:{variant:"default"}}),Tu=g.forwardRef(({className:e,variant:t,asChild:n=!1,...r},s)=>{const i=n?uR:"button";return a.jsx(i,{className:tn(EY({variant:t,className:e})),ref:s,...r})});Tu.displayName="GradientButton";const MY=ag("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function VR({className:e,variant:t,...n}){return a.jsx("div",{className:tn(MY({variant:t}),e),...n})}function uo(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function DY(e,t){const n=g.createContext(t),r=i=>{const{children:o,...l}=i,u=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:u,children:o})};r.displayName=e+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function AY(e,t=[]){let n=[];function r(i,o){const l=g.createContext(o),u=n.length;n=[...n,o];const d=h=>{var v;const{scope:p,children:y,...w}=h,b=((v=p==null?void 0:p[e])==null?void 0:v[u])||l,N=g.useMemo(()=>w,Object.values(w));return a.jsx(b.Provider,{value:N,children:y})};d.displayName=i+"Provider";function f(h,p){var b;const y=((b=p==null?void 0:p[e])==null?void 0:b[u])||l,w=g.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const u=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return s.scopeName=e,[r,LY(s,...t)]}function LY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const h=u(i)[`__scope${d}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Sd=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},IY=qd[" useId ".trim().toString()]||(()=>{}),RY=0;function rx(e){const[t,n]=g.useState(IY());return Sd(()=>{n(r=>r??String(RY++))},[e]),e||(t?`radix-${t}`:"")}var OY=qd[" useInsertionEffect ".trim().toString()]||Sd;function $Y({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=FY({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:s;{const f=g.useRef(e!==void 0);g.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=g.useCallback(f=>{var h;if(l){const p=zY(f)?f(e):f;p!==e&&((h=o.current)==null||h.call(o,p))}else i(f)},[l,e,i,o]);return[u,d]}function FY({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),s=g.useRef(n),i=g.useRef(t);return OY(()=>{i.current=t},[t]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function zY(e){return typeof e=="function"}function BY(e){const t=VY(e),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,l=g.Children.toArray(i),u=l.find(WY);if(u){const d=u.props.children,f=l.map(h=>h===u?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:h);return a.jsx(t,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,f):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function VY(e){const t=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=GY(s),l=HY(i,s.props);return s.type!==g.Fragment&&(l.ref=r?og(r,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UY=Symbol("radix.slottable");function WY(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UY}function HY(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function GY(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ai=qY.reduce((e,t)=>{const n=BY(`Primitive.${t}`),r=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function YY(e,t){e&&Di.flushSync(()=>e.dispatchEvent(t))}function kd(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ZY(e,t=globalThis==null?void 0:globalThis.document){const n=kd(e);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var KY="DismissableLayer",yw="dismissableLayer.update",XY="dismissableLayer.pointerDownOutside",JY="dismissableLayer.focusOutside",ZC,UR=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),WR=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,d=g.useContext(UR),[f,h]=g.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),w=Ia(t,C=>h(C)),b=Array.from(d.layers),[N]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(N),_=f?b.indexOf(f):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,S=_>=v,P=tZ(C=>{const T=C.target,D=[...d.branches].some(R=>R.contains(T));!S||D||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),E=nZ(C=>{const T=C.target;[...d.branches].some(R=>R.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return ZY(C=>{_===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),g.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ZC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),KC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ZC)}},[f,p,n,d]),g.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),KC())},[f,d]),g.useEffect(()=>{const C=()=>y({});return document.addEventListener(yw,C),()=>document.removeEventListener(yw,C)},[]),a.jsx(Ai.div,{...u,ref:w,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:uo(e.onFocusCapture,E.onFocusCapture),onBlurCapture:uo(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:uo(e.onPointerDownCapture,P.onPointerDownCapture)})});WR.displayName=KY;var QY="DismissableLayerBranch",eZ=g.forwardRef((e,t)=>{const n=g.useContext(UR),r=g.useRef(null),s=Ia(t,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Ai.div,{...e,ref:s})});eZ.displayName=QY;function tZ(e,t=globalThis==null?void 0:globalThis.document){const n=kd(e),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){HR(XY,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function nZ(e,t=globalThis==null?void 0:globalThis.document){const n=kd(e),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&HR(JY,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function KC(){const e=new CustomEvent(yw);document.dispatchEvent(e)}function HR(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?YY(s,i):s.dispatchEvent(i)}var sx="focusScope.autoFocusOnMount",ix="focusScope.autoFocusOnUnmount",XC={bubbles:!1,cancelable:!0},rZ="FocusScope",GR=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),d=kd(s),f=kd(i),h=g.useRef(null),p=Ia(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let b=function(j){if(y.paused||!l)return;const S=j.target;l.contains(S)?h.current=S:Vi(h.current,{select:!0})},N=function(j){if(y.paused||!l)return;const S=j.relatedTarget;S!==null&&(l.contains(S)||Vi(h.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const P of j)P.removedNodes.length>0&&Vi(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const _=new MutationObserver(v);return l&&_.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),_.disconnect()}}},[r,l,y.paused]),g.useEffect(()=>{if(l){QC.add(y);const b=document.activeElement;if(!l.contains(b)){const v=new CustomEvent(sx,XC);l.addEventListener(sx,d),l.dispatchEvent(v),v.defaultPrevented||(sZ(cZ(qR(l)),{select:!0}),document.activeElement===b&&Vi(l))}return()=>{l.removeEventListener(sx,d),setTimeout(()=>{const v=new CustomEvent(ix,XC);l.addEventListener(ix,f),l.dispatchEvent(v),v.defaultPrevented||Vi(b??document.body,{select:!0}),l.removeEventListener(ix,f),QC.remove(y)},0)}}},[l,d,f,y]);const w=g.useCallback(b=>{if(!n&&!r||y.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,v=document.activeElement;if(N&&v){const _=b.currentTarget,[j,S]=iZ(_);j&&S?!b.shiftKey&&v===S?(b.preventDefault(),n&&Vi(j,{select:!0})):b.shiftKey&&v===j&&(b.preventDefault(),n&&Vi(S,{select:!0})):v===_&&b.preventDefault()}},[n,r,y.paused]);return a.jsx(Ai.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});GR.displayName=rZ;function sZ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Vi(r,{select:t}),document.activeElement!==n)return}function iZ(e){const t=qR(e),n=JC(t,e),r=JC(t.reverse(),e);return[n,r]}function qR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function JC(e,t){for(const n of e)if(!oZ(n,{upTo:t}))return n}function oZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aZ(e){return e instanceof HTMLInputElement&&"select"in e}function Vi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&aZ(e)&&t&&e.select()}}var QC=lZ();function lZ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=eP(e,t),e.unshift(t)},remove(t){var n;e=eP(e,t),(n=e[0])==null||n.resume()}}}function eP(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cZ(e){return e.filter(t=>t.tagName!=="A")}var uZ="Portal",YR=g.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=g.useState(!1);Sd(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?IA.createPortal(a.jsx(Ai.div,{...r,ref:t}),o):null});YR.displayName=uZ;function dZ(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var fg=e=>{const{present:t,children:n}=e,r=fZ(t),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ia(r.ref,hZ(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};fg.displayName="Presence";function fZ(e){const[t,n]=g.useState(),r=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,u]=dZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=fh(r.current);i.current=l==="mounted"?d:"none"},[l]),Sd(()=>{const d=r.current,f=s.current;if(f!==e){const p=i.current,y=fh(d);e?u("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Sd(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,h=y=>{const b=fh(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&b&&(u("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},p=y=>{y.target===t&&(i.current=fh(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function fh(e){return(e==null?void 0:e.animationName)||"none"}function hZ(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ox=0;function pZ(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tP()),document.body.insertAdjacentElement("beforeend",e[1]??tP()),ox++,()=>{ox===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ox--}},[])}function tP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ks=function(){return ks=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ks.apply(this,arguments)};function ZR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function mZ(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var tp="right-scroll-bar-position",np="width-before-scroll-bar",gZ="with-scroll-bars-hidden",yZ="--removed-body-scroll-bar-size";function ax(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xZ(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var vZ=typeof window<"u"?g.useLayoutEffect:g.useEffect,nP=new WeakMap;function bZ(e,t){var n=xZ(null,function(r){return e.forEach(function(s){return ax(s,r)})});return vZ(function(){var r=nP.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||ax(l,null)}),i.forEach(function(l){s.has(l)||ax(l,o)})}nP.set(n,e)},[e]),n}function wZ(e){return e}function _Z(e,t){t===void 0&&(t=wZ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var u=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return s}function jZ(e){e===void 0&&(e={});var t=_Z(null);return t.options=ks({async:!0,ssr:!1},e),t}var KR=function(e){var t=e.sideCar,n=ZR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,ks({},n))};KR.isSideCarExport=!0;function NZ(e,t){return e.useMedium(t),KR}var XR=jZ(),lx=function(){},hg=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:lx,onWheelCapture:lx,onTouchMoveCapture:lx}),s=r[0],i=r[1],o=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,p=e.sideCar,y=e.noRelative,w=e.noIsolation,b=e.inert,N=e.allowPinchZoom,v=e.as,_=v===void 0?"div":v,j=e.gapMode,S=ZR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,E=bZ([n,t]),C=ks(ks({},S),s);return g.createElement(g.Fragment,null,f&&g.createElement(P,{sideCar:XR,removeScrollBar:d,shards:h,noRelative:y,noIsolation:w,inert:b,setCallbacks:i,allowPinchZoom:!!N,lockRef:n,gapMode:j}),o?g.cloneElement(g.Children.only(l),ks(ks({},C),{ref:E})):g.createElement(_,ks({},C,{className:u,ref:E}),l))});hg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hg.classNames={fullWidth:np,zeroRight:tp};var SZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SZ();return t&&e.setAttribute("nonce",t),e}function CZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function PZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TZ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=kZ())&&(CZ(t,n),PZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},EZ=function(){var e=TZ();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},JR=function(){var e=EZ(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},MZ={left:0,top:0,right:0,gap:0},cx=function(e){return parseInt(e||"",10)||0},DZ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[cx(n),cx(r),cx(s)]},AZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return MZ;var t=DZ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},LZ=JR(),Il="data-scroll-locked",IZ=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(gZ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Il,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(np,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(tp," .").concat(tp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(np," .").concat(np,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Il,`] {
    `).concat(yZ,": ").concat(l,`px;
  }
`)},rP=function(){var e=parseInt(document.body.getAttribute(Il)||"0",10);return isFinite(e)?e:0},RZ=function(){g.useEffect(function(){return document.body.setAttribute(Il,(rP()+1).toString()),function(){var e=rP()-1;e<=0?document.body.removeAttribute(Il):document.body.setAttribute(Il,e.toString())}},[])},OZ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;RZ();var i=g.useMemo(function(){return AZ(s)},[s]);return g.createElement(LZ,{styles:IZ(i,!t,s,n?"":"!important")})},xw=!1;if(typeof window<"u")try{var hh=Object.defineProperty({},"passive",{get:function(){return xw=!0,!0}});window.addEventListener("test",hh,hh),window.removeEventListener("test",hh,hh)}catch{xw=!1}var Ka=xw?{passive:!1}:!1,$Z=function(e){return e.tagName==="TEXTAREA"},QR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$Z(e)&&n[t]==="visible")},FZ=function(e){return QR(e,"overflowY")},zZ=function(e){return QR(e,"overflowX")},sP=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=e4(e,r);if(s){var i=t4(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},BZ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},VZ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},e4=function(e,t){return e==="v"?FZ(t):zZ(t)},t4=function(e,t){return e==="v"?BZ(t):VZ(t)},UZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},WZ=function(e,t,n,r,s){var i=UZ(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,u=t.contains(l),d=!1,f=o>0,h=0,p=0;do{if(!l)break;var y=t4(e,l),w=y[0],b=y[1],N=y[2],v=b-N-i*w;(w||v)&&e4(e,l)&&(h+=v,p+=w);var _=l.parentNode;l=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(d=!0),d},ph=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iP=function(e){return[e.deltaX,e.deltaY]},oP=function(e){return e&&"current"in e?e.current:e},HZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},GZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qZ=0,Xa=[];function YZ(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(qZ++)[0],i=g.useState(JR)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var b=mZ([e.lockRef.current],(e.shards||[]).map(oP),!0).filter(Boolean);return b.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(b,N){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var v=ph(b),_=n.current,j="deltaX"in b?b.deltaX:_[0]-v[0],S="deltaY"in b?b.deltaY:_[1]-v[1],P,E=b.target,C=Math.abs(j)>Math.abs(S)?"h":"v";if("touches"in b&&C==="h"&&E.type==="range")return!1;var T=sP(C,E);if(!T)return!0;if(T?P=C:(P=C==="v"?"h":"v",T=sP(C,E)),!T)return!1;if(!r.current&&"changedTouches"in b&&(j||S)&&(r.current=P),!P)return!0;var D=r.current||P;return WZ(D,N,b,D==="h"?j:S)},[]),u=g.useCallback(function(b){var N=b;if(!(!Xa.length||Xa[Xa.length-1]!==i)){var v="deltaY"in N?iP(N):ph(N),_=t.current.filter(function(P){return P.name===N.type&&(P.target===N.target||N.target===P.shadowParent)&&HZ(P.delta,v)})[0];if(_&&_.should){N.cancelable&&N.preventDefault();return}if(!_){var j=(o.current.shards||[]).map(oP).filter(Boolean).filter(function(P){return P.contains(N.target)}),S=j.length>0?l(N,j[0]):!o.current.noIsolation;S&&N.cancelable&&N.preventDefault()}}},[]),d=g.useCallback(function(b,N,v,_){var j={name:b,delta:N,target:v,should:_,shadowParent:ZZ(v)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(S){return S!==j})},1)},[]),f=g.useCallback(function(b){n.current=ph(b),r.current=void 0},[]),h=g.useCallback(function(b){d(b.type,iP(b),b.target,l(b,e.lockRef.current))},[]),p=g.useCallback(function(b){d(b.type,ph(b),b.target,l(b,e.lockRef.current))},[]);g.useEffect(function(){return Xa.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",u,Ka),document.addEventListener("touchmove",u,Ka),document.addEventListener("touchstart",f,Ka),function(){Xa=Xa.filter(function(b){return b!==i}),document.removeEventListener("wheel",u,Ka),document.removeEventListener("touchmove",u,Ka),document.removeEventListener("touchstart",f,Ka)}},[]);var y=e.removeScrollBar,w=e.inert;return g.createElement(g.Fragment,null,w?g.createElement(i,{styles:GZ(s)}):null,y?g.createElement(OZ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ZZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KZ=NZ(XR,YZ);var n4=g.forwardRef(function(e,t){return g.createElement(hg,ks({},e,{ref:t,sideCar:KZ}))});n4.classNames=hg.classNames;var XZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ja=new WeakMap,mh=new WeakMap,gh={},ux=0,r4=function(e){return e&&(e.host||r4(e.parentNode))},JZ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=r4(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},QZ=function(e,t,n,r){var s=JZ(t,Array.isArray(e)?e:[e]);gh[n]||(gh[n]=new WeakMap);var i=gh[n],o=[],l=new Set,u=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))f(p);else try{var y=p.getAttribute(r),w=y!==null&&y!=="false",b=(Ja.get(p)||0)+1,N=(i.get(p)||0)+1;Ja.set(p,b),i.set(p,N),o.push(p),b===1&&w&&mh.set(p,!0),N===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return f(t),l.clear(),ux++,function(){o.forEach(function(h){var p=Ja.get(h)-1,y=i.get(h)-1;Ja.set(h,p),i.set(h,y),p||(mh.has(h)||h.removeAttribute(r),mh.delete(h)),y||h.removeAttribute(n)}),ux--,ux||(Ja=new WeakMap,Ja=new WeakMap,mh=new WeakMap,gh={})}},eK=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=XZ(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),QZ(r,s,n,"aria-hidden")):function(){return null}};function tK(e){const t=nK(e),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,l=g.Children.toArray(i),u=l.find(sK);if(u){const d=u.props.children,f=l.map(h=>h===u?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:h);return a.jsx(t,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,f):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function nK(e){const t=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=oK(s),l=iK(i,s.props);return s.type!==g.Fragment&&(l.ref=r?og(r,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rK=Symbol("radix.slottable");function sK(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rK}function iK(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function oK(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pg="Dialog",[s4]=AY(pg),[aK,ms]=s4(pg),i4=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),u=g.useRef(null),[d,f]=$Y({prop:r,defaultProp:s??!1,onChange:i,caller:pg});return a.jsx(aK,{scope:t,triggerRef:l,contentRef:u,contentId:rx(),titleId:rx(),descriptionId:rx(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};i4.displayName=pg;var o4="DialogTrigger",lK=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ms(o4,n),i=Ia(t,s.triggerRef);return a.jsx(Ai.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cj(s.open),...r,ref:i,onClick:uo(e.onClick,s.onOpenToggle)})});lK.displayName=o4;var aj="DialogPortal",[cK,a4]=s4(aj,{forceMount:void 0}),l4=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=ms(aj,t);return a.jsx(cK,{scope:t,forceMount:n,children:g.Children.map(r,o=>a.jsx(fg,{present:n||i.open,children:a.jsx(YR,{asChild:!0,container:s,children:o})}))})};l4.displayName=aj;var Gp="DialogOverlay",c4=g.forwardRef((e,t)=>{const n=a4(Gp,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=ms(Gp,e.__scopeDialog);return i.modal?a.jsx(fg,{present:r||i.open,children:a.jsx(dK,{...s,ref:t})}):null});c4.displayName=Gp;var uK=tK("DialogOverlay.RemoveScroll"),dK=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ms(Gp,n);return a.jsx(n4,{as:uK,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ai.div,{"data-state":cj(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),va="DialogContent",u4=g.forwardRef((e,t)=>{const n=a4(va,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=ms(va,e.__scopeDialog);return a.jsx(fg,{present:r||i.open,children:i.modal?a.jsx(fK,{...s,ref:t}):a.jsx(hK,{...s,ref:t})})});u4.displayName=va;var fK=g.forwardRef((e,t)=>{const n=ms(va,e.__scopeDialog),r=g.useRef(null),s=Ia(t,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return eK(i)},[]),a.jsx(d4,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:uo(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:uo(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:uo(e.onFocusOutside,i=>i.preventDefault())})}),hK=g.forwardRef((e,t)=>{const n=ms(va,e.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(d4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),d4=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=ms(va,n),u=g.useRef(null),d=Ia(t,u);return pZ(),a.jsxs(a.Fragment,{children:[a.jsx(GR,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(WR,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cj(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(pK,{titleId:l.titleId}),a.jsx(gK,{contentRef:u,descriptionId:l.descriptionId})]})]})}),lj="DialogTitle",f4=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ms(lj,n);return a.jsx(Ai.h2,{id:s.titleId,...r,ref:t})});f4.displayName=lj;var h4="DialogDescription",p4=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ms(h4,n);return a.jsx(Ai.p,{id:s.descriptionId,...r,ref:t})});p4.displayName=h4;var m4="DialogClose",g4=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ms(m4,n);return a.jsx(Ai.button,{type:"button",...r,ref:t,onClick:uo(e.onClick,()=>s.onOpenChange(!1))})});g4.displayName=m4;function cj(e){return e?"open":"closed"}var y4="DialogTitleWarning",[Jme,x4]=DY(y4,{contentName:va,titleName:lj,docsSlug:"dialog"}),pK=({titleId:e})=>{const t=x4(y4),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},mK="DialogDescriptionWarning",gK=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${x4(mK).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},yK=i4,xK=l4,v4=c4,b4=u4,w4=f4,_4=p4,vK=g4;const vw=yK,bK=xK,j4=g.forwardRef(({className:e,...t},n)=>a.jsx(v4,{ref:n,className:tn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));j4.displayName=v4.displayName;const qp=g.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(bK,{children:[a.jsx(j4,{}),a.jsxs(b4,{ref:r,className:tn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(vK,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Wn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qp.displayName=b4.displayName;const bw=({className:e,...t})=>a.jsx("div",{className:tn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});bw.displayName="DialogHeader";const ww=({className:e,...t})=>a.jsx("div",{className:tn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ww.displayName="DialogFooter";const Yp=g.forwardRef(({className:e,...t},n)=>a.jsx(w4,{ref:n,className:tn("text-lg font-semibold leading-none tracking-tight",e),...t}));Yp.displayName=w4.displayName;const wK=g.forwardRef(({className:e,...t},n)=>a.jsx(_4,{ref:n,className:tn("text-sm text-muted-foreground",e),...t}));wK.displayName=_4.displayName;const aP=({title:e,description:t,icon:n,onClick:r,gradientColors:s})=>{const i=lo(0),o=lo(0),l=Fp(o,[-300,300],[10,-10]),u=Fp(i,[-300,300],[-10,10]),d=lo(s[0]);g.useEffect(()=>{zI(d,s,{ease:"easeInOut",duration:10,repeat:1/0,repeatType:"mirror"})},[s]);const f=OI`radial-gradient(circle at 50% 0%, ${d} 0%, transparent 70%)`,h=y=>{const w=y.currentTarget.getBoundingClientRect();i.set(y.clientX-w.left-w.width/2),o.set(y.clientY-w.top-w.height/2)},p=()=>{i.set(0),o.set(0)};return a.jsx(Y.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6},viewport:{once:!0},className:"w-full max-w-sm relative z-10",style:{perspective:1500},children:a.jsx(Y.div,{className:"relative cursor-pointer",style:{rotateX:l,rotateY:u},onMouseMove:h,onMouseLeave:p,whileHover:{z:10},onClick:r,children:a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:"absolute -inset-[1px] rounded-2xl overflow-hidden",children:[a.jsx(Y.div,{className:"absolute top-0 left-0 h-[3px] w-[50%] bg-gradient-to-r from-transparent via-white to-transparent opacity-70",initial:{filter:"blur(2px)"},animate:{left:["-50%","100%"]},transition:{duration:2.5,ease:"linear",repeat:1/0,repeatDelay:1}}),a.jsx(Y.div,{className:"absolute top-0 right-0 h-[50%] w-[3px] bg-gradient-to-b from-transparent via-white to-transparent opacity-70",initial:{filter:"blur(2px)"},animate:{top:["-50%","100%"]},transition:{duration:2.5,ease:"linear",repeat:1/0,repeatDelay:1,delay:.6}})]}),a.jsx("div",{className:"absolute -inset-[0.5px] rounded-2xl bg-gradient-to-r from-white/10 via-white/30 to-white/10 opacity-0 group-hover:opacity-70 transition-opacity duration-500"}),a.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-2xl p-8 border border-white/[0.05] shadow-2xl overflow-hidden text-center",children:[a.jsx(Y.div,{className:"absolute inset-0 opacity-20",style:{backgroundImage:f}}),a.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(135deg, white 0.5px, transparent 0.5px), linear-gradient(45deg, white 0.5px, transparent 0.5px)",backgroundSize:"30px 30px"}}),a.jsx("div",{className:"relative mx-auto w-16 h-16 rounded-full border border-white/10 flex items-center justify-center overflow-hidden mb-4",children:a.jsx(n,{className:"w-8 h-8 text-white/80"})}),a.jsx("h2",{className:"relative text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-b from-white to-white/80 mb-2",children:e}),a.jsx("p",{className:"relative text-white/60 text-sm mb-6",children:t}),a.jsx(an,{variant:"secondary",className:"relative w-full bg-white/10 hover:bg-white/20 text-white",children:"Access Portal"})]})]})})})};var uj={exports:{}},N4=function(t,n){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return t.apply(n,s)}},_K=N4,Ra=Object.prototype.toString;function dj(e){return Ra.call(e)==="[object Array]"}function _w(e){return typeof e>"u"}function jK(e){return e!==null&&!_w(e)&&e.constructor!==null&&!_w(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function NK(e){return Ra.call(e)==="[object ArrayBuffer]"}function SK(e){return typeof FormData<"u"&&e instanceof FormData}function kK(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function CK(e){return typeof e=="string"}function PK(e){return typeof e=="number"}function S4(e){return e!==null&&typeof e=="object"}function rp(e){if(Ra.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function TK(e){return Ra.call(e)==="[object Date]"}function EK(e){return Ra.call(e)==="[object File]"}function MK(e){return Ra.call(e)==="[object Blob]"}function k4(e){return Ra.call(e)==="[object Function]"}function DK(e){return S4(e)&&k4(e.pipe)}function AK(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function LK(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function IK(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function fj(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),dj(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function jw(){var e={};function t(s,i){rp(e[i])&&rp(s)?e[i]=jw(e[i],s):rp(s)?e[i]=jw({},s):dj(s)?e[i]=s.slice():e[i]=s}for(var n=0,r=arguments.length;n<r;n++)fj(arguments[n],t);return e}function RK(e,t,n){return fj(t,function(s,i){n&&typeof s=="function"?e[i]=_K(s,n):e[i]=s}),e}function OK(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var _r={isArray:dj,isArrayBuffer:NK,isBuffer:jK,isFormData:SK,isArrayBufferView:kK,isString:CK,isNumber:PK,isObject:S4,isPlainObject:rp,isUndefined:_w,isDate:TK,isFile:EK,isBlob:MK,isFunction:k4,isStream:DK,isURLSearchParams:AK,isStandardBrowserEnv:IK,forEach:fj,merge:jw,extend:RK,trim:LK,stripBOM:OK},Qa=_r;function lP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var C4=function(t,n,r){if(!n)return t;var s;if(r)s=r(n);else if(Qa.isURLSearchParams(n))s=n.toString();else{var i=[];Qa.forEach(n,function(u,d){u===null||typeof u>"u"||(Qa.isArray(u)?d=d+"[]":u=[u],Qa.forEach(u,function(h){Qa.isDate(h)?h=h.toISOString():Qa.isObject(h)&&(h=JSON.stringify(h)),i.push(lP(d)+"="+lP(h))}))}),s=i.join("&")}if(s){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t},$K=_r;function mg(){this.handlers=[]}mg.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};mg.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};mg.prototype.forEach=function(t){$K.forEach(this.handlers,function(r){r!==null&&t(r)})};var FK=mg,zK=_r,BK=function(t,n){zK.forEach(t,function(s,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(t[n]=s,delete t[i])})},P4=function(t,n,r,s,i){return t.config=n,r&&(t.code=r),t.request=s,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},dx,cP;function T4(){if(cP)return dx;cP=1;var e=P4;return dx=function(n,r,s,i,o){var l=new Error(n);return e(l,r,s,i,o)},dx}var fx,uP;function VK(){if(uP)return fx;uP=1;var e=T4();return fx=function(n,r,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?n(s):r(e("Request failed with status code "+s.status,s.config,null,s.request,s))},fx}var hx,dP;function UK(){if(dP)return hx;dP=1;var e=_r;return hx=e.isStandardBrowserEnv()?function(){return{write:function(r,s,i,o,l,u){var d=[];d.push(r+"="+encodeURIComponent(s)),e.isNumber(i)&&d.push("expires="+new Date(i).toGMTString()),e.isString(o)&&d.push("path="+o),e.isString(l)&&d.push("domain="+l),u===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(r){var s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),hx}var px,fP;function WK(){return fP||(fP=1,px=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}),px}var mx,hP;function HK(){return hP||(hP=1,mx=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}),mx}var gx,pP;function GK(){if(pP)return gx;pP=1;var e=WK(),t=HK();return gx=function(r,s){return r&&!e(s)?t(r,s):s},gx}var yx,mP;function qK(){if(mP)return yx;mP=1;var e=_r,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return yx=function(r){var s={},i,o,l;return r&&e.forEach(r.split(`
`),function(d){if(l=d.indexOf(":"),i=e.trim(d.substr(0,l)).toLowerCase(),o=e.trim(d.substr(l+1)),i){if(s[i]&&t.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},yx}var xx,gP;function YK(){if(gP)return xx;gP=1;var e=_r;return xx=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),s;function i(o){var l=o;return n&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=i(window.location.href),function(l){var u=e.isString(l)?i(l):l;return u.protocol===s.protocol&&u.host===s.host}}():function(){return function(){return!0}}(),xx}var vx,yP;function gg(){if(yP)return vx;yP=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,vx=e,vx}var bx,xP;function vP(){if(xP)return bx;xP=1;var e=_r,t=VK(),n=UK(),r=C4,s=GK(),i=qK(),o=YK(),l=T4(),u=yg(),d=gg();return bx=function(h){return new Promise(function(y,w){var b=h.data,N=h.headers,v=h.responseType,_;function j(){h.cancelToken&&h.cancelToken.unsubscribe(_),h.signal&&h.signal.removeEventListener("abort",_)}e.isFormData(b)&&delete N["Content-Type"];var S=new XMLHttpRequest;if(h.auth){var P=h.auth.username||"",E=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";N.Authorization="Basic "+btoa(P+":"+E)}var C=s(h.baseURL,h.url);S.open(h.method.toUpperCase(),r(C,h.params,h.paramsSerializer),!0),S.timeout=h.timeout;function T(){if(S){var R="getAllResponseHeaders"in S?i(S.getAllResponseHeaders()):null,F=!v||v==="text"||v==="json"?S.responseText:S.response,A={data:F,status:S.status,statusText:S.statusText,headers:R,config:h,request:S};t(function($){y($),j()},function($){w($),j()},A),S=null}}if("onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(w(l("Request aborted",h,"ECONNABORTED",S)),S=null)},S.onerror=function(){w(l("Network Error",h,null,S)),S=null},S.ontimeout=function(){var F=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded",A=h.transitional||u.transitional;h.timeoutErrorMessage&&(F=h.timeoutErrorMessage),w(l(F,h,A.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",S)),S=null},e.isStandardBrowserEnv()){var D=(h.withCredentials||o(C))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;D&&(N[h.xsrfHeaderName]=D)}"setRequestHeader"in S&&e.forEach(N,function(F,A){typeof b>"u"&&A.toLowerCase()==="content-type"?delete N[A]:S.setRequestHeader(A,F)}),e.isUndefined(h.withCredentials)||(S.withCredentials=!!h.withCredentials),v&&v!=="json"&&(S.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&S.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",h.onUploadProgress),(h.cancelToken||h.signal)&&(_=function(R){S&&(w(!R||R&&R.type?new d("canceled"):R),S.abort(),S=null)},h.cancelToken&&h.cancelToken.subscribe(_),h.signal&&(h.signal.aborted?_():h.signal.addEventListener("abort",_))),b||(b=null),S.send(b)})},bx}var wx,bP;function yg(){if(bP)return wx;bP=1;var e=_r,t=BK,n=P4,r={"Content-Type":"application/x-www-form-urlencoded"};function s(u,d){!e.isUndefined(u)&&e.isUndefined(u["Content-Type"])&&(u["Content-Type"]=d)}function i(){var u;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(u=vP()),u}function o(u,d,f){if(e.isString(u))try{return(d||JSON.parse)(u),e.trim(u)}catch(h){if(h.name!=="SyntaxError")throw h}return(f||JSON.stringify)(u)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:i(),transformRequest:[function(d,f){return t(f,"Accept"),t(f,"Content-Type"),e.isFormData(d)||e.isArrayBuffer(d)||e.isBuffer(d)||e.isStream(d)||e.isFile(d)||e.isBlob(d)?d:e.isArrayBufferView(d)?d.buffer:e.isURLSearchParams(d)?(s(f,"application/x-www-form-urlencoded;charset=utf-8"),d.toString()):e.isObject(d)||f&&f["Content-Type"]==="application/json"?(s(f,"application/json"),o(d)):d}],transformResponse:[function(d){var f=this.transitional||l.transitional,h=f&&f.silentJSONParsing,p=f&&f.forcedJSONParsing,y=!h&&this.responseType==="json";if(y||p&&e.isString(d)&&d.length)try{return JSON.parse(d)}catch(w){if(y)throw w.name==="SyntaxError"?n(w,this,"E_JSON_PARSE"):w}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(d){l.headers[d]={}}),e.forEach(["post","put","patch"],function(d){l.headers[d]=e.merge(r)}),wx=l,wx}var ZK=_r,KK=yg(),XK=function(t,n,r){var s=this||KK;return ZK.forEach(r,function(o){t=o.call(s,t,n)}),t},_x,wP;function E4(){return wP||(wP=1,_x=function(t){return!!(t&&t.__CANCEL__)}),_x}var _P=_r,jx=XK,JK=E4(),QK=yg(),eX=gg();function Nx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eX("canceled")}var tX=function(t){Nx(t),t.headers=t.headers||{},t.data=jx.call(t,t.data,t.headers,t.transformRequest),t.headers=_P.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),_P.forEach(["delete","get","head","post","put","patch","common"],function(s){delete t.headers[s]});var n=t.adapter||QK.adapter;return n(t).then(function(s){return Nx(t),s.data=jx.call(t,s.data,s.headers,t.transformResponse),s},function(s){return JK(s)||(Nx(t),s&&s.response&&(s.response.data=jx.call(t,s.response.data,s.response.headers,t.transformResponse))),Promise.reject(s)})},ar=_r,M4=function(t,n){n=n||{};var r={};function s(f,h){return ar.isPlainObject(f)&&ar.isPlainObject(h)?ar.merge(f,h):ar.isPlainObject(h)?ar.merge({},h):ar.isArray(h)?h.slice():h}function i(f){if(ar.isUndefined(n[f])){if(!ar.isUndefined(t[f]))return s(void 0,t[f])}else return s(t[f],n[f])}function o(f){if(!ar.isUndefined(n[f]))return s(void 0,n[f])}function l(f){if(ar.isUndefined(n[f])){if(!ar.isUndefined(t[f]))return s(void 0,t[f])}else return s(void 0,n[f])}function u(f){if(f in n)return s(t[f],n[f]);if(f in t)return s(void 0,t[f])}var d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u};return ar.forEach(Object.keys(t).concat(Object.keys(n)),function(h){var p=d[h]||i,y=p(h);ar.isUndefined(y)&&p!==u||(r[h]=y)}),r},Sx,jP;function D4(){return jP||(jP=1,Sx={version:"0.24.0"}),Sx}var nX=D4().version,hj={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){hj[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var NP={};hj.transitional=function(t,n,r){function s(i,o){return"[Axios v"+nX+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return function(i,o,l){if(t===!1)throw new Error(s(o," has been removed"+(n?" in "+n:"")));return n&&!NP[o]&&(NP[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};function rX(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),s=r.length;s-- >0;){var i=r[s],o=t[i];if(o){var l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new TypeError("option "+i+" must be "+u);continue}if(n!==!0)throw Error("Unknown option "+i)}}var sX={assertOptions:rX,validators:hj},A4=_r,iX=C4,SP=FK,kP=tX,xg=M4,L4=sX,el=L4.validators;function lf(e){this.defaults=e,this.interceptors={request:new SP,response:new SP}}lf.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=xg(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&L4.assertOptions(n,{silentJSONParsing:el.transitional(el.boolean),forcedJSONParsing:el.transitional(el.boolean),clarifyTimeoutError:el.transitional(el.boolean)},!1);var r=[],s=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(s=s&&p.synchronous,r.unshift(p.fulfilled,p.rejected))});var i=[];this.interceptors.response.forEach(function(p){i.push(p.fulfilled,p.rejected)});var o;if(!s){var l=[kP,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(i),o=Promise.resolve(t);l.length;)o=o.then(l.shift(),l.shift());return o}for(var u=t;r.length;){var d=r.shift(),f=r.shift();try{u=d(u)}catch(h){f(h);break}}try{o=kP(u)}catch(h){return Promise.reject(h)}for(;i.length;)o=o.then(i.shift(),i.shift());return o};lf.prototype.getUri=function(t){return t=xg(this.defaults,t),iX(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};A4.forEach(["delete","get","head","options"],function(t){lf.prototype[t]=function(n,r){return this.request(xg(r||{},{method:t,url:n,data:(r||{}).data}))}});A4.forEach(["post","put","patch"],function(t){lf.prototype[t]=function(n,r,s){return this.request(xg(s||{},{method:t,url:n,data:r}))}});var oX=lf,kx,CP;function aX(){if(CP)return kx;CP=1;var e=gg();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var s=this;this.promise.then(function(i){if(s._listeners){var o,l=s._listeners.length;for(o=0;o<l;o++)s._listeners[o](i);s._listeners=null}}),this.promise.then=function(i){var o,l=new Promise(function(u){s.subscribe(u),o=u}).then(i);return l.cancel=function(){s.unsubscribe(o)},l},n(function(o){s.reason||(s.reason=new e(o),r(s.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},t.prototype.unsubscribe=function(r){if(this._listeners){var s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}},t.source=function(){var r,s=new t(function(o){r=o});return{token:s,cancel:r}},kx=t,kx}var Cx,PP;function lX(){return PP||(PP=1,Cx=function(t){return function(r){return t.apply(null,r)}}),Cx}var Px,TP;function cX(){return TP||(TP=1,Px=function(t){return typeof t=="object"&&t.isAxiosError===!0}),Px}var EP=_r,uX=N4,sp=oX,dX=M4,fX=yg();function I4(e){var t=new sp(e),n=uX(sp.prototype.request,t);return EP.extend(n,sp.prototype,t),EP.extend(n,t),n.create=function(s){return I4(dX(e,s))},n}var Hs=I4(fX);Hs.Axios=sp;Hs.Cancel=gg();Hs.CancelToken=aX();Hs.isCancel=E4();Hs.VERSION=D4().version;Hs.all=function(t){return Promise.all(t)};Hs.spread=lX();Hs.isAxiosError=cX();uj.exports=Hs;uj.exports.default=Hs;var hX=uj.exports,pX=hX;const MP=gn(pX),mX=()=>a.jsxs("div",{className:"relative w-48 h-48 mx-auto",children:[a.jsx(Y.div,{animate:{rotate:360},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute inset-0 w-full h-full bg-gradient-to-r from-blue-500 to-purple-500 opacity-20 blur-2xl rounded-full"}),a.jsx(Y.div,{animate:{rotate:-360},transition:{duration:40,repeat:1/0,ease:"linear"},className:"absolute inset-4 w-40 h-40 bg-gradient-to-r from-pink-500 to-indigo-500 opacity-20 blur-2xl rounded-full"})]}),DP=[{question:"Find Bhagesh Biradar's latest lab results",answer:"Example Answer: Bhagesh Biradar's latest lab results from yesterday show a Cholesterol level of 195 mg/dL and Blood Glucose at 95 mg/dL. All other values are within normal ranges."},{question:"Show bed availability in Ward C",answer:"Example Answer: There are currently 3 beds available in Ward C: C-102, C-105, and C-112."},{question:"What is Dr. Smith's schedule for tomorrow?",answer:"Example Answer: Dr. Smith is scheduled for rounds from 9 AM to 11 AM and has appointments from 2 PM to 5 PM tomorrow."}],gX=()=>{const[e,t]=g.useState(""),[n,r]=g.useState(!1),[s,i]=g.useState(""),[o,l]=g.useState("demo"),[u,d]=g.useState(0),[f,h]=g.useState(""),p=g.useRef(null);g.useEffect(()=>{if(o!=="demo")return;let b=!1;const v=setTimeout(async()=>{const _=DP[u];for(let j=0;j<=_.question.length;j++){if(b)return;h(_.question.substring(0,j)),await new Promise(S=>setTimeout(S,50))}b||(await new Promise(j=>setTimeout(j,500)),r(!0),!b&&(await new Promise(j=>setTimeout(j,2e3)),r(!1),i(_.answer),!b&&(await new Promise(j=>setTimeout(j,5e3)),i(""),h(""),d(j=>(j+1)%DP.length))))},1e3);return()=>{b=!0,clearTimeout(v)}},[u,o]);const y=()=>{o==="demo"&&(l("interactive"),h(""),i(""),r(!1),setTimeout(()=>{var b;return(b=p.current)==null?void 0:b.focus()},100))},w=async b=>{var N,v;if(b.preventDefault(),!!e){r(!0),i("");try{const _=[{role:"user",content:e}],j=await MP.post(oe("/api/ai/ask"),{messages:_});i(`Disclaimer: This response is generated by a general AI model and is not based on real hospital data.

`+j.data.reply),setTimeout(()=>{t(""),i("")},1e4)}catch(_){console.error("AI search error:",_),MP.isAxiosError(_)&&!_.response?i("Failed to connect to the AI service. Please check the server and network."):i(((v=(N=_.response)==null?void 0:N.data)==null?void 0:v.error)||"An unknown error occurred.")}finally{r(!1)}}};return a.jsx(Y.section,{id:"ai-search",className:"py-24 bg-background text-foreground relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx(mX,{}),a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mt-8",children:["Shree Medicare, ",a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Powered by Conversational AI"})]}),a.jsx("p",{className:"text-xl text-slate-400 mt-4",children:"This is a demonstration of our new AI assistant. Soon, you'll be able to ask questions about patients, staff schedules, and ward availability to get immediate, accurate answers."}),a.jsx("div",{className:"mt-12 w-full max-w-2xl mx-auto",onClick:y,children:o==="demo"?a.jsxs("div",{className:"relative cursor-pointer",children:[a.jsxs("div",{className:"w-full pl-6 pr-14 py-4 bg-slate-800/50 border border-slate-700 rounded-full shadow-lg text-left",children:[a.jsx("span",{className:"text-lg text-slate-300",children:f}),a.jsx("span",{className:"animate-pulse",children:"|"})]}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-blue-600 rounded-full",children:a.jsx(Fs,{className:"w-5 h-5 text-white"})})]}):a.jsx("form",{onSubmit:w,children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:p,type:"text",value:e,onChange:b=>t(b.target.value),className:"w-full pl-6 pr-14 py-4 bg-slate-800/50 border border-slate-700 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all placeholder:text-slate-500 text-lg",placeholder:"Ask anything..."}),a.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-blue-600 rounded-full hover:bg-blue-700 transition-colors",children:a.jsx(Fs,{className:"w-5 h-5 text-white"})})]})})}),a.jsxs("div",{className:"mt-8 min-h-[150px]",children:[a.jsx(mt,{children:n&&a.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center gap-2 text-slate-400",children:[a.jsx("span",{className:"font-semibold",children:"Thinking"}),a.jsx(Y.div,{animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut"},className:"w-2 h-2 bg-slate-500 rounded-full"}),a.jsx(Y.div,{animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.1},className:"w-2 h-2 bg-slate-500 rounded-full"}),a.jsx(Y.div,{animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.2},className:"w-2 h-2 bg-slate-500 rounded-full"})]})}),a.jsx(mt,{children:s&&a.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"mt-4 p-6 text-left bg-slate-800/50 border border-slate-700 rounded-xl shadow-lg max-w-lg mx-auto",children:a.jsx("div",{className:"text-slate-300 whitespace-pre-wrap",children:s})})})]})]})})};function yX({timelineData:e}){const[t,n]=g.useState({}),[r,s]=g.useState("orbital"),[i,o]=g.useState(0),[l,u]=g.useState(!0),[d,f]=g.useState({}),[h,p]=g.useState({x:0,y:0}),[y,w]=g.useState(null),b=g.useRef(null),N=g.useRef(null),v=g.useRef({}),_=D=>{(D.target===b.current||D.target===N.current)&&(n({}),w(null),f({}),u(!0))},j=D=>{n(R=>{const F={...R};if(Object.keys(F).forEach(A=>{parseInt(A)!==D&&(F[parseInt(A)]=!1)}),F[D]=!R[D],R[D])w(null),u(!0),f({});else{w(D),u(!1);const A=E(D),O={};A.forEach($=>{O[$]=!0}),f(O),S(D)}return F})};g.useEffect(()=>{let D;return l&&r==="orbital"&&(D=setInterval(()=>{o(R=>{const F=(R+.3)%360;return Number(F.toFixed(3))})},50)),()=>{D&&clearInterval(D)}},[l,r]);const S=D=>{if(r!=="orbital"||!v.current[D])return;const R=e.findIndex(O=>O.id===D),F=e.length,A=R/F*360;o(270-A)},P=(D,R)=>{const F=(D/R*360+i)%360,A=200,O=F*Math.PI/180,$=A*Math.cos(O)+h.x,K=A*Math.sin(O)+h.y,te=Math.round(100+50*Math.cos(O)),W=Math.max(.4,Math.min(1,.4+.6*((1+Math.sin(O))/2)));return{x:$,y:K,angle:F,zIndex:te,opacity:W}},E=D=>{const R=e.find(F=>F.id===D);return R?R.relatedIds:[]},C=D=>y?E(y).includes(D):!1,T=D=>{switch(D){case"completed":return"text-white bg-black border-white";case"in-progress":return"text-black bg-white border-black";case"pending":return"text-white bg-black/40 border-white/50";default:return"text-white bg-black/40 border-white/50"}};return a.jsx("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-black overflow-hidden",ref:b,onClick:_,children:a.jsx("div",{className:"relative w-full max-w-4xl h-full flex items-center justify-center",children:a.jsxs("div",{className:"absolute w-full h-full flex items-center justify-center",ref:N,style:{perspective:"1000px",transform:`translate(${h.x}px, ${h.y}px)`},children:[a.jsxs("div",{className:"absolute w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 via-blue-500 to-teal-500 animate-pulse flex items-center justify-center z-10",children:[a.jsx("div",{className:"absolute w-20 h-20 rounded-full border border-white/20 animate-ping opacity-70"}),a.jsx("div",{className:"absolute w-24 h-24 rounded-full border border-white/10 animate-ping opacity-50",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-white/80 backdrop-blur-md"})]}),a.jsx("div",{className:"absolute w-96 h-96 rounded-full border border-white/10"}),e.map((D,R)=>{const F=P(R,e.length),A=t[D.id],O=C(D.id),$=d[D.id],K=D.icon,te={transform:`translate(${F.x}px, ${F.y}px)`,zIndex:A?200:F.zIndex,opacity:A?1:F.opacity};return a.jsxs("div",{ref:W=>v.current[D.id]=W,className:"absolute transition-all duration-700 cursor-pointer",style:te,onClick:W=>{W.stopPropagation(),j(D.id)},children:[a.jsx("div",{className:`absolute rounded-full -inset-1 ${$?"animate-pulse duration-1000":""}`,style:{background:"radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%)",width:`${D.energy*.5+40}px`,height:`${D.energy*.5+40}px`,left:`-${(D.energy*.5+40-40)/2}px`,top:`-${(D.energy*.5+40-40)/2}px`}}),a.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center
                  ${A?"bg-white text-black":O?"bg-white/50 text-black":"bg-black text-white"}
                  border-2 
                  ${A?"border-white shadow-lg shadow-white/30":O?"border-white animate-pulse":"border-white/40"}
                  transition-all duration-300 transform
                  ${A?"scale-150":""}
                `,children:a.jsx(K,{size:16})}),a.jsx("div",{className:`
                  absolute top-12  whitespace-nowrap
                  text-xs font-semibold tracking-wider
                  transition-all duration-300
                  ${A?"text-white scale-125":"text-white/70"}
                `,children:D.title}),A&&a.jsxs(ia,{className:"absolute top-20 left-1/2 -translate-x-1/2 w-64 bg-black/90 backdrop-blur-lg border-white/30 shadow-xl shadow-white/10 overflow-visible",children:[a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-px h-3 bg-white/50"}),a.jsxs(oa,{className:"pb-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(VR,{className:`px-2 text-xs ${T(D.status)}`,children:D.status==="completed"?"COMPLETE":D.status==="in-progress"?"IN PROGRESS":"PENDING"}),a.jsx("span",{className:"text-xs font-mono text-white/50",children:D.date})]}),a.jsx(aa,{className:"text-sm mt-2",children:D.title})]}),a.jsxs(la,{className:"text-xs text-white/80",children:[a.jsx("p",{children:D.content}),a.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(gH,{size:10,className:"mr-1"}),"Energy Level"]}),a.jsxs("span",{className:"font-mono",children:[D.energy,"%"]})]}),a.jsx("div",{className:"w-full h-1 bg-white/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500",style:{width:`${D.energy}%`}})})]}),D.relatedIds.length>0&&a.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(iH,{size:10,className:"text-white/70 mr-1"}),a.jsx("h4",{className:"text-xs uppercase tracking-wider font-medium text-white/70",children:"Connected Nodes"})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:D.relatedIds.map(W=>{const z=e.find(V=>V.id===W);return a.jsxs(an,{variant:"outline",size:"sm",className:"flex items-center h-6 px-2 py-0 text-xs rounded-none border-white/20 bg-transparent hover:bg-white/10 text-white/80 hover:text-white transition-all",onClick:V=>{V.stopPropagation(),j(W)},children:[z==null?void 0:z.title,a.jsx(XW,{size:8,className:"ml-1 text-white/60"})]},W)})})]})]})]})]},D.id)})]})})})}function xX(){const e=wr(),{theme:t,toggleTheme:n}=Qe(),[r,s]=g.useState(null),i=g.useRef(null),[o,l]=g.useState(!1);g.useEffect(()=>{new URLSearchParams(window.location.search).get("verified")==="true"&&e("/login/patient")},[e]);const u=[{id:1,title:"Patient Registration",date:"Step 1",content:"Quick and easy patient registration process.",category:"Onboarding",icon:No,relatedIds:[2],status:"completed",energy:100},{id:2,title:"Appointment Booking",date:"Step 2",content:"Schedule appointments with doctors and specialists.",category:"Scheduling",icon:zr,relatedIds:[1,3],status:"completed",energy:90},{id:3,title:"AI Symptom Check",date:"Step 3",content:"Use our AI to check symptoms and get recommendations.",category:"AI Features",icon:en,relatedIds:[2,4],status:"in-progress",energy:60},{id:4,title:"View Medical Records",date:"Step 4",content:"Access your complete medical history securely.",category:"Records",icon:mi,relatedIds:[3,5],status:"pending",energy:30},{id:5,title:"Telemedicine",date:"Step 5",content:"Consult with doctors remotely via video calls.",category:"Consultation",icon:Vp,relatedIds:[4],status:"pending",energy:10}],d=["#60a5fa","#3b82f6","#a78bfa","#8b5cf6","#ec4899"],f=lo(d[0]);g.useEffect(()=>{zI(f,d,{ease:"easeInOut",duration:10,repeat:1/0,repeatType:"mirror"})},[]);const h=OI`radial-gradient(125% 125% at 50% 0%, ${t==="dark"?"#020617":"#f8fafc"} 50%, ${f})`,p=()=>{var y;(y=document.getElementById("features"))==null||y.scrollIntoView({behavior:"smooth"})};return a.jsx("div",{className:t,children:a.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[a.jsx(an,{variant:"outline",size:"icon",className:"fixed right-4 z-50 rounded-full",onClick:n,style:{top:"env(safe-area-inset-top, 1.5rem)"},children:t==="light"?a.jsx(Ma,{className:"h-5 w-5"}):a.jsx(Da,{className:"h-5 w-5"})}),a.jsx(Y.section,{ref:i,style:{backgroundImage:h},className:"relative min-h-screen flex items-center justify-center overflow-hidden p-4",children:a.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsxs(Y.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"space-y-6",children:[a.jsx("img",{src:"/logo.svg",alt:"Shree Medicare Logo",className:"w-24 h-24 mx-auto mb-6 rounded-2xl shadow-lg"}),a.jsxs(VR,{variant:"secondary",className:"mb-4",children:[a.jsx(en,{className:"w-4 h-4 mr-2"}),"Powered by AI & Innovation"]}),a.jsx("h1",{className:"text-4xl sm:text-5xl md:text-7xl font-bold tracking-tight",children:"Shree Medicare: The Future of Healing"}),a.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto",children:"Combining Compassionate Care with Cutting-Edge Technology"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[a.jsx(Tu,{onClick:p,children:"Discover Our Services"}),a.jsx(Tu,{onClick:()=>{var y;return(y=document.getElementById("portals"))==null?void 0:y.scrollIntoView({behavior:"smooth"})},children:"Login"}),a.jsxs(Tu,{onClick:()=>l(!0),children:[a.jsx(en,{className:"w-5 h-5 mr-2"})," AI Symptom Checker"]})]})]})})}),a.jsx(gX,{}),a.jsx(yX,{timelineData:u}),a.jsx(Y.section,{className:"py-24 bg-muted/50 relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Our Location"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Find us at our prime location"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsx("div",{className:"h-[500px] rounded-lg overflow-hidden bg-card border border-border",children:a.jsx("img",{src:"/India.jpg",alt:"Map of Shree Medicare locations in India",className:"w-full h-full object-cover"})}),a.jsx("div",{className:"space-y-6",children:a.jsx(Y.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:a.jsxs(ia,{className:"backdrop-blur-sm bg-card/50 border-border",children:[a.jsx(oa,{children:a.jsxs(aa,{className:"flex items-center",children:[a.jsx(ig,{className:"w-5 h-5 mr-2 text-primary"}),"Shree Medicare Hospital"]})}),a.jsxs(la,{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-muted-foreground flex items-start",children:[a.jsx(sg,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),"96GF+GMJ, Tolnoor, Maharashtra 413227"]}),a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[a.jsx(HI,{className:"w-4 h-4 mr-2"}),"+917483159830"]}),a.jsx(Tu,{onClick:()=>window.open(`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent("96GF+GMJ, Tolnoor, Maharashtra 413227")}`,"_blank"),children:"Get Directions"})]})]})})})]})]})}),a.jsx(Y.section,{id:"portals",className:"py-24 bg-background relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Access Your Portal"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Choose your portal to get started"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[a.jsx(aP,{title:"Patient Portal",description:"Access your medical records, book appointments, and manage your healthcare journey.",icon:zs,onClick:()=>e("/login/patient"),gradientColors:["#3b82f6","#a855f7"]}),a.jsx(aP,{title:"Staff Portal",description:"Manage patient records, appointments, billing, and hospital operations efficiently.",icon:GI,onClick:()=>e("/login/staff"),gradientColors:["#10b980","#06b6d4"]})]})]})}),a.jsx("footer",{className:"py-6 bg-background border-t border-border",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-muted-foreground",children:a.jsx("p",{className:"text-sm",children:" 2025 Shree Medicare . All Rights Reserved. Designed & Developed by  Bhagesh."})})}),a.jsx(vw,{open:!!r,onOpenChange:()=>s(null),children:a.jsxs(qp,{children:[a.jsxs(Yp,{children:["Shree Medicare - ",r==null?void 0:r.name]}),a.jsxs("p",{children:["Details for ",r==null?void 0:r.name," hospital would be shown here."]})]})}),o&&a.jsx(SR,{onClose:()=>l(!1)})]})})}var pj={},Nw={exports:{}};(function(e,t){(function(n,r){r(t)})(po,function(n){var r=function(){return r=Object.assign||function(i){for(var o,l=1,u=arguments.length;l<u;l++)for(var d in o=arguments[l])Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d]);return i},r.apply(this,arguments)},s=function(){function i(o,l,u){var d=this;this.endVal=l,this.options=u,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(f){d.startTime||(d.startTime=f);var h=f-d.startTime;d.remaining=d.duration-h,d.useEasing?d.countDown?d.frameVal=d.startVal-d.easingFn(h,0,d.startVal-d.endVal,d.duration):d.frameVal=d.easingFn(h,d.startVal,d.endVal-d.startVal,d.duration):d.frameVal=d.startVal+(d.endVal-d.startVal)*(h/d.duration);var p=d.countDown?d.frameVal<d.endVal:d.frameVal>d.endVal;d.frameVal=p?d.endVal:d.frameVal,d.frameVal=Number(d.frameVal.toFixed(d.options.decimalPlaces)),d.printValue(d.frameVal),h<d.duration?d.rAF=requestAnimationFrame(d.count):d.finalEndVal!==null?d.update(d.finalEndVal):d.options.onCompleteCallback&&d.options.onCompleteCallback()},this.formatNumber=function(f){var h,p,y,w,b=f<0?"-":"";h=Math.abs(f).toFixed(d.options.decimalPlaces);var N=(h+="").split(".");if(p=N[0],y=N.length>1?d.options.decimal+N[1]:"",d.options.useGrouping){w="";for(var v=3,_=0,j=0,S=p.length;j<S;++j)d.options.useIndianSeparators&&j===4&&(v=2,_=1),j!==0&&_%v==0&&(w=d.options.separator+w),_++,w=p[S-j-1]+w;p=w}return d.options.numerals&&d.options.numerals.length&&(p=p.replace(/[0-9]/g,function(P){return d.options.numerals[+P]}),y=y.replace(/[0-9]/g,function(P){return d.options.numerals[+P]})),b+d.options.prefix+p+y+d.options.suffix},this.easeOutExpo=function(f,h,p,y){return p*(1-Math.pow(2,-10*f/y))*1024/1023+h},this.options=r(r({},this.defaults),u),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof o=="string"?document.getElementById(o):o,l=l??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(l),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,o):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return d.handleScroll(d)}),window.onscroll=function(){window.onScrollFns.forEach(function(f){return f()})},this.handleScroll(this)))}return i.prototype.handleScroll=function(o){if(o&&window&&!o.once){var l=window.innerHeight+window.scrollY,u=o.el.getBoundingClientRect(),d=u.top+window.pageYOffset,f=u.top+u.height+window.pageYOffset;f<l&&f>window.scrollY&&o.paused?(o.paused=!1,setTimeout(function(){return o.start()},o.options.scrollSpyDelay),o.options.scrollSpyOnce&&(o.once=!0)):(window.scrollY>f||d>l)&&!o.paused&&o.reset()}},i.prototype.determineDirectionAndSmartEasing=function(){var o=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>o;var l=o-this.startVal;if(Math.abs(l)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=o;var u=this.countDown?1:-1;this.endVal=o+u*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=o,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},i.prototype.start=function(o){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),o&&(this.options.onCompleteCallback=o),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},i.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},i.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},i.prototype.update=function(o){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(o),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},i.prototype.printValue=function(o){var l;if(this.el){var u=this.formattingFn(o);!((l=this.options.plugin)===null||l===void 0)&&l.render?this.options.plugin.render(this.el,u):this.el.tagName==="INPUT"?this.el.value=u:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=u:this.el.innerHTML=u}},i.prototype.ensureNumber=function(o){return typeof o=="number"&&!isNaN(o)},i.prototype.validateValue=function(o){var l=Number(o);return this.ensureNumber(l)?l:(this.error="[CountUp] invalid start or end value: ".concat(o),null)},i.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},i.prototype.parse=function(o){var l=function(h){return h.replace(/([.,' ])/g,"\\$1")},u=l(this.options.separator),d=l(this.options.decimal),f=o.replace(new RegExp(u,"g"),"").replace(new RegExp(d,"g"),".");return parseFloat(f)},i}();n.CountUp=s})})(Nw,Nw.exports);var vX=Nw.exports;Object.defineProperty(pj,"__esModule",{value:!0});var fn=g,bX=vX;function wX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){NX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jX(e){var t=_X(e,"string");return typeof t=="symbol"?t:String(t)}function NX(e,t,n){return t=jX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sw.apply(this,arguments)}function SX(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function R4(e,t){if(e==null)return{};var n=SX(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kX(e,t){return CX(e)||wX(e,t)||PX(e,t)||TX()}function CX(e){if(Array.isArray(e))return e}function PX(e,t){if(e){if(typeof e=="string")return LP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(e,t)}}function LP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var EX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?fn.useLayoutEffect:fn.useEffect;function Qr(e){var t=fn.useRef(e);return EX(function(){t.current=e}),fn.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current.apply(void 0,r)},[])}var MX=function(t,n){var r=n.decimal,s=n.decimals,i=n.duration,o=n.easingFn,l=n.end,u=n.formattingFn,d=n.numerals,f=n.prefix,h=n.separator,p=n.start,y=n.suffix,w=n.useEasing,b=n.useGrouping,N=n.useIndianSeparators,v=n.enableScrollSpy,_=n.scrollSpyDelay,j=n.scrollSpyOnce,S=n.plugin;return new bX.CountUp(t,l,{startVal:p,duration:i,decimal:r,decimalPlaces:s,easingFn:o,formattingFn:u,numerals:d,separator:h,prefix:f,suffix:y,plugin:S,useEasing:w,useIndianSeparators:N,useGrouping:b,enableScrollSpy:v,scrollSpyDelay:_,scrollSpyOnce:j})},DX=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],AX={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},O4=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(D){var R=kX(D,2),F=R[1];return F!==void 0})),r=fn.useMemo(function(){return Zp(Zp({},AX),n)},[t]),s=r.ref,i=r.startOnMount,o=r.enableReinitialize,l=r.delay,u=r.onEnd,d=r.onStart,f=r.onPauseResume,h=r.onReset,p=r.onUpdate,y=R4(r,DX),w=fn.useRef(),b=fn.useRef(),N=fn.useRef(!1),v=Qr(function(){return MX(typeof s=="string"?s:s.current,y)}),_=Qr(function(D){var R=w.current;if(R&&!D)return R;var F=v();return w.current=F,F}),j=Qr(function(){var D=function(){return _(!0).start(function(){u==null||u({pauseResume:S,reset:P,start:C,update:E})})};l&&l>0?b.current=setTimeout(D,l*1e3):D(),d==null||d({pauseResume:S,reset:P,update:E})}),S=Qr(function(){_().pauseResume(),f==null||f({reset:P,start:C,update:E})}),P=Qr(function(){_().el&&(b.current&&clearTimeout(b.current),_().reset(),h==null||h({pauseResume:S,start:C,update:E}))}),E=Qr(function(D){_().update(D),p==null||p({pauseResume:S,reset:P,start:C})}),C=Qr(function(){P(),j()}),T=Qr(function(D){i&&(D&&P(),j())});return fn.useEffect(function(){N.current?o&&T(!0):(N.current=!0,T())},[o,N,T,l,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),fn.useEffect(function(){return function(){P()}},[P]),{start:C,pauseResume:S,reset:P,update:E,getCountUp:_}},LX=["className","redraw","containerProps","children","style"],IX=function(t){var n=t.className,r=t.redraw,s=t.containerProps,i=t.children,o=t.style,l=R4(t,LX),u=fn.useRef(null),d=fn.useRef(!1),f=O4(Zp(Zp({},l),{},{ref:u,startOnMount:typeof i!="function"||t.delay===0,enableReinitialize:!1})),h=f.start,p=f.reset,y=f.update,w=f.pauseResume,b=f.getCountUp,N=Qr(function(){h()}),v=Qr(function(S){t.preserveValue||p(),y(S)}),_=Qr(function(){if(typeof t.children=="function"&&!(u.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}b()});fn.useEffect(function(){_()},[_]),fn.useEffect(function(){d.current&&v(t.end)},[t.end,v]);var j=r&&t;return fn.useEffect(function(){r&&d.current&&N()},[N,r,j]),fn.useEffect(function(){!r&&d.current&&N()},[N,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),fn.useEffect(function(){d.current=!0},[]),typeof i=="function"?i({countUpRef:u,start:h,reset:p,update:y,pauseResume:w,getCountUp:b}):fn.createElement("span",Sw({className:n,ref:u,style:o},s),typeof t.start<"u"?b().formattingFn(t.start):"")},yh=pj.default=IX;pj.useCountUp=O4;if(typeof window<"u"){const e={get passive(){}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}function vg(){return typeof window<"u"}function Ec(e){return $4(e)?(e.nodeName||"").toLowerCase():"#document"}function mr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gs(e){var t;return(t=($4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $4(e){return vg()?e instanceof Node||e instanceof mr(e).Node:!1}function Vn(e){return vg()?e instanceof Element||e instanceof mr(e).Element:!1}function Bs(e){return vg()?e instanceof HTMLElement||e instanceof mr(e).HTMLElement:!1}function IP(e){return!vg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mr(e).ShadowRoot}const RX=new Set(["inline","contents"]);function cf(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!RX.has(s)}const OX=new Set(["table","td","th"]);function $X(e){return OX.has(Ec(e))}const FX=[":popover-open",":modal"];function bg(e){return FX.some(t=>{try{return e.matches(t)}catch{return!1}})}const zX=["transform","translate","scale","rotate","perspective"],BX=["transform","translate","scale","rotate","perspective","filter"],VX=["paint","layout","strict","content"];function mj(e){const t=gj(),n=Vn(e)?ds(e):e;return zX.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||BX.some(r=>(n.willChange||"").includes(r))||VX.some(r=>(n.contain||"").includes(r))}function UX(e){let t=xo(e);for(;Bs(t)&&!nc(t);){if(mj(t))return t;if(bg(t))return null;t=xo(t)}return null}function gj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WX=new Set(["html","body","#document"]);function nc(e){return WX.has(Ec(e))}function ds(e){return mr(e).getComputedStyle(e)}function wg(e){return Vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xo(e){if(Ec(e)==="html")return e;const t=e.assignedSlot||e.parentNode||IP(e)&&e.host||Gs(e);return IP(t)?t.host:t}function F4(e){const t=xo(e);return nc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bs(t)&&cf(t)?t:F4(t)}function Cd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=F4(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=mr(s);if(i){const l=kw(o);return t.concat(o,o.visualViewport||[],cf(s)?s:[],l&&n?Cd(l):[])}return t.concat(s,Cd(s,[],n))}function kw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const rc=Math.min,ur=Math.max,Kp=Math.round,xh=Math.floor,Is=e=>({x:e,y:e}),HX={left:"right",right:"left",bottom:"top",top:"bottom"},GX={start:"end",end:"start"};function RP(e,t,n){return ur(e,rc(t,n))}function ba(e,t){return typeof e=="function"?e(t):e}function Ci(e){return e.split("-")[0]}function uf(e){return e.split("-")[1]}function yj(e){return e==="x"?"y":"x"}function z4(e){return e==="y"?"height":"width"}const qX=new Set(["top","bottom"]);function Ts(e){return qX.has(Ci(e))?"y":"x"}function B4(e){return yj(Ts(e))}function YX(e,t,n){n===void 0&&(n=!1);const r=uf(e),s=B4(e),i=z4(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Xp(o)),[o,Xp(o)]}function ZX(e){const t=Xp(e);return[Cw(e),t,Cw(t)]}function Cw(e){return e.replace(/start|end/g,t=>GX[t])}const OP=["left","right"],$P=["right","left"],KX=["top","bottom"],XX=["bottom","top"];function JX(e,t,n){switch(e){case"top":case"bottom":return n?t?$P:OP:t?OP:$P;case"left":case"right":return t?KX:XX;default:return[]}}function QX(e,t,n,r){const s=uf(e);let i=JX(Ci(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Cw)))),i}function Xp(e){return e.replace(/left|right|bottom|top/g,t=>HX[t])}function eJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function tJ(e){return typeof e!="number"?eJ(e):{top:e,right:e,bottom:e,left:e}}function Jp(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var V4=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Qp=V4.join(","),U4=typeof Element>"u",wa=U4?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,em=!U4&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Pd=function(t,n){var r;n===void 0&&(n=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=s===""||s==="true",o=i||n&&t&&Pd(t.parentNode);return o},nJ=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},W4=function(t,n,r){if(Pd(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(Qp));return n&&wa.call(t,Qp)&&s.unshift(t),s=s.filter(r),s},tm=function(t,n,r){for(var s=[],i=Array.from(t);i.length;){var o=i.shift();if(!Pd(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),u=l.length?l:o.children,d=tm(u,!0,r);r.flatten?s.push.apply(s,d):s.push({scopeParent:o,candidates:d})}else{var f=wa.call(o,Qp);f&&r.filter(o)&&(n||!t.includes(o))&&s.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),p=!Pd(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&p){var y=tm(h===!0?o.children:h.children,!0,r);r.flatten?s.push.apply(s,y):s.push({scopeParent:o,candidates:y})}else i.unshift.apply(i,o.children)}}return s},H4=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},qi=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||nJ(t))&&!H4(t)?0:t.tabIndex},rJ=function(t,n){var r=qi(t);return r<0&&n&&!H4(t)?0:r},sJ=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},G4=function(t){return t.tagName==="INPUT"},iJ=function(t){return G4(t)&&t.type==="hidden"},oJ=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},aJ=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},lJ=function(t){if(!t.name)return!0;var n=t.form||em(t),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=aJ(s,t.form);return!i||i===t},cJ=function(t){return G4(t)&&t.type==="radio"},uJ=function(t){return cJ(t)&&!lJ(t)},dJ=function(t){var n,r=t&&em(t),s=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var o,l,u;for(i=!!((o=s)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(s)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!i&&s;){var d,f,h;r=em(s),s=(d=r)===null||d===void 0?void 0:d.host,i=!!((f=s)!==null&&f!==void 0&&(h=f.ownerDocument)!==null&&h!==void 0&&h.contains(s))}}return i},FP=function(t){var n=t.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},fJ=function(t,n){var r=n.displayCheck,s=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in t){var i=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(t).visibility==="hidden")return!0;var o=wa.call(t,"details>summary:first-of-type"),l=o?t.parentElement:t;if(wa.call(l,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof s=="function"){for(var u=t;t;){var d=t.parentElement,f=em(t);if(d&&!d.shadowRoot&&s(d)===!0)return FP(t);t.assignedSlot?t=t.assignedSlot:!d&&f!==t.ownerDocument?t=f.host:t=d}t=u}if(dJ(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return FP(t);return!1},hJ=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return wa.call(n,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}n=n.parentElement}return!1},nm=function(t,n){return!(n.disabled||Pd(n)||iJ(n)||fJ(n,t)||oJ(n)||hJ(n))},Pw=function(t,n){return!(uJ(n)||qi(n)<0||!nm(t,n))},pJ=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},q4=function(t){var n=[],r=[];return t.forEach(function(s,i){var o=!!s.scopeParent,l=o?s.scopeParent:s,u=rJ(l,o),d=o?q4(s.candidates):l;u===0?o?n.push.apply(n,d):n.push(l):r.push({documentOrder:i,tabIndex:u,item:s,isScope:o,content:d})}),r.sort(sJ).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(n)},Y4=function(t,n){n=n||{};var r;return n.getShadowRoot?r=tm([t],n.includeContainer,{filter:Pw.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:pJ}):r=W4(t,n.includeContainer,Pw.bind(null,n)),q4(r)},Z4=function(t,n){n=n||{};var r;return n.getShadowRoot?r=tm([t],n.includeContainer,{filter:nm.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=W4(t,n.includeContainer,nm.bind(null,n)),r},Bo=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return wa.call(t,Qp)===!1?!1:Pw(n,t)},mJ=V4.concat("iframe").join(","),ip=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return wa.call(t,mJ)===!1?!1:nm(n,t)};const gJ=Object.freeze(Object.defineProperty({__proto__:null,focusable:Z4,getTabIndex:qi,isFocusable:ip,isTabbable:Bo,tabbable:Y4},Symbol.toStringTag,{value:"Module"}));var yJ=typeof document<"u",xJ=function(){},Tw=yJ?g.useLayoutEffect:xJ;const vJ={...qd},bJ=vJ.useInsertionEffect,wJ=bJ||(e=>e());function _J(e){const t=g.useRef(()=>{});return wJ(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function zP(e,t,n){let{reference:r,floating:s}=e;const i=Ts(t),o=B4(t),l=z4(o),u=Ci(t),d=i==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let y;switch(u){case"top":y={x:f,y:r.y-s.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-s.width,y:h};break;default:y={x:r.x,y:r.y}}switch(uf(t)){case"start":y[o]-=p*(n&&d?-1:1);break;case"end":y[o]+=p*(n&&d?-1:1);break}return y}const jJ=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=zP(d,r,u),p=r,y={},w=0;for(let b=0;b<l.length;b++){const{name:N,fn:v}=l[b],{x:_,y:j,data:S,reset:P}=await v({x:f,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:e,floating:t}});f=_??f,h=j??h,y={...y,[N]:{...y[N],...S}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:f,y:h}=zP(d,p,u)),b=-1)}return{x:f,y:h,placement:p,strategy:s,middlewareData:y}};async function xj(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:y=0}=ba(t,e),w=tJ(y),N=l[p?h==="floating"?"reference":"floating":h],v=Jp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(N)))==null||n?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},P=Jp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:j,strategy:u}):_);return{top:(v.top-P.top+w.top)/S.y,bottom:(P.bottom-v.bottom+w.bottom)/S.y,left:(v.left-P.left+w.left)/S.x,right:(P.right-v.right+w.right)/S.x}}const NJ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...N}=ba(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Ci(s),_=Ts(l),j=Ci(l)===l,S=await(u.isRTL==null?void 0:u.isRTL(d.floating)),P=p||(j||!b?[Xp(l)]:ZX(l)),E=w!=="none";!p&&E&&P.push(...QX(l,b,w,S));const C=[l,...P],T=await xj(t,N),D=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&D.push(T[v]),h){const $=YX(s,o,S);D.push(T[$[0]],T[$[1]])}if(R=[...R,{placement:s,overflows:D}],!D.every($=>$<=0)){var F,A;const $=(((F=i.flip)==null?void 0:F.index)||0)+1,K=C[$];if(K&&(!(h==="alignment"?_!==Ts(K):!1)||R.every(z=>Ts(z.placement)===_?z.overflows[0]>0:!0)))return{data:{index:$,overflows:R},reset:{placement:K}};let te=(A=R.filter(W=>W.overflows[0]<=0).sort((W,z)=>W.overflows[1]-z.overflows[1])[0])==null?void 0:A.placement;if(!te)switch(y){case"bestFit":{var O;const W=(O=R.filter(z=>{if(E){const V=Ts(z.placement);return V===_||V==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(V=>V>0).reduce((V,q)=>V+q,0)]).sort((z,V)=>z[1]-V[1])[0])==null?void 0:O[0];W&&(te=W);break}case"initialPlacement":te=l;break}if(s!==te)return{reset:{placement:te}}}return{}}}},K4=new Set(["left","top"]);async function SJ(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ci(n),l=uf(n),u=Ts(n)==="y",d=K4.has(o)?-1:1,f=i&&u?-1:1,h=ba(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),u?{x:y*f,y:p*d}:{x:p*d,y:y*f}}const kJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=t,u=await SJ(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},CJ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:v,y:_}=N;return{x:v,y:_}}},...u}=ba(e,t),d={x:n,y:r},f=await xj(t,u),h=Ts(Ci(s)),p=yj(h);let y=d[p],w=d[h];if(i){const N=p==="y"?"top":"left",v=p==="y"?"bottom":"right",_=y+f[N],j=y-f[v];y=RP(_,y,j)}if(o){const N=h==="y"?"top":"left",v=h==="y"?"bottom":"right",_=w+f[N],j=w-f[v];w=RP(_,w,j)}const b=l.fn({...t,[p]:y,[h]:w});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[p]:i,[h]:o}}}}}},PJ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=ba(e,t),f={x:n,y:r},h=Ts(s),p=yj(h);let y=f[p],w=f[h];const b=ba(l,t),N=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const j=p==="y"?"height":"width",S=i.reference[p]-i.floating[j]+N.mainAxis,P=i.reference[p]+i.reference[j]-N.mainAxis;y<S?y=S:y>P&&(y=P)}if(d){var v,_;const j=p==="y"?"width":"height",S=K4.has(Ci(s)),P=i.reference[h]-i.floating[j]+(S&&((v=o.offset)==null?void 0:v[h])||0)+(S?0:N.crossAxis),E=i.reference[h]+i.reference[j]+(S?0:((_=o.offset)==null?void 0:_[h])||0)-(S?N.crossAxis:0);w<P?w=P:w>E&&(w=E)}return{[p]:y,[h]:w}}}},TJ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:u=()=>{},...d}=ba(e,t),f=await xj(t,d),h=Ci(s),p=uf(s),y=Ts(s)==="y",{width:w,height:b}=i.floating;let N,v;h==="top"||h==="bottom"?(N=h,v=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,N=p==="end"?"top":"bottom");const _=b-f.top-f.bottom,j=w-f.left-f.right,S=rc(b-f[N],_),P=rc(w-f[v],j),E=!t.middlewareData.shift;let C=S,T=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=_),E&&!p){const R=ur(f.left,0),F=ur(f.right,0),A=ur(f.top,0),O=ur(f.bottom,0);y?T=w-2*(R!==0||F!==0?R+F:ur(f.left,f.right)):C=b-2*(A!==0||O!==0?A+O:ur(f.top,f.bottom))}await u({...t,availableWidth:T,availableHeight:C});const D=await o.getDimensions(l.floating);return w!==D.width||b!==D.height?{reset:{rects:!0}}:{}}}};function X4(e){const t=ds(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Bs(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=Kp(n)!==i||Kp(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function vj(e){return Vn(e)?e:e.contextElement}function Rl(e){const t=vj(e);if(!Bs(t))return Is(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=X4(t);let o=(i?Kp(n.width):n.width)/r,l=(i?Kp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const EJ=Is(0);function J4(e){const t=mr(e);return!gj()||!t.visualViewport?EJ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MJ(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==mr(e)?!1:t}function _a(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=vj(e);let o=Is(1);t&&(r?Vn(r)&&(o=Rl(r)):o=Rl(e));const l=MJ(i,n,r)?J4(i):Is(0);let u=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const p=mr(i),y=r&&Vn(r)?mr(r):r;let w=p,b=kw(w);for(;b&&r&&y!==w;){const N=Rl(b),v=b.getBoundingClientRect(),_=ds(b),j=v.left+(b.clientLeft+parseFloat(_.paddingLeft))*N.x,S=v.top+(b.clientTop+parseFloat(_.paddingTop))*N.y;u*=N.x,d*=N.y,f*=N.x,h*=N.y,u+=j,d+=S,w=mr(b),b=kw(w)}}return Jp({width:f,height:h,x:u,y:d})}function _g(e,t){const n=wg(e).scrollLeft;return t?t.left+n:_a(Gs(e)).left+n}function Q4(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-_g(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function DJ(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Gs(r),l=t?bg(t.floating):!1;if(r===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},d=Is(1);const f=Is(0),h=Bs(r);if((h||!h&&!i)&&((Ec(r)!=="body"||cf(o))&&(u=wg(r)),Bs(r))){const y=_a(r);d=Rl(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const p=o&&!h&&!i?Q4(o,u):Is(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+p.x,y:n.y*d.y-u.scrollTop*d.y+f.y+p.y}}function AJ(e){return Array.from(e.getClientRects())}function LJ(e){const t=Gs(e),n=wg(e),r=e.ownerDocument.body,s=ur(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ur(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_g(e);const l=-n.scrollTop;return ds(r).direction==="rtl"&&(o+=ur(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const BP=25;function IJ(e,t){const n=mr(e),r=Gs(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const f=gj();(!f||f&&t==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}const d=_g(r);if(d<=0){const f=r.ownerDocument,h=f.body,p=getComputedStyle(h),y=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(r.clientWidth-h.clientWidth-y);w<=BP&&(i-=w)}else d<=BP&&(i+=d);return{width:i,height:o,x:l,y:u}}const RJ=new Set(["absolute","fixed"]);function OJ(e,t){const n=_a(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Bs(e)?Rl(e):Is(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:l,x:u,y:d}}function VP(e,t,n){let r;if(t==="viewport")r=IJ(e,n);else if(t==="document")r=LJ(Gs(e));else if(Vn(t))r=OJ(t,n);else{const s=J4(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Jp(r)}function eO(e,t){const n=xo(e);return n===t||!Vn(n)||nc(n)?!1:ds(n).position==="fixed"||eO(n,t)}function $J(e,t){const n=t.get(e);if(n)return n;let r=Cd(e,[],!1).filter(l=>Vn(l)&&Ec(l)!=="body"),s=null;const i=ds(e).position==="fixed";let o=i?xo(e):e;for(;Vn(o)&&!nc(o);){const l=ds(o),u=mj(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&RJ.has(s.position)||cf(o)&&!u&&eO(e,o))?r=r.filter(f=>f!==o):s=l,o=xo(o)}return t.set(e,r),r}function FJ(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?bg(t)?[]:$J(t,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,f)=>{const h=VP(t,f,s);return d.top=ur(h.top,d.top),d.right=rc(h.right,d.right),d.bottom=rc(h.bottom,d.bottom),d.left=ur(h.left,d.left),d},VP(t,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function zJ(e){const{width:t,height:n}=X4(e);return{width:t,height:n}}function BJ(e,t,n){const r=Bs(t),s=Gs(t),i=n==="fixed",o=_a(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const u=Is(0);function d(){u.x=_g(s)}if(r||!r&&!i)if((Ec(t)!=="body"||cf(s))&&(l=wg(t)),r){const y=_a(t,!0,i,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else s&&d();i&&!r&&s&&d();const f=s&&!r&&!i?Q4(s,l):Is(0),h=o.left+l.scrollLeft-u.x-f.x,p=o.top+l.scrollTop-u.y-f.y;return{x:h,y:p,width:o.width,height:o.height}}function Tx(e){return ds(e).position==="static"}function UP(e,t){if(!Bs(e)||ds(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Gs(e)===n&&(n=n.ownerDocument.body),n}function tO(e,t){const n=mr(e);if(bg(e))return n;if(!Bs(e)){let s=xo(e);for(;s&&!nc(s);){if(Vn(s)&&!Tx(s))return s;s=xo(s)}return n}let r=UP(e,t);for(;r&&$X(r)&&Tx(r);)r=UP(r,t);return r&&nc(r)&&Tx(r)&&!mj(r)?n:r||UX(e)||n}const VJ=async function(e){const t=this.getOffsetParent||tO,n=this.getDimensions,r=await n(e.floating);return{reference:BJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UJ(e){return ds(e).direction==="rtl"}const WJ={convertOffsetParentRelativeRectToViewportRelativeRect:DJ,getDocumentElement:Gs,getClippingRect:FJ,getOffsetParent:tO,getElementRects:VJ,getClientRects:AJ,getDimensions:zJ,getScale:Rl,isElement:Vn,isRTL:UJ};function nO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HJ(e,t){let n=null,r;const s=Gs(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:p,height:y}=d;if(l||t(),!p||!y)return;const w=xh(h),b=xh(s.clientWidth-(f+p)),N=xh(s.clientHeight-(h+y)),v=xh(f),j={rootMargin:-w+"px "+-b+"px "+-N+"px "+-v+"px",threshold:ur(0,rc(1,u))||1};let S=!0;function P(E){const C=E[0].intersectionRatio;if(C!==u){if(!S)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!nO(d,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(P,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,j)}n.observe(e)}return o(!0),i}function GJ(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=vj(e),f=s||i?[...d?Cd(d):[],...Cd(t)]:[];f.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=d&&l?HJ(d,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(v=>{let[_]=v;_&&_.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(t)})),n()}),d&&!u&&y.observe(d),y.observe(t));let w,b=u?_a(e):null;u&&N();function N(){const v=_a(e);b&&!nO(b,v)&&n(),b=v,w=requestAnimationFrame(N)}return n(),()=>{var v;f.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(v=y)==null||v.disconnect(),y=null,u&&cancelAnimationFrame(w)}}const Mc=kJ,qJ=CJ,rO=NJ,YJ=TJ,ZJ=PJ,KJ=(e,t,n)=>{const r=new Map,s={platform:WJ,...n},i={...s.platform,_c:r};return jJ(e,t,{...s,platform:i})};var XJ=typeof document<"u",JJ=function(){},op=XJ?g.useLayoutEffect:JJ;function rm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!rm(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!rm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function sO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function WP(e,t){const n=sO(e);return Math.round(t*n)/n}function Ex(e){const t=g.useRef(e);return op(()=>{t.current=e}),t}function QJ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,h]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=g.useState(r);rm(p,r)||y(r);const[w,b]=g.useState(null),[N,v]=g.useState(null),_=g.useCallback(z=>{z!==E.current&&(E.current=z,b(z))},[]),j=g.useCallback(z=>{z!==C.current&&(C.current=z,v(z))},[]),S=i||w,P=o||N,E=g.useRef(null),C=g.useRef(null),T=g.useRef(f),D=u!=null,R=Ex(u),F=Ex(s),A=Ex(d),O=g.useCallback(()=>{if(!E.current||!C.current)return;const z={placement:t,strategy:n,middleware:p};F.current&&(z.platform=F.current),KJ(E.current,C.current,z).then(V=>{const q={...V,isPositioned:A.current!==!1};$.current&&!rm(T.current,q)&&(T.current=q,Di.flushSync(()=>{h(q)}))})},[p,t,n,F,A]);op(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[d]);const $=g.useRef(!1);op(()=>($.current=!0,()=>{$.current=!1}),[]),op(()=>{if(S&&(E.current=S),P&&(C.current=P),S&&P){if(R.current)return R.current(S,P,O);O()}},[S,P,O,R,D]);const K=g.useMemo(()=>({reference:E,floating:C,setReference:_,setFloating:j}),[_,j]),te=g.useMemo(()=>({reference:S,floating:P}),[S,P]),W=g.useMemo(()=>{const z={position:n,left:0,top:0};if(!te.floating)return z;const V=WP(te.floating,f.x),q=WP(te.floating,f.y);return l?{...z,transform:"translate("+V+"px, "+q+"px)",...sO(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:q}},[n,l,te.floating,f.x,f.y]);return g.useMemo(()=>({...f,update:O,refs:K,elements:te,floatingStyles:W}),[f,O,K,te,W])}const eQ=(e,t)=>({...qJ(e),options:[e,t]}),tQ=(e,t)=>({...ZJ(e),options:[e,t]}),nQ=(e,t)=>({...rO(e),options:[e,t]}),HP=(e,t)=>({...YJ(e),options:[e,t]}),rQ={...qd};let GP=!1,sQ=0;const qP=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+sQ++;function iQ(){const[e,t]=g.useState(()=>GP?qP():void 0);return Tw(()=>{e==null&&t(qP())},[]),g.useEffect(()=>{GP=!0},[]),e}const oQ=rQ.useId,aQ=oQ||iQ;function lQ(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(s=>s(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const cQ=g.createContext(null),uQ=g.createContext(null),dQ=()=>{var e;return((e=g.useContext(cQ))==null?void 0:e.id)||null},fQ=()=>g.useContext(uQ);function hQ(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=aQ(),i=g.useRef({}),[o]=g.useState(()=>lQ()),l=dQ()!=null,[u,d]=g.useState(r.reference),f=_J((y,w,b)=>{i.current.openEvent=y?w:void 0,o.emit("openchange",{open:y,event:w,reason:b,nested:l}),n==null||n(y,w,b)}),h=g.useMemo(()=>({setPositionReference:d}),[]),p=g.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return g.useMemo(()=>({dataRef:i,open:t,onOpenChange:f,elements:p,events:o,floatingId:s,refs:h}),[t,f,p,o,s,h])}function pQ(e){e===void 0&&(e={});const{nodeId:t}=e,n=hQ({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[i,o]=g.useState(null),[l,u]=g.useState(null),f=(s==null?void 0:s.domReference)||i,h=g.useRef(null),p=fQ();Tw(()=>{f&&(h.current=f)},[f]);const y=QJ({...e,elements:{...s,...l&&{reference:l}}}),w=g.useCallback(j=>{const S=Vn(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),getClientRects:()=>j.getClientRects(),contextElement:j}:j;u(S),y.refs.setReference(S)},[y.refs]),b=g.useCallback(j=>{(Vn(j)||j===null)&&(h.current=j,o(j)),(Vn(y.refs.reference.current)||y.refs.reference.current===null||j!==null&&!Vn(j))&&y.refs.setReference(j)},[y.refs]),N=g.useMemo(()=>({...y.refs,setReference:b,setPositionReference:w,domReference:h}),[y.refs,b,w]),v=g.useMemo(()=>({...y.elements,domReference:f}),[y.elements,f]),_=g.useMemo(()=>({...y,...r,refs:N,elements:v,nodeId:t}),[y,N,v,t,r]);return Tw(()=>{r.dataRef.current.floatingContext=_;const j=p==null?void 0:p.nodesRef.current.find(S=>S.id===t);j&&(j.context=_)}),g.useMemo(()=>({...y,context:_,refs:N,elements:v}),[y,N,v,_])}const bj="-",mQ=e=>{const t=yQ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(bj);return l[0]===""&&l.length!==1&&l.shift(),iO(l,t)||gQ(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},iO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?iO(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(bj);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},YP=/^\[(.+)\]$/,gQ=e=>{if(YP.test(e)){const t=YP.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},yQ=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return vQ(Object.entries(e.classGroups),n).forEach(([i,o])=>{Ew(o,r,i,t)}),r},Ew=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:ZP(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(xQ(s)){Ew(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ew(o,ZP(t,i),n,r)})})},ZP=(e,t)=>{let n=e;return t.split(bj).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xQ=e=>e.isThemeGetter,vQ=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,s]}):e,bQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},oO="!",wQ=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=l=>{const u=[];let d=0,f=0,h;for(let N=0;N<l.length;N++){let v=l[N];if(d===0){if(v===s&&(r||l.slice(N,N+i)===t)){u.push(l.slice(f,N)),f=N+i;continue}if(v==="/"){h=N;continue}}v==="["?d++:v==="]"&&d--}const p=u.length===0?l:l.substring(f),y=p.startsWith(oO),w=y?p.substring(1):p,b=h&&h>f?h-f:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:o}):o},_Q=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},jQ=e=>({cache:bQ(e.cacheSize),parseClassName:wQ(e),...mQ(e)}),NQ=/\s+/,SQ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(NQ);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=n(d);let w=!!y,b=r(w?p.substring(0,y):p);if(!b){if(!w){l=d+(l.length>0?" "+l:l);continue}if(b=r(p),!b){l=d+(l.length>0?" "+l:l);continue}w=!1}const N=_Q(f).join(":"),v=h?N+oO:N,_=v+b;if(i.includes(_))continue;i.push(_);const j=s(b,w);for(let S=0;S<j.length;++S){const P=j[S];i.push(v+P)}l=d+(l.length>0?" "+l:l)}return l};function kQ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=aO(t))&&(r&&(r+=" "),r+=n);return r}const aO=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=aO(e[r]))&&(n&&(n+=" "),n+=t);return n};function CQ(e,...t){let n,r,s,i=o;function o(u){const d=t.reduce((f,h)=>h(f),e());return n=jQ(d),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const d=r(u);if(d)return d;const f=SQ(u,n);return s(u,f),f}return function(){return i(kQ.apply(null,arguments))}}const kt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},lO=/^\[(?:([a-z-]+):)?(.+)\]$/i,PQ=/^\d+\/\d+$/,TQ=new Set(["px","full","screen"]),EQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Js=e=>Ol(e)||TQ.has(e)||PQ.test(e),$i=e=>Dc(e,"length",VQ),Ol=e=>!!e&&!Number.isNaN(Number(e)),Mx=e=>Dc(e,"number",Ol),fu=e=>!!e&&Number.isInteger(Number(e)),IQ=e=>e.endsWith("%")&&Ol(e.slice(0,-1)),Ze=e=>lO.test(e),Fi=e=>EQ.test(e),RQ=new Set(["length","size","percentage"]),OQ=e=>Dc(e,RQ,cO),$Q=e=>Dc(e,"position",cO),FQ=new Set(["image","url"]),zQ=e=>Dc(e,FQ,WQ),BQ=e=>Dc(e,"",UQ),hu=()=>!0,Dc=(e,t,n)=>{const r=lO.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},VQ=e=>MQ.test(e)&&!DQ.test(e),cO=()=>!1,UQ=e=>AQ.test(e),WQ=e=>LQ.test(e),HQ=()=>{const e=kt("colors"),t=kt("spacing"),n=kt("blur"),r=kt("brightness"),s=kt("borderColor"),i=kt("borderRadius"),o=kt("borderSpacing"),l=kt("borderWidth"),u=kt("contrast"),d=kt("grayscale"),f=kt("hueRotate"),h=kt("invert"),p=kt("gap"),y=kt("gradientColorStops"),w=kt("gradientColorStopPositions"),b=kt("inset"),N=kt("margin"),v=kt("opacity"),_=kt("padding"),j=kt("saturate"),S=kt("scale"),P=kt("sepia"),E=kt("skew"),C=kt("space"),T=kt("translate"),D=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ze,t],A=()=>[Ze,t],O=()=>["",Js,$i],$=()=>["auto",Ol,Ze],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Ze],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Ol,Ze];return{cacheSize:500,separator:":",theme:{colors:[hu],spacing:[Js,$i],blur:["none","",Fi,Ze],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Fi,Ze],borderSpacing:A(),borderWidth:O(),contrast:Z(),grayscale:V(),hueRotate:Z(),invert:V(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[IQ,$i],inset:F(),margin:F(),opacity:Z(),padding:A(),saturate:Z(),scale:Z(),sepia:V(),skew:Z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[Fi]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Ze]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fu,Ze]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",fu,Ze]}],"grid-cols":[{"grid-cols":[hu]}],"col-start-end":[{col:["auto",{span:["full",fu,Ze]},Ze]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[hu]}],"row-start-end":[{row:["auto",{span:[fu,Ze]},Ze]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,t]}],"min-w":[{"min-w":[Ze,t,"min","max","fit"]}],"max-w":[{"max-w":[Ze,t,"none","full","min","max","fit","prose",{screen:[Fi]},Fi]}],h:[{h:[Ze,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fi,$i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mx]}],"font-family":[{font:[hu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",Ol,Mx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Js,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Js,$i]}],"underline-offset":[{"underline-offset":["auto",Js,Ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),$Q]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zQ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Js,Ze]}],"outline-w":[{outline:[Js,$i]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Js,$i]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fi,BQ]}],"shadow-color":[{shadow:[hu]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Fi,Ze]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[fu,Ze]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Js,$i,Mx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},He=CQ(HQ),KP=Symbol.for("constructDateFrom");function sm(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&KP in e?e[KP](t):e instanceof Date?new e.constructor(t):new Date(t)}function jr(e,t){return sm(e,e)}function Fn(e,t,n){const r=jr(e);return isNaN(t)?sm(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ci(e,t,n){const r=jr(e);if(isNaN(t))return sm(e,NaN);if(!t)return r;const s=r.getDate(),i=sm(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let GQ={};function uO(){return GQ}function wj(e,t){var l,u;const n=uO(),r=n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,s=jr(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Cs(e,t){const n=jr(e);return n.setHours(0,0,0,0),n}function ca(e,t,n){return Fn(e,t*7)}function ua(e,t,n){return ci(e,t*12)}function Ps(e,t){const n=jr(e);return n.setHours(23,59,59,999),n}function _j(e,t){const n=jr(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function jj(e,t){const n=jr(e);return n.setDate(1),n.setHours(0,0,0,0),n}function dO(e,t){const n=jr(e),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function fO(e,t){const n=jr(e);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Nj(e,t){var l,u;const n=uO(),r=n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,s=jr(e),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function Ns(e,t,n){return Fn(e,-t)}function Qs(e,t,n){const r=jr(e);return r.setHours(t),r}function ei(e,t,n){const r=jr(e);return r.setMinutes(t),r}function ti(e,t,n){const r=jr(e);return r.setSeconds(t),r}function Xo(e,t,n){return ci(e,-t)}function $l(e,t,n){return ca(e,-t)}function Fl(e,t,n){return ua(e,-t)}var hO={exports:{}},qQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YQ=qQ,ZQ=YQ;function pO(){}function mO(){}mO.resetWarningCache=pO;var KQ=function(){function e(r,s,i,o,l,u){if(u!==ZQ){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mO,resetWarningCache:pO};return n.PropTypes=n,n};hO.exports=KQ();var XQ=hO.exports;/*!
* focus-trap 7.6.6
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function JQ(e){if(Array.isArray(e))return Mw(e)}function QQ(e,t,n){return(t=see(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(r){QQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nee(e){return JQ(e)||eee(e)||iee(e)||tee()}function ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function see(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(e){if(typeof e=="string")return Mw(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mw(e,t):void 0}}var QP={activateTrap:function(t,n){if(t.length>0){var r=t[t.length-1];r!==n&&r._setPausedState(!0)}var s=t.indexOf(n);s===-1||t.splice(s,1),t.push(n)},deactivateTrap:function(t,n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&!t[t.length-1]._isManuallyPaused()&&t[t.length-1]._setPausedState(!1)}},oee=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},aee=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},Zu=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},lee=function(t){return Zu(t)&&!t.shiftKey},cee=function(t){return Zu(t)&&t.shiftKey},eT=function(t){return setTimeout(t,0)},pu=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return typeof t=="function"?t.apply(void 0,r):t},vh=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},uee=[],dee=function(t,n){var r=(n==null?void 0:n.document)||document,s=(n==null?void 0:n.trapStack)||uee,i=JP({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:lee,isKeyBackward:cee},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,u=function(O,$,K){return O&&O[$]!==void 0?O[$]:i[K||$]},d=function(O,$){var K=typeof($==null?void 0:$.composedPath)=="function"?$.composedPath():void 0;return o.containerGroups.findIndex(function(te){var W=te.container,z=te.tabbableNodes;return W.contains(O)||(K==null?void 0:K.includes(W))||z.find(function(V){return V===O})})},f=function(O){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=$.hasFallback,te=K===void 0?!1:K,W=$.params,z=W===void 0?[]:W,V=i[O];if(typeof V=="function"&&(V=V.apply(void 0,nee(z))),V===!0&&(V=void 0),!V){if(V===void 0||V===!1)return V;throw new Error("`".concat(O,"` was specified but was not a node, or did not return a node"))}var q=V;if(typeof V=="string"){try{q=r.querySelector(V)}catch(Z){throw new Error("`".concat(O,'` appears to be an invalid selector; error="').concat(Z.message,'"'))}if(!q&&!te)throw new Error("`".concat(O,"` as selector refers to no known node"))}return q},h=function(){var O=f("initialFocus",{hasFallback:!0});if(O===!1)return!1;if(O===void 0||O&&!ip(O,i.tabbableOptions))if(d(r.activeElement)>=0)O=r.activeElement;else{var $=o.tabbableGroups[0],K=$&&$.firstTabbableNode;O=K||f("fallbackFocus")}else O===null&&(O=f("fallbackFocus"));if(!O)throw new Error("Your focus-trap needs to have at least one focusable element");return O},p=function(){if(o.containerGroups=o.containers.map(function(O){var $=Y4(O,i.tabbableOptions),K=Z4(O,i.tabbableOptions),te=$.length>0?$[0]:void 0,W=$.length>0?$[$.length-1]:void 0,z=K.find(function(Z){return Bo(Z)}),V=K.slice().reverse().find(function(Z){return Bo(Z)}),q=!!$.find(function(Z){return qi(Z)>0});return{container:O,tabbableNodes:$,focusableNodes:K,posTabIndexesFound:q,firstTabbableNode:te,lastTabbableNode:W,firstDomTabbableNode:z,lastDomTabbableNode:V,nextTabbableNode:function(X){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ae=$.indexOf(X);return ae<0?G?K.slice(K.indexOf(X)+1).find(function(fe){return Bo(fe)}):K.slice(0,K.indexOf(X)).reverse().find(function(fe){return Bo(fe)}):$[ae+(G?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(O){return O.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(O){return O.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},y=function(O){var $=O.activeElement;if($)return $.shadowRoot&&$.shadowRoot.activeElement!==null?y($.shadowRoot):$},w=function(O){if(O!==!1&&O!==y(document)){if(!O||!O.focus){w(h());return}O.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=O,oee(O)&&O.select()}},b=function(O){var $=f("setReturnFocus",{params:[O]});return $||($===!1?!1:O)},N=function(O){var $=O.target,K=O.event,te=O.isBackward,W=te===void 0?!1:te;$=$||vh(K),p();var z=null;if(o.tabbableGroups.length>0){var V=d($,K),q=V>=0?o.containerGroups[V]:void 0;if(V<0)W?z=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:z=o.tabbableGroups[0].firstTabbableNode;else if(W){var Z=o.tabbableGroups.findIndex(function(be){var ke=be.firstTabbableNode;return $===ke});if(Z<0&&(q.container===$||ip($,i.tabbableOptions)&&!Bo($,i.tabbableOptions)&&!q.nextTabbableNode($,!1))&&(Z=V),Z>=0){var X=Z===0?o.tabbableGroups.length-1:Z-1,G=o.tabbableGroups[X];z=qi($)>=0?G.lastTabbableNode:G.lastDomTabbableNode}else Zu(K)||(z=q.nextTabbableNode($,!1))}else{var ae=o.tabbableGroups.findIndex(function(be){var ke=be.lastTabbableNode;return $===ke});if(ae<0&&(q.container===$||ip($,i.tabbableOptions)&&!Bo($,i.tabbableOptions)&&!q.nextTabbableNode($))&&(ae=V),ae>=0){var fe=ae===o.tabbableGroups.length-1?0:ae+1,ge=o.tabbableGroups[fe];z=qi($)>=0?ge.firstTabbableNode:ge.firstDomTabbableNode}else Zu(K)||(z=q.nextTabbableNode($))}}else z=f("fallbackFocus");return z},v=function(O){var $=vh(O);if(!(d($,O)>=0)){if(pu(i.clickOutsideDeactivates,O)){l.deactivate({returnFocus:i.returnFocusOnDeactivate});return}pu(i.allowOutsideClick,O)||O.preventDefault()}},_=function(O){var $=vh(O),K=d($,O)>=0;if(K||$ instanceof Document)K&&(o.mostRecentlyFocusedNode=$);else{O.stopImmediatePropagation();var te,W=!0;if(o.mostRecentlyFocusedNode)if(qi(o.mostRecentlyFocusedNode)>0){var z=d(o.mostRecentlyFocusedNode),V=o.containerGroups[z].tabbableNodes;if(V.length>0){var q=V.findIndex(function(Z){return Z===o.mostRecentlyFocusedNode});q>=0&&(i.isKeyForward(o.recentNavEvent)?q+1<V.length&&(te=V[q+1],W=!1):q-1>=0&&(te=V[q-1],W=!1))}}else o.containerGroups.some(function(Z){return Z.tabbableNodes.some(function(X){return qi(X)>0})})||(W=!1);else W=!1;W&&(te=N({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),w(te||o.mostRecentlyFocusedNode||h())}o.recentNavEvent=void 0},j=function(O){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=O;var K=N({event:O,isBackward:$});K&&(Zu(O)&&O.preventDefault(),w(K))},S=function(O){(i.isKeyForward(O)||i.isKeyBackward(O))&&j(O,i.isKeyBackward(O))},P=function(O){aee(O)&&pu(i.escapeDeactivates,O)!==!1&&(O.preventDefault(),l.deactivate())},E=function(O){var $=vh(O);d($,O)>=0||pu(i.clickOutsideDeactivates,O)||pu(i.allowOutsideClick,O)||(O.preventDefault(),O.stopImmediatePropagation())},C=function(){if(o.active)return QP.activateTrap(s,l),o.delayInitialFocusTimer=i.delayInitialFocus?eT(function(){w(h())}):w(h()),r.addEventListener("focusin",_,!0),r.addEventListener("mousedown",v,{capture:!0,passive:!1}),r.addEventListener("touchstart",v,{capture:!0,passive:!1}),r.addEventListener("click",E,{capture:!0,passive:!1}),r.addEventListener("keydown",S,{capture:!0,passive:!1}),r.addEventListener("keydown",P),l},T=function(){if(o.active)return r.removeEventListener("focusin",_,!0),r.removeEventListener("mousedown",v,!0),r.removeEventListener("touchstart",v,!0),r.removeEventListener("click",E,!0),r.removeEventListener("keydown",S,!0),r.removeEventListener("keydown",P),l},D=function(O){var $=O.some(function(K){var te=Array.from(K.removedNodes);return te.some(function(W){return W===o.mostRecentlyFocusedNode})});$&&w(h())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,F=function(){R&&(R.disconnect(),o.active&&!o.paused&&o.containers.map(function(O){R.observe(O,{subtree:!0,childList:!0})}))};return l={get active(){return o.active},get paused(){return o.paused},activate:function(O){if(o.active)return this;var $=u(O,"onActivate"),K=u(O,"onPostActivate"),te=u(O,"checkCanFocusTrap");te||p(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=y(r),$==null||$();var W=function(){te&&p(),C(),F(),K==null||K()};return te?(te(o.containers.concat()).then(W,W),this):(W(),this)},deactivate:function(O){if(!o.active)return this;var $=JP({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},O);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,T(),o.active=!1,o.paused=!1,F(),QP.deactivateTrap(s,l);var K=u($,"onDeactivate"),te=u($,"onPostDeactivate"),W=u($,"checkCanReturnFocus"),z=u($,"returnFocus","returnFocusOnDeactivate");K==null||K();var V=function(){eT(function(){z&&w(b(o.nodeFocusedBeforeActivation)),te==null||te()})};return z&&W?(W(b(o.nodeFocusedBeforeActivation)).then(V,V),this):(V(),this)},pause:function(O){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,O)):this},unpause:function(O){return o.active?(o.manuallyPaused=!1,s[s.length-1]!==this?this:this._setPausedState(!1,O)):this},updateContainerElements:function(O){var $=[].concat(O).filter(Boolean);return o.containers=$.map(function(K){return typeof K=="string"?r.querySelector(K):K}),o.active&&p(),F(),this}},Object.defineProperties(l,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(O,$){if(o.paused===O)return this;if(o.paused=O,O){var K=u($,"onPause"),te=u($,"onPostPause");K==null||K(),T(),F(),te==null||te()}else{var W=u($,"onUnpause"),z=u($,"onPostUnpause");W==null||W(),p(),C(),F(),z==null||z()}return this}}}),l.updateContainerElements(t),l};const fee=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:dee},Symbol.toStringTag,{value:"Module"})),hee=Am(fee),pee=Am(gJ);function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function mee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yO(r.key),r)}}function yee(e,t,n){return t&&gee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xee(e,t,n){return t=im(t),vee(e,gO()?Reflect.construct(t,n||[],im(e).constructor):t.apply(e,n))}function vee(e,t){if(t&&(sc(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bee(e)}function bee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!e})()}function im(e){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},im(e)}function wee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dw(e,t)}function Dw(e,t){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Dw(e,t)}function _ee(e,t,n){return(t=yO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yO(e){var t=jee(e,"string");return sc(t)=="symbol"?t:t+""}function jee(e,t){if(sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bh=g,Be=XQ,Nee=hee,See=Nee.createFocusTrap,kee=pee,Cee=kee.isFocusable,Sj=function(e){function t(n){var r;mee(this,t),r=xee(this,t,[n]),_ee(r,"getNodeForOption",function(o){var l,u=(l=this.internalOptions[o])!==null&&l!==void 0?l:this.originalOptions[o];if(typeof u=="function"){for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];u=u.apply(void 0,f)}if(u===!0&&(u=void 0),!u){if(u===void 0||u===!1)return u;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var p=u;if(typeof u=="string"){var y;if(p=(y=this.getDocument())===null||y===void 0?void 0:y.querySelector(u),!p)throw new Error("`".concat(o,"` as selector refers to no known node"))}return p}),r.handleDeactivate=r.handleDeactivate.bind(r),r.handlePostDeactivate=r.handlePostDeactivate.bind(r),r.handleClickOutsideDeactivates=r.handleClickOutsideDeactivates.bind(r),r.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:r.handleDeactivate,onPostDeactivate:r.handlePostDeactivate,clickOutsideDeactivates:r.handleClickOutsideDeactivates},r.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var s=n.focusTrapOptions;for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(i==="returnFocusOnDeactivate"||i==="onDeactivate"||i==="onPostDeactivate"||i==="checkCanReturnFocus"||i==="clickOutsideDeactivates"){r.originalOptions[i]=s[i];continue}r.internalOptions[i]=s[i]}return r.outsideClick=null,r.focusTrapElements=n.containerElements||[],r.updatePreviousElement(),r}return wee(t,e),yee(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var r=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return r||(r===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var r=this.getDocument();r&&(this.previouslyFocusedElement=r.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(r){var s=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,r):this.originalOptions.clickOutsideDeactivates;return s&&(this.outsideClick={target:r.target,allowDeactivation:s}),s}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var r=this,s=function(){var o=r.getReturnFocusNode(),l=!!(r.originalOptions.returnFocusOnDeactivate&&o!==null&&o!==void 0&&o.focus&&(!r.outsideClick||r.outsideClick.allowDeactivation&&!Cee(r.outsideClick.target,r.internalOptions.tabbableOptions))),u=r.internalOptions.preventScroll,d=u===void 0?!1:u;l&&o.focus({preventScroll:d}),r.originalOptions.onPostDeactivate&&r.originalOptions.onPostDeactivate.call(null),r.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(s,s):s()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var r=this.focusTrapElements.some(Boolean);r&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(r){if(this.focusTrap){r.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var s=!r.active&&this.props.active,i=r.active&&!this.props.active,o=!r.paused&&this.props.paused,l=r.paused&&!this.props.paused;if(s&&(this.updatePreviousElement(),this.focusTrap.activate()),i){this.deactivateTrap();return}o&&this.focusTrap.pause(),l&&this.focusTrap.unpause()}else r.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var r=this,s=this.props.children?bh.Children.only(this.props.children):void 0;if(s){if(s.type&&s.type===bh.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var i=function(u){var d=r.props.containerElements;s&&(typeof s.ref=="function"?s.ref(u):s.ref&&(s.ref.current=u)),r.focusTrapElements=d||[u]},o=bh.cloneElement(s,{ref:i});return o}return null}}])}(bh.Component),mu=typeof Element>"u"?Function:Element;Sj.propTypes={active:Be.bool,paused:Be.bool,focusTrapOptions:Be.shape({document:Be.object,onActivate:Be.func,onPostActivate:Be.func,checkCanFocusTrap:Be.func,onPause:Be.func,onPostPause:Be.func,onUnpause:Be.func,onPostUnpause:Be.func,onDeactivate:Be.func,onPostDeactivate:Be.func,checkCanReturnFocus:Be.func,initialFocus:Be.oneOfType([Be.instanceOf(mu),Be.string,Be.bool,Be.func]),fallbackFocus:Be.oneOfType([Be.instanceOf(mu),Be.string,Be.func]),escapeDeactivates:Be.oneOfType([Be.bool,Be.func]),clickOutsideDeactivates:Be.oneOfType([Be.bool,Be.func]),returnFocusOnDeactivate:Be.bool,setReturnFocus:Be.oneOfType([Be.instanceOf(mu),Be.string,Be.bool,Be.func]),allowOutsideClick:Be.oneOfType([Be.bool,Be.func]),preventScroll:Be.bool,tabbableOptions:Be.shape({displayCheck:Be.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:Be.oneOfType([Be.bool,Be.func])}),trapStack:Be.array,isKeyForward:Be.func,isKeyBackward:Be.func}),containerElements:Be.arrayOf(Be.instanceOf(mu)),children:Be.oneOfType([Be.element,Be.instanceOf(mu)])};Sj.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:See};var Pee=Sj;const Tee=gn(Pee);var Aw={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){for(var s=r.toUpperCase().split(/[\s+-]/),i=[],o="",l=0;l<s.length&&n.test(s[l]);l++)i.push(s[l]);if(i.length>=1&&(o+=i[0].substr(0,1)),i.length>=2){for(var u=!1,d=1;d<i.length;d++)if(!i[d].match(/.\./)){u=!0,o+=i[d].substr(0,1);break}u||(o+=i[1].substr(0,1))}return o};var n=/^[a-z\u00C0-\u017F]/i;e.exports=t.default})(Aw,Aw.exports);var Eee=Aw.exports;const Mee=gn(Eee);var jg={exports:{}};const tT={ellipse:"",chars:[" ","-"],max:140,truncate:!0};function xO(e,t,n,r){if(e.length<=t)return e;if(t<2)return e.slice(0,t-n.length)+n;const s=t-n.length,i=Math.floor(s/2);let o=i,l=e.length-i;for(let u=0;u<i;u++){const d=e.charAt(u),f=e.length-u,h=e.charAt(f);r.indexOf(d)!==-1&&(o=u),r.indexOf(h)!==-1&&(l=f)}return e.slice(0,o)+n+e.slice(l)}function vO(e,t,n,r,s){if(e.length<=t)return e;const i=t-n.length;let o=i,l=!1;for(let u=0;u<=i;u++){const d=e.charAt(u);r.indexOf(d)!==-1&&(o=u,l=!0)}return!s&&!l?"":e.slice(0,o)+n}jg.exports=(e,t,n)=>{if(typeof e!="string"||e.length===0||t===0)return"";n=n||{};for(var r in tT)(n[r]===null||typeof n[r]>"u")&&(n[r]=tT[r]);return n.max=t||n.max,n.truncate==="middle"?xO(e,n.max,n.ellipse,n.chars):vO(e,n.max,n.ellipse,n.chars,n.truncate)};jg.exports.ellipsizeMiddle=xO;jg.exports.ellipsize=vO;var Dee=jg.exports;const Aee=gn(Dee);var bO="__0_1_2_3_4_5_6_7_8_9_a_b_c_d_e_f_g_h_i_j_k_l_m_n_o_p_q_r_s_t_u_v_w_x_y_z_ _`_'_\"_~_!_@_#_$_%_^_&_*_(_)_._-_+_=_[_]_{_}_<_>_,_/_?_;_:_\\_|_capslock_numlock_enter_tab_arrowdown_arrowleft_arrowright_arrowup_end_home_pagedown_pageup_backspace_delete_insert_escape_f1_f2_f3_f4_f5_f6_f7_f8_f9_f10_f11_f12_f13_f14_f15_f16_f17_f18_f19_f20_f21_f22_f23".split("_");bO[1]="_";for(let[e,t]of bO.entries());var wO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=s(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)t.call(i,l)&&i[l]&&(o=s(o,l));return o}function s(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(wO);var Lee=wO.exports;const Vs=gn(Lee);var Iee={exports:{}};(function(e){e.exports=function(t){var n={};function r(s){if(n[s])return n[s].exports;var i=n[s]={exports:{},id:s,loaded:!1};return t[s].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.c=n,r.p="",r(0)}([function(t,n,r){t.exports=r(1)},function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0});function s(l){return l&&l.__esModule?l:{default:l}}var i=r(2),o=s(i);n.default=o.default,t.exports=n.default},function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(p){for(var y=1;y<arguments.length;y++){var w=arguments[y];for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(p[b]=w[b])}return p};n.default=h;function i(p){return p&&p.__esModule?p:{default:p}}function o(p,y){var w={};for(var b in p)y.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(p,b)&&(w[b]=p[b]);return w}var l=r(3),u=r(4),d=r(5),f=i(d);function h(p){var y=p.activeClassName,w=y===void 0?"":y,b=p.activeIndex,N=b===void 0?-1:b,v=p.activeStyle,_=p.autoEscape,j=p.caseSensitive,S=j===void 0?!1:j,P=p.className,E=p.findChunks,C=p.highlightClassName,T=C===void 0?"":C,D=p.highlightStyle,R=D===void 0?{}:D,F=p.highlightTag,A=F===void 0?"mark":F,O=p.sanitize,$=p.searchWords,K=p.textToHighlight,te=p.unhighlightTag,W=te===void 0?"span":te,z=p.unhighlightClassName,V=z===void 0?"":z,q=p.unhighlightStyle,Z=o(p,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),X=(0,l.findAll)({autoEscape:_,caseSensitive:S,findChunks:E,sanitize:O,searchWords:$,textToHighlight:K}),G=A,ae=-1,fe="",ge=void 0,be=function(me){var Ne={};for(var ce in me)Ne[ce.toLowerCase()]=me[ce];return Ne},ke=(0,f.default)(be);return(0,u.createElement)("span",s({className:P},Z,{children:X.map(function(re,me){var Ne=K.substr(re.start,re.end-re.start);if(re.highlight){ae++;var ce=void 0;typeof T=="object"?S?ce=T[Ne]:(T=ke(T),ce=T[Ne.toLowerCase()]):ce=T;var ue=ae===+N;fe=ce+" "+(ue?w:""),ge=ue===!0&&v!=null?Object.assign({},R,v):R;var xe={children:Ne,className:fe,key:me,style:ge};return typeof G!="string"&&(xe.highlightIndex=ae),(0,u.createElement)(G,xe)}else return(0,u.createElement)(W,{children:Ne,className:V,key:me,style:q})})}))}t.exports=n.default},function(t,n){t.exports=function(r){var s={};function i(o){if(s[o])return s[o].exports;var l=s[o]={exports:{},id:o,loaded:!1};return r[o].call(l.exports,l,l.exports,i),l.loaded=!0,l.exports}return i.m=r,i.c=s,i.p="",i(0)}([function(r,s,i){r.exports=i(1)},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var o=i(2);Object.defineProperty(s,"combineChunks",{enumerable:!0,get:function(){return o.combineChunks}}),Object.defineProperty(s,"fillInChunks",{enumerable:!0,get:function(){return o.fillInChunks}}),Object.defineProperty(s,"findAll",{enumerable:!0,get:function(){return o.findAll}}),Object.defineProperty(s,"findChunks",{enumerable:!0,get:function(){return o.findChunks}})},function(r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.findAll=function(h){var p=h.autoEscape,y=h.caseSensitive,w=y===void 0?!1:y,b=h.findChunks,N=b===void 0?o:b,v=h.sanitize,_=h.searchWords,j=h.textToHighlight;return l({chunksToHighlight:i({chunks:N({autoEscape:p,caseSensitive:w,sanitize:v,searchWords:_,textToHighlight:j})}),totalLength:j?j.length:0})};var i=s.combineChunks=function(h){var p=h.chunks;return p=p.sort(function(y,w){return y.start-w.start}).reduce(function(y,w){if(y.length===0)return[w];var b=y.pop();if(w.start<=b.end){var N=Math.max(b.end,w.end);y.push({start:b.start,end:N})}else y.push(b,w);return y},[]),p},o=function(h){var p=h.autoEscape,y=h.caseSensitive,w=h.sanitize,b=w===void 0?u:w,N=h.searchWords,v=h.textToHighlight;return v=b(v),N.filter(function(_){return _}).reduce(function(_,j){j=b(j),p&&(j=d(j));for(var S=new RegExp(j,y?"g":"gi"),P=void 0;P=S.exec(v);){var E=P.index,C=S.lastIndex;C>E&&_.push({start:E,end:C}),P.index==S.lastIndex&&S.lastIndex++}return _},[])};s.findChunks=o;var l=s.fillInChunks=function(h){var p=h.chunksToHighlight,y=h.totalLength,w=[],b=function(_,j,S){j-_>0&&w.push({start:_,end:j,highlight:S})};if(p.length===0)b(0,y,!1);else{var N=0;p.forEach(function(v){b(N,v.start,!1),b(v.start,v.end,!0),N=v.end}),b(N,y,!1)}return w};function u(f){return f}function d(f){return f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(t,n){t.exports=g},function(t,n){var r=function(o,l){return o===l};function s(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,l=void 0,u=[],d=void 0,f=!1,h=function(w,b){return o(w,u[b])},p=function(){for(var w=arguments.length,b=Array(w),N=0;N<w;N++)b[N]=arguments[N];return f&&l===this&&b.length===u.length&&b.every(h)||(f=!0,l=this,u=b,d=i.apply(this,b)),d};return p}t.exports=s}])})(Iee);var Td={};function Pi(e){return Array.isArray?Array.isArray(e):NO(e)==="[object Array]"}function Ree(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Oee(e){return e==null?"":Ree(e)}function Es(e){return typeof e=="string"}function _O(e){return typeof e=="number"}function $ee(e){return e===!0||e===!1||Fee(e)&&NO(e)=="[object Boolean]"}function jO(e){return typeof e=="object"}function Fee(e){return jO(e)&&e!==null}function dr(e){return e!=null}function Dx(e){return!e.trim().length}function NO(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const zee="Incorrect 'index' type",Bee=e=>`Invalid value for key ${e}`,Vee=e=>`Pattern length exceeds max of ${e}.`,Uee=e=>`Missing ${e} property in key`,Wee=e=>`Property 'weight' in key '${e}' must be a positive integer`,nT=Object.prototype.hasOwnProperty;class Hee{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let s=SO(r);n+=s.weight,this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function SO(e){let t=null,n=null,r=null,s=1,i=null;if(Es(e)||Pi(e))r=e,t=rT(e),n=Lw(e);else{if(!nT.call(e,"name"))throw new Error(Uee("name"));const o=e.name;if(r=o,nT.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(Wee(o));t=rT(o),n=Lw(o),i=e.getFn}return{path:t,id:n,weight:s,src:r,getFn:i}}function rT(e){return Pi(e)?e:e.split(".")}function Lw(e){return Pi(e)?e.join("."):e}function Gee(e,t){let n=[],r=!1;const s=(i,o,l)=>{if(dr(i))if(!o[l])n.push(i);else{let u=o[l];const d=i[u];if(!dr(d))return;if(l===o.length-1&&(Es(d)||_O(d)||$ee(d)))n.push(Oee(d));else if(Pi(d)){r=!0;for(let f=0,h=d.length;f<h;f+=1)s(d[f],o,l+1)}else o.length&&s(d,o,l+1)}};return s(e,Es(t)?t.split("."):t,0),r?n:n[0]}const qee={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Yee={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Zee={location:0,threshold:.6,distance:100},Kee={useExtendedSearch:!1,getFn:Gee,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var We={...Yee,...qee,...Zee,...Kee};const Xee=/[^ ]+/g;function Jee(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(s){const i=s.match(Xee).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),l=parseFloat(Math.round(o*r)/r);return n.set(i,l),l},clear(){n.clear()}}}class kj{constructor({getFn:t=We.getFn,fieldNormWeight:n=We.fieldNormWeight}={}){this.norm=Jee(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Es(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Es(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!dr(t)||Dx(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((s,i)=>{let o=s.getFn?s.getFn(t):this.getFn(t,s.path);if(dr(o)){if(Pi(o)){let l=[];const u=[{nestedArrIndex:-1,value:o}];for(;u.length;){const{nestedArrIndex:d,value:f}=u.pop();if(dr(f))if(Es(f)&&!Dx(f)){let h={v:f,i:d,n:this.norm.get(f)};l.push(h)}else Pi(f)&&f.forEach((h,p)=>{u.push({nestedArrIndex:p,value:h})})}r.$[i]=l}else if(Es(o)&&!Dx(o)){let l={v:o,n:this.norm.get(o)};r.$[i]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function kO(e,t,{getFn:n=We.getFn,fieldNormWeight:r=We.fieldNormWeight}={}){const s=new kj({getFn:n,fieldNormWeight:r});return s.setKeys(e.map(SO)),s.setSources(t),s.create(),s}function Qee(e,{getFn:t=We.getFn,fieldNormWeight:n=We.fieldNormWeight}={}){const{keys:r,records:s}=e,i=new kj({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(s),i}function wh(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:s=We.distance,ignoreLocation:i=We.ignoreLocation}={}){const o=t/e.length;if(i)return o;const l=Math.abs(r-n);return s?o+l/s:l?1:o}function ete(e=[],t=We.minMatchCharLength){let n=[],r=-1,s=-1,i=0;for(let o=e.length;i<o;i+=1){let l=e[i];l&&r===-1?r=i:!l&&r!==-1&&(s=i-1,s-r+1>=t&&n.push([r,s]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}const Wo=32;function tte(e,t,n,{location:r=We.location,distance:s=We.distance,threshold:i=We.threshold,findAllMatches:o=We.findAllMatches,minMatchCharLength:l=We.minMatchCharLength,includeMatches:u=We.includeMatches,ignoreLocation:d=We.ignoreLocation}={}){if(t.length>Wo)throw new Error(Vee(Wo));const f=t.length,h=e.length,p=Math.max(0,Math.min(r,h));let y=i,w=p;const b=l>1||u,N=b?Array(h):[];let v;for(;(v=e.indexOf(t,w))>-1;){let C=wh(t,{currentLocation:v,expectedLocation:p,distance:s,ignoreLocation:d});if(y=Math.min(C,y),w=v+f,b){let T=0;for(;T<f;)N[v+T]=1,T+=1}}w=-1;let _=[],j=1,S=f+h;const P=1<<f-1;for(let C=0;C<f;C+=1){let T=0,D=S;for(;T<D;)wh(t,{errors:C,currentLocation:p+D,expectedLocation:p,distance:s,ignoreLocation:d})<=y?T=D:S=D,D=Math.floor((S-T)/2+T);S=D;let R=Math.max(1,p-D+1),F=o?h:Math.min(p+D,h)+f,A=Array(F+2);A[F+1]=(1<<C)-1;for(let $=F;$>=R;$-=1){let K=$-1,te=n[e.charAt(K)];if(b&&(N[K]=+!!te),A[$]=(A[$+1]<<1|1)&te,C&&(A[$]|=(_[$+1]|_[$])<<1|1|_[$+1]),A[$]&P&&(j=wh(t,{errors:C,currentLocation:K,expectedLocation:p,distance:s,ignoreLocation:d}),j<=y)){if(y=j,w=K,w<=p)break;R=Math.max(1,2*p-w)}}if(wh(t,{errors:C+1,currentLocation:p,expectedLocation:p,distance:s,ignoreLocation:d})>y)break;_=A}const E={isMatch:w>=0,score:Math.max(.001,j)};if(b){const C=ete(N,l);C.length?u&&(E.indices=C):E.isMatch=!1}return E}function nte(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<r-n-1}return t}class CO{constructor(t,{location:n=We.location,threshold:r=We.threshold,distance:s=We.distance,includeMatches:i=We.includeMatches,findAllMatches:o=We.findAllMatches,minMatchCharLength:l=We.minMatchCharLength,isCaseSensitive:u=We.isCaseSensitive,ignoreLocation:d=We.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:d},this.pattern=u?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const f=(p,y)=>{this.chunks.push({pattern:p,alphabet:nte(p),startIndex:y})},h=this.pattern.length;if(h>Wo){let p=0;const y=h%Wo,w=h-y;for(;p<w;)f(this.pattern.substr(p,Wo),p),p+=Wo;if(y){const b=h-Wo;f(this.pattern.substr(b),b)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let w={isMatch:!0,score:0};return r&&(w.indices=[[0,t.length-1]]),w}const{location:s,distance:i,threshold:o,findAllMatches:l,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,p=!1;this.chunks.forEach(({pattern:w,alphabet:b,startIndex:N})=>{const{isMatch:v,score:_,indices:j}=tte(t,w,b,{location:s+N,distance:i,threshold:o,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:d});v&&(p=!0),h+=_,v&&j&&(f=[...f,...j])});let y={isMatch:p,score:p?h/this.chunks.length:1};return p&&r&&(y.indices=f),y}}class So{constructor(t){this.pattern=t}static isMultiMatch(t){return sT(t,this.multiRegex)}static isSingleMatch(t){return sT(t,this.singleRegex)}search(){}}function sT(e,t){const n=e.match(t);return n?n[1]:null}class rte extends So{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class ste extends So{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class ite extends So{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class ote extends So{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class ate extends So{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class lte extends So{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class PO extends So{constructor(t,{location:n=We.location,threshold:r=We.threshold,distance:s=We.distance,includeMatches:i=We.includeMatches,findAllMatches:o=We.findAllMatches,minMatchCharLength:l=We.minMatchCharLength,isCaseSensitive:u=We.isCaseSensitive,ignoreLocation:d=We.ignoreLocation}={}){super(t),this._bitapSearch=new CO(t,{location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class TO extends So{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const s=[],i=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+i,s.push([r,n-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const Iw=[rte,TO,ite,ote,lte,ate,ste,PO],iT=Iw.length,cte=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ute="|";function dte(e,t={}){return e.split(ute).map(n=>{let r=n.trim().split(cte).filter(i=>i&&!!i.trim()),s=[];for(let i=0,o=r.length;i<o;i+=1){const l=r[i];let u=!1,d=-1;for(;!u&&++d<iT;){const f=Iw[d];let h=f.isMultiMatch(l);h&&(s.push(new f(h,t)),u=!0)}if(!u)for(d=-1;++d<iT;){const f=Iw[d];let h=f.isSingleMatch(l);if(h){s.push(new f(h,t));break}}}return s})}const fte=new Set([PO.type,TO.type]);class hte{constructor(t,{isCaseSensitive:n=We.isCaseSensitive,includeMatches:r=We.includeMatches,minMatchCharLength:s=We.minMatchCharLength,ignoreLocation:i=We.ignoreLocation,findAllMatches:o=We.findAllMatches,location:l=We.location,threshold:u=We.threshold,distance:d=We.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:s,findAllMatches:o,ignoreLocation:i,location:l,threshold:u,distance:d},this.pattern=n?t:t.toLowerCase(),this.query=dte(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let i=0,o=[],l=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];o.length=0,i=0;for(let h=0,p=f.length;h<p;h+=1){const y=f[h],{isMatch:w,indices:b,score:N}=y.search(t);if(w){if(i+=1,l+=N,r){const v=y.constructor.type;fte.has(v)?o=[...o,...b]:o.push(b)}}else{l=0,i=0,o.length=0;break}}if(i){let h={isMatch:!0,score:l/i};return r&&(h.indices=o),h}}return{isMatch:!1,score:1}}}const Rw=[];function pte(...e){Rw.push(...e)}function Ow(e,t){for(let n=0,r=Rw.length;n<r;n+=1){let s=Rw[n];if(s.condition(e,t))return new s(e,t)}return new CO(e,t)}const om={AND:"$and",OR:"$or"},$w={PATH:"$path",PATTERN:"$val"},Fw=e=>!!(e[om.AND]||e[om.OR]),mte=e=>!!e[$w.PATH],gte=e=>!Pi(e)&&jO(e)&&!Fw(e),oT=e=>({[om.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function EO(e,t,{auto:n=!0}={}){const r=s=>{let i=Object.keys(s);const o=mte(s);if(!o&&i.length>1&&!Fw(s))return r(oT(s));if(gte(s)){const u=o?s[$w.PATH]:i[0],d=o?s[$w.PATTERN]:s[u];if(!Es(d))throw new Error(Bee(u));const f={keyId:Lw(u),pattern:d};return n&&(f.searcher=Ow(d,t)),f}let l={children:[],operator:i[0]};return i.forEach(u=>{const d=s[u];Pi(d)&&d.forEach(f=>{l.children.push(r(f))})}),l};return Fw(e)||(e=oT(e)),r(e)}function yte(e,{ignoreFieldNorm:t=We.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:i,score:o})=>{const l=s?s.weight:null;r*=Math.pow(o===0&&l?Number.EPSILON:o,(l||1)*(t?1:i))}),n.score=r})}function xte(e,t){const n=e.matches;t.matches=[],dr(n)&&n.forEach(r=>{if(!dr(r.indices)||!r.indices.length)return;const{indices:s,value:i}=r;let o={indices:s,value:i};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),t.matches.push(o)})}function vte(e,t){t.score=e.score}function bte(e,t,{includeMatches:n=We.includeMatches,includeScore:r=We.includeScore}={}){const s=[];return n&&s.push(xte),r&&s.push(vte),e.map(i=>{const{idx:o}=i,l={item:t[o],refIndex:o};return s.length&&s.forEach(u=>{u(i,l)}),l})}class Ac{constructor(t,n={},r){this.options={...We,...n},this.options.useExtendedSearch,this._keyStore=new Hee(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof kj))throw new Error(zee);this._myIndex=n||kO(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){dr(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const i=this._docs[r];t(i,r)&&(this.removeAt(r),r-=1,s-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:i,sortFn:o,ignoreFieldNorm:l}=this.options;let u=Es(t)?Es(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return yte(u,{ignoreFieldNorm:l}),i&&u.sort(o),_O(n)&&n>-1&&(u=u.slice(0,n)),bte(u,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(t){const n=Ow(t,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:i,i:o,n:l})=>{if(!dr(i))return;const{isMatch:u,score:d,indices:f}=n.searchIn(i);u&&s.push({item:i,idx:o,matches:[{score:d,value:i,norm:l,indices:f}]})}),s}_searchLogical(t){const n=EO(t,this.options),r=(l,u,d)=>{if(!l.children){const{keyId:h,searcher:p}=l,y=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(u,h),searcher:p});return y&&y.length?[{idx:d,item:u,matches:y}]:[]}const f=[];for(let h=0,p=l.children.length;h<p;h+=1){const y=l.children[h],w=r(y,u,d);if(w.length)f.push(...w);else if(l.operator===om.AND)return[]}return f},s=this._myIndex.records,i={},o=[];return s.forEach(({$:l,i:u})=>{if(dr(l)){let d=r(n,l,u);d.length&&(i[u]||(i[u]={idx:u,item:l,matches:[]},o.push(i[u])),d.forEach(({matches:f})=>{i[u].matches.push(...f)}))}}),o}_searchObjectList(t){const n=Ow(t,this.options),{keys:r,records:s}=this._myIndex,i=[];return s.forEach(({$:o,i:l})=>{if(!dr(o))return;let u=[];r.forEach((d,f)=>{u.push(...this._findMatches({key:d,value:o[f],searcher:n}))}),u.length&&i.push({idx:l,item:o,matches:u})}),i}_findMatches({key:t,value:n,searcher:r}){if(!dr(n))return[];let s=[];if(Pi(n))n.forEach(({v:i,i:o,n:l})=>{if(!dr(i))return;const{isMatch:u,score:d,indices:f}=r.searchIn(i);u&&s.push({score:d,key:t,value:i,idx:o,norm:l,indices:f})});else{const{v:i,n:o}=n,{isMatch:l,score:u,indices:d}=r.searchIn(i);l&&s.push({score:u,key:t,value:i,norm:o,indices:d})}return s}}Ac.version="6.6.2";Ac.createIndex=kO;Ac.parseIndex=Qee;Ac.config=We;Ac.parseQuery=EO;pte(hte);const wte=Object.freeze(Object.defineProperty({__proto__:null,default:Ac},Symbol.toStringTag,{value:"Module"})),_te=Am(wte);var jl=po&&po.__assign||function(){return jl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},jl.apply(this,arguments)},jte=po&&po.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Td,"__esModule",{value:!0});Td.useSearch=Td.useFuzzy=void 0;var Nte=jte(_te),aT=g;function MO(e,t){var n=(0,aT.useState)(""),r=n[0],s=n[1],i=function(){return s("")},o=(0,aT.useMemo)(function(){var u={tokenize:!0,threshold:.2};return new Nte.default(e,jl(jl({},u),t))},[e,t]),l=r?(o.search(r)||[]).map(function(u){return jl(jl({},u.item),{matches:u.matches})}):e;return{keyword:r,resetSearch:i,result:l,search:s}}Td.useFuzzy=MO;Td.useSearch=MO;var Ste=typeof Element<"u",kte=typeof Map=="function",Cte=typeof Set=="function",Pte=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ap(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ap(e[r],t[r]))return!1;return!0}var i;if(kte&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!ap(r.value[1],t.get(r.value[0])))return!1;return!0}if(Cte&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Pte&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(Ste&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!ap(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var Tte=function(t,n){try{return ap(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const DO=gn(Tte);function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(null,arguments)}function Cj(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ete=g.useLayoutEffect,Mte=function(t){var n=nt.useRef(t);return Ete(function(){n.current=t}),n},lT=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},Dte=function(t,n){var r=nt.useRef();return nt.useCallback(function(s){t.current=s,r.current&&lT(r.current,null),r.current=n,n&&lT(n,s)},[n])},cT={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Ate=function(t){Object.keys(cT).forEach(function(n){t.style.setProperty(n,cT[n],"important")})},uT=Ate,Ln=null,dT=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Lte(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ln||(Ln=document.createElement("textarea"),Ln.setAttribute("tabindex","-1"),Ln.setAttribute("aria-hidden","true"),uT(Ln)),Ln.parentNode===null&&document.body.appendChild(Ln);var s=e.paddingSize,i=e.borderSize,o=e.sizingStyle,l=o.boxSizing;Object.keys(o).forEach(function(p){var y=p;Ln.style[y]=o[y]}),uT(Ln),Ln.value=t;var u=dT(Ln,e);Ln.value=t,u=dT(Ln,e),Ln.value="x";var d=Ln.scrollHeight-s,f=d*n;l==="border-box"&&(f=f+s+i),u=Math.max(f,u);var h=d*r;return l==="border-box"&&(h=h+s+i),u=Math.min(h,u),[u,d]}var fT=function(){},Ite=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},Rte=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Ote=!!document.documentElement.currentStyle,$te=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Ite(Rte,n),s=r.boxSizing;if(s==="")return null;Ote&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:o}},Fte=$te;function Pj(e,t,n){var r=Mte(n);g.useLayoutEffect(function(){var s=function(o){return r.current(o)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var zte=function(t,n){Pj(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},Bte=function(t){Pj(window,"resize",t)},Vte=function(t){Pj(document.fonts,"loadingdone",t)},Ute=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Wte=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,i=t.minRows,o=t.onChange,l=o===void 0?fT:o,u=t.onHeightChange,d=u===void 0?fT:u,f=Cj(t,Ute),h=f.value!==void 0,p=g.useRef(null),y=Dte(p,n),w=g.useRef(0),b=g.useRef(),N=function(){var j=p.current,S=r&&b.current?b.current:Fte(j);if(S){b.current=S;var P=Lte(S,j.value||j.placeholder||"x",i,s),E=P[0],C=P[1];w.current!==E&&(w.current=E,j.style.setProperty("height",E+"px","important"),d(E,{rowHeight:C}))}},v=function(j){h||N(),l(j)};return g.useLayoutEffect(N),zte(p,function(){if(!h){var _=p.current.value;requestAnimationFrame(function(){var j=p.current;j&&_!==j.value&&N()})}}),Bte(N),Vte(N),g.createElement("textarea",gi({},f,{onChange:v,ref:y}))},Hte=g.forwardRef(Wte);function Gte(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qte={exports:{}};(function(e,t){(function(n,r){typeof Gte=="function"?e.exports=r():n.pluralize=r()})(po,function(){var n=[],r=[],s={},i={},o={};function l(b){return typeof b=="string"?new RegExp("^"+b+"$","i"):b}function u(b,N){return b===N?N:b===b.toLowerCase()?N.toLowerCase():b===b.toUpperCase()?N.toUpperCase():b[0]===b[0].toUpperCase()?N.charAt(0).toUpperCase()+N.substr(1).toLowerCase():N.toLowerCase()}function d(b,N){return b.replace(/\$(\d{1,2})/g,function(v,_){return N[_]||""})}function f(b,N){return b.replace(N[0],function(v,_){var j=d(N[1],arguments);return u(v===""?b[_-1]:v,j)})}function h(b,N,v){if(!b.length||s.hasOwnProperty(b))return N;for(var _=v.length;_--;){var j=v[_];if(j[0].test(N))return f(N,j)}return N}function p(b,N,v){return function(_){var j=_.toLowerCase();return N.hasOwnProperty(j)?u(_,j):b.hasOwnProperty(j)?u(_,b[j]):h(j,_,v)}}function y(b,N,v,_){return function(j){var S=j.toLowerCase();return N.hasOwnProperty(S)?!0:b.hasOwnProperty(S)?!1:h(S,S,v)===S}}function w(b,N,v){var _=N===1?w.singular(b):w.plural(b);return(v?N+" ":"")+_}return w.plural=p(o,i,n),w.isPlural=y(o,i,n),w.singular=p(i,o,r),w.isSingular=y(i,o,r),w.addPluralRule=function(b,N){n.push([l(b),N])},w.addSingularRule=function(b,N){r.push([l(b),N])},w.addUncountableRule=function(b){if(typeof b=="string"){s[b.toLowerCase()]=!0;return}w.addPluralRule(b,"$0"),w.addSingularRule(b,"$0")},w.addIrregularRule=function(b,N){N=N.toLowerCase(),b=b.toLowerCase(),o[b]=N,i[N]=b},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(b){return w.addIrregularRule(b[0],b[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(b){return w.addPluralRule(b[0],b[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(b){return w.addSingularRule(b[0],b[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(w.addUncountableRule),w})})(qte);var AO={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(po,function(){function n(S,P){var E,C,T;for(E=1,C=arguments.length;E<C;++E)if(P=arguments[E],P!=null)for(T in P)u(P,T)&&(S[T]=P[T]);return S}function r(S,P){return P.length-S.length}function s(S,P){return S.factor-P.factor}function i(S){return S.replace(/([.*+?=^!:${}()|[\]/\\])/g,"\\$1")}function o(S,P){var E,C;for(E=0,C=S.length;E<C;++E)P(S[E],E)}function l(S,P){var E;for(E in S)u(S,E)&&P(S[E],E)}var u=function(S){return function(E,C){return E!=null&&S.call(E,C)}}(Object.prototype.hasOwnProperty);function d(S,P){for(;typeof P=="string";)P=S[P];return P}function f(S){this._prefixes=S;var P=[],E=[];l(S,function(T,D){P.push(i(D)),E.push({factor:T,prefix:D})});var C=this._lcPrefixes={};l(S,function(T,D){var R=D.toLowerCase();u(S,R)||(C[R]=D)}),E.sort(s),this._list=E,P.sort(r),this._regexp=new RegExp("^\\s*(-)?\\s*(\\d+(?:\\.\\d+)?)\\s*("+P.join("|")+")\\s*(.*)\\s*?$","i")}f.create=function(P,E,C){var T={};return C===void 0&&(C=0),o(P,function(D,R){T[D]=Math.pow(E,R+C)}),new f(T)},f.prototype.findPrefix=function(P){for(var E=this._list,C=0,T=E.length-1,D,R;C!==T;)D=C+T+1>>1,R=E[D].factor,R>P?T=D-1:C=D;return E[C]},f.prototype.parse=function(P,E){var C=P.match(this._regexp);if(C!==null){var T=C[3],D;if(u(this._prefixes,T))D=this._prefixes[T];else if(!E&&(T=T.toLowerCase(),u(this._lcPrefixes,T)))T=this._lcPrefixes[T],D=this._prefixes[T];else return;var R=+C[2];return C[1]!==void 0&&(R=-R),{factor:D,prefix:T,unit:C[4],value:R}}};var h={binary:f.create(",Ki,Mi,Gi,Ti,Pi,Ei,Zi,Yi".split(","),1024),SI:f.create("y,z,a,f,p,n,,m,,k,M,G,T,P,E,Z,Y".split(","),1e3,-8)},p={maxDecimals:2,separator:" ",unit:""},y={scale:"SI",strict:!1};function w(S,P){P=n({},p,P);var E=P.decimals;E!==void 0&&delete P.maxDecimals;var C=j(S,P);S=E!==void 0?C.value.toFixed(E):String(C.value);var T=C.prefix+P.unit;return T===""?S:S+P.separator+T}var b={scale:"binary",unit:"B"};function N(S,P){return w(S,P===void 0?b:n({},b,P))}function v(S,P){var E=_(S,P);return E.value*E.factor}function _(S,P){if(typeof S!="string")throw new TypeError("str must be a string");P=n({},y,P);var E=d(h,P.scale);if(E===void 0)throw new Error("missing scale");var C=E.parse(S,P.strict);if(C===void 0)throw new Error("cannot parse str");return C}function j(S,P){if(S===0)return{value:0,prefix:""};if(S<0){var E=j(-S,P);return E.value=-E.value,E}if(typeof S!="number"||Number.isNaN(S))throw new TypeError("value must be a number");P=n({},y,P);var C=d(h,P.scale);if(C===void 0)throw new Error("missing scale");var T,D=P.maxDecimals,R=D==="auto";R?T=10:D!==void 0&&(T=Math.pow(10,D));var F=P.prefix,A;if(F!==void 0){if(!u(C._prefixes,F))throw new Error("invalid prefix");A=C._prefixes[F]}else{var O=C.findPrefix(S);if(T!==void 0)do{A=O.factor;var $=A/T;S=Math.round(S/$)*$}while((O=C.findPrefix(S)).factor!==A);else A=O.factor;F=O.prefix}return S=T===void 0?S/A:Math.round(S*T/A)/T,R&&Math.abs(S)>=10&&(S=Math.round(S)),{prefix:F,value:S}}return w.bytes=N,w.parse=v,v.raw=_,w.raw=j,w.Scale=f,w})})(AO);var Yte=AO.exports;const Tj=gn(Yte),{min:Zte,max:Kte}=Math,da=(e,t=0,n=1)=>Zte(Kte(t,e),n),Ej=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=da(e[t],0,255)):t===3&&(e[t]=da(e[t],0,1));return e},LO={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])LO[`[object ${e}]`]=e.toLowerCase();function tt(e){return LO[Object.prototype.toString.call(e)]||"object"}const Ye=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):tt(e[0])=="object"&&t?t.split("").filter(n=>e[0][n]!==void 0).map(n=>e[0][n]):e[0].slice(0),Lc=e=>{if(e.length<2)return null;const t=e.length-1;return tt(e[t])=="string"?e[t].toLowerCase():null},{PI:Ng,min:IO,max:RO}=Math,Br=e=>Math.round(e*100)/100,zw=e=>Math.round(e*100)/100,ii=Ng*2,Ax=Ng/3,Xte=Ng/180,Jte=180/Ng;function OO(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const Ge={format:{},autodetect:[]};let _e=class{constructor(...t){const n=this;if(tt(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let r=Lc(t),s=!1;if(!r){s=!0,Ge.sorted||(Ge.autodetect=Ge.autodetect.sort((i,o)=>o.p-i.p),Ge.sorted=!0);for(let i of Ge.autodetect)if(r=i.test(...t),r)break}if(Ge.format[r]){const i=Ge.format[r].apply(null,s?t:t.slice(0,-1));n._rgb=Ej(i)}else throw new Error("unknown format: "+t);n._rgb.length===3&&n._rgb.push(1)}toString(){return tt(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}};const Qte="3.1.2",Je=(...e)=>new _e(...e);Je.version=Qte;const ic={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ene=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,tne=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,$O=e=>{if(e.match(ene)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16),n=t>>16,r=t>>8&255,s=t&255;return[n,r,s,1]}if(e.match(tne)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16),n=t>>24&255,r=t>>16&255,s=t>>8&255,i=Math.round((t&255)/255*100)/100;return[n,r,s,i]}throw new Error(`unknown hex color: ${e}`)},{round:_h}=Math,FO=(...e)=>{let[t,n,r,s]=Ye(e,"rgba"),i=Lc(e)||"auto";s===void 0&&(s=1),i==="auto"&&(i=s<1?"rgba":"rgb"),t=_h(t),n=_h(n),r=_h(r);let l="000000"+(t<<16|n<<8|r).toString(16);l=l.substr(l.length-6);let u="0"+_h(s*255).toString(16);switch(u=u.substr(u.length-2),i.toLowerCase()){case"rgba":return`#${l}${u}`;case"argb":return`#${u}${l}`;default:return`#${l}`}};_e.prototype.name=function(){const e=FO(this._rgb,"rgb");for(let t of Object.keys(ic))if(ic[t]===e)return t.toLowerCase();return e};Ge.format.named=e=>{if(e=e.toLowerCase(),ic[e])return $O(ic[e]);throw new Error("unknown color name: "+e)};Ge.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&tt(e)==="string"&&ic[e.toLowerCase()])return"named"}});_e.prototype.alpha=function(e,t=!1){return e!==void 0&&tt(e)==="number"?t?(this._rgb[3]=e,this):new _e([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};_e.prototype.clipped=function(){return this._rgb._clipped||!1};const Rs={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},nne=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function ui(e){const t=nne.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);Rs.labWhitePoint=e,Rs.Xn=t[0],Rs.Zn=t[1]}function Ed(){return Rs.labWhitePoint}const Mj=(...e)=>{e=Ye(e,"lab");const[t,n,r]=e,[s,i,o]=rne(t,n,r),[l,u,d]=zO(s,i,o);return[l,u,d,e.length>3?e[3]:1]},rne=(e,t,n)=>{const{kE:r,kK:s,kKE:i,Xn:o,Yn:l,Zn:u}=Rs,d=(e+16)/116,f=.002*t+d,h=d-.005*n,p=f*f*f,y=h*h*h,w=p>r?p:(116*f-16)/s,b=e>i?Math.pow((e+16)/116,3):e/s,N=y>r?y:(116*h-16)/s,v=w*o,_=b*l,j=N*u;return[v,_,j]},Lx=e=>{const t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},zO=(e,t,n)=>{const{MtxAdaptMa:r,MtxAdaptMaI:s,MtxXYZ2RGB:i,RefWhiteRGB:o,Xn:l,Yn:u,Zn:d}=Rs,f=l*r.m00+u*r.m10+d*r.m20,h=l*r.m01+u*r.m11+d*r.m21,p=l*r.m02+u*r.m12+d*r.m22,y=o.X*r.m00+o.Y*r.m10+o.Z*r.m20,w=o.X*r.m01+o.Y*r.m11+o.Z*r.m21,b=o.X*r.m02+o.Y*r.m12+o.Z*r.m22,N=(e*r.m00+t*r.m10+n*r.m20)*(y/f),v=(e*r.m01+t*r.m11+n*r.m21)*(w/h),_=(e*r.m02+t*r.m12+n*r.m22)*(b/p),j=N*s.m00+v*s.m10+_*s.m20,S=N*s.m01+v*s.m11+_*s.m21,P=N*s.m02+v*s.m12+_*s.m22,E=Lx(j*i.m00+S*i.m10+P*i.m20),C=Lx(j*i.m01+S*i.m11+P*i.m21),T=Lx(j*i.m02+S*i.m12+P*i.m22);return[E*255,C*255,T*255]},Dj=(...e)=>{const[t,n,r,...s]=Ye(e,"rgb"),[i,o,l]=BO(t,n,r),[u,d,f]=sne(i,o,l);return[u,d,f,...s.length>0&&s[0]<1?[s[0]]:[]]};function sne(e,t,n){const{Xn:r,Yn:s,Zn:i,kE:o,kK:l}=Rs,u=e/r,d=t/s,f=n/i,h=u>o?Math.pow(u,1/3):(l*u+16)/116,p=d>o?Math.pow(d,1/3):(l*d+16)/116,y=f>o?Math.pow(f,1/3):(l*f+16)/116;return[116*p-16,500*(h-p),200*(p-y)]}function Ix(e){const t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}const BO=(e,t,n)=>{e=Ix(e/255),t=Ix(t/255),n=Ix(n/255);const{MtxRGB2XYZ:r,MtxAdaptMa:s,MtxAdaptMaI:i,Xn:o,Yn:l,Zn:u,As:d,Bs:f,Cs:h}=Rs;let p=e*r.m00+t*r.m10+n*r.m20,y=e*r.m01+t*r.m11+n*r.m21,w=e*r.m02+t*r.m12+n*r.m22;const b=o*s.m00+l*s.m10+u*s.m20,N=o*s.m01+l*s.m11+u*s.m21,v=o*s.m02+l*s.m12+u*s.m22;let _=p*s.m00+y*s.m10+w*s.m20,j=p*s.m01+y*s.m11+w*s.m21,S=p*s.m02+y*s.m12+w*s.m22;return _*=b/d,j*=N/f,S*=v/h,p=_*i.m00+j*i.m10+S*i.m20,y=_*i.m01+j*i.m11+S*i.m21,w=_*i.m02+j*i.m12+S*i.m22,[p,y,w]};_e.prototype.lab=function(){return Dj(this._rgb)};const ine=(...e)=>new _e(...e,"lab");Object.assign(Je,{lab:ine,getLabWhitePoint:Ed,setLabWhitePoint:ui});Ge.format.lab=Mj;Ge.autodetect.push({p:2,test:(...e)=>{if(e=Ye(e,"lab"),tt(e)==="array"&&e.length===3)return"lab"}});_e.prototype.darken=function(e=1){const t=this,n=t.lab();return n[0]-=Rs.Kn*e,new _e(n,"lab").alpha(t.alpha(),!0)};_e.prototype.brighten=function(e=1){return this.darken(-e)};_e.prototype.darker=_e.prototype.darken;_e.prototype.brighter=_e.prototype.brighten;_e.prototype.get=function(e){const[t,n]=e.split("."),r=this[t]();if(n){const s=t.indexOf(n)-(t.substr(0,2)==="ok"?2:0);if(s>-1)return r[s];throw new Error(`unknown channel ${n} in mode ${t}`)}else return r};const{pow:one}=Math,ane=1e-7,lne=20;_e.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&tt(e)==="number"){if(e===0)return new _e([0,0,0,this._rgb[3]],"rgb");if(e===1)return new _e([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=lne;const s=(o,l)=>{const u=o.interpolate(l,.5,t),d=u.luminance();return Math.abs(e-d)<ane||!r--?u:d>e?s(o,u):s(u,l)},i=(n>e?s(new _e([0,0,0]),this):s(this,new _e([255,255,255]))).rgb();return new _e([...i,this._rgb[3]])}return cne(...this._rgb.slice(0,3))};const cne=(e,t,n)=>(e=Rx(e),t=Rx(t),n=Rx(n),.2126*e+.7152*t+.0722*n),Rx=e=>(e/=255,e<=.03928?e/12.92:one((e+.055)/1.055,2.4)),En={},oc=(e,t,n=.5,...r)=>{let s=r[0]||"lrgb";if(!En[s]&&!r.length&&(s=Object.keys(En)[0]),!En[s])throw new Error(`interpolation mode ${s} is not defined`);return tt(e)!=="object"&&(e=new _e(e)),tt(t)!=="object"&&(t=new _e(t)),En[s](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};_e.prototype.mix=_e.prototype.interpolate=function(e,t=.5,...n){return oc(this,e,t,...n)};_e.prototype.premultiply=function(e=!1){const t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new _e([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};const{sin:une,cos:dne}=Math,VO=(...e)=>{let[t,n,r]=Ye(e,"lch");return isNaN(r)&&(r=0),r=r*Xte,[t,dne(r)*n,une(r)*n]},Aj=(...e)=>{e=Ye(e,"lch");const[t,n,r]=e,[s,i,o]=VO(t,n,r),[l,u,d]=Mj(s,i,o);return[l,u,d,e.length>3?e[3]:1]},fne=(...e)=>{const t=OO(Ye(e,"hcl"));return Aj(...t)},{sqrt:hne,atan2:pne,round:mne}=Math,UO=(...e)=>{const[t,n,r]=Ye(e,"lab"),s=hne(n*n+r*r);let i=(pne(r,n)*Jte+360)%360;return mne(s*1e4)===0&&(i=Number.NaN),[t,s,i]},Lj=(...e)=>{const[t,n,r,...s]=Ye(e,"rgb"),[i,o,l]=Dj(t,n,r),[u,d,f]=UO(i,o,l);return[u,d,f,...s.length>0&&s[0]<1?[s[0]]:[]]};_e.prototype.lch=function(){return Lj(this._rgb)};_e.prototype.hcl=function(){return OO(Lj(this._rgb))};const gne=(...e)=>new _e(...e,"lch"),yne=(...e)=>new _e(...e,"hcl");Object.assign(Je,{lch:gne,hcl:yne});Ge.format.lch=Aj;Ge.format.hcl=fne;["lch","hcl"].forEach(e=>Ge.autodetect.push({p:2,test:(...t)=>{if(t=Ye(t,e),tt(t)==="array"&&t.length===3)return e}}));_e.prototype.saturate=function(e=1){const t=this,n=t.lch();return n[1]+=Rs.Kn*e,n[1]<0&&(n[1]=0),new _e(n,"lch").alpha(t.alpha(),!0)};_e.prototype.desaturate=function(e=1){return this.saturate(-e)};_e.prototype.set=function(e,t,n=!1){const[r,s]=e.split("."),i=this[r]();if(s){const o=r.indexOf(s)-(r.substr(0,2)==="ok"?2:0);if(o>-1){if(tt(t)=="string")switch(t.charAt(0)){case"+":i[o]+=+t;break;case"-":i[o]+=+t;break;case"*":i[o]*=+t.substr(1);break;case"/":i[o]/=+t.substr(1);break;default:i[o]=+t}else if(tt(t)==="number")i[o]=t;else throw new Error("unsupported value for Color.set");const l=new _e(i,r);return n?(this._rgb=l._rgb,this):l}throw new Error(`unknown channel ${s} in mode ${r}`)}else return i};_e.prototype.tint=function(e=.5,...t){return oc(this,"white",e,...t)};_e.prototype.shade=function(e=.5,...t){return oc(this,"black",e,...t)};const xne=(e,t,n)=>{const r=e._rgb,s=t._rgb;return new _e(r[0]+n*(s[0]-r[0]),r[1]+n*(s[1]-r[1]),r[2]+n*(s[2]-r[2]),"rgb")};En.rgb=xne;const{sqrt:Ox,pow:tl}=Math,vne=(e,t,n)=>{const[r,s,i]=e._rgb,[o,l,u]=t._rgb;return new _e(Ox(tl(r,2)*(1-n)+tl(o,2)*n),Ox(tl(s,2)*(1-n)+tl(l,2)*n),Ox(tl(i,2)*(1-n)+tl(u,2)*n),"rgb")};En.lrgb=vne;const bne=(e,t,n)=>{const r=e.lab(),s=t.lab();return new _e(r[0]+n*(s[0]-r[0]),r[1]+n*(s[1]-r[1]),r[2]+n*(s[2]-r[2]),"lab")};En.lab=bne;const Ic=(e,t,n,r)=>{let s,i;r==="hsl"?(s=e.hsl(),i=t.hsl()):r==="hsv"?(s=e.hsv(),i=t.hsv()):r==="hcg"?(s=e.hcg(),i=t.hcg()):r==="hsi"?(s=e.hsi(),i=t.hsi()):r==="lch"||r==="hcl"?(r="hcl",s=e.hcl(),i=t.hcl()):r==="oklch"&&(s=e.oklch().reverse(),i=t.oklch().reverse());let o,l,u,d,f,h;(r.substr(0,1)==="h"||r==="oklch")&&([o,u,f]=s,[l,d,h]=i);let p,y,w,b;return!isNaN(o)&&!isNaN(l)?(l>o&&l-o>180?b=l-(o+360):l<o&&o-l>180?b=l+360-o:b=l-o,y=o+n*b):isNaN(o)?isNaN(l)?y=Number.NaN:(y=l,(f==1||f==0)&&r!="hsv"&&(p=d)):(y=o,(h==1||h==0)&&r!="hsv"&&(p=u)),p===void 0&&(p=u+n*(d-u)),w=f+n*(h-f),r==="oklch"?new _e([w,p,y],r):new _e([y,p,w],r)},WO=(e,t,n)=>Ic(e,t,n,"lch");En.lch=WO;En.hcl=WO;const wne=e=>{if(tt(e)=="number"&&e>=0&&e<=16777215){const t=e>>16,n=e>>8&255,r=e&255;return[t,n,r,1]}throw new Error("unknown num color: "+e)},_ne=(...e)=>{const[t,n,r]=Ye(e,"rgb");return(t<<16)+(n<<8)+r};_e.prototype.num=function(){return _ne(this._rgb)};const jne=(...e)=>new _e(...e,"num");Object.assign(Je,{num:jne});Ge.format.num=wne;Ge.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&tt(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const Nne=(e,t,n)=>{const r=e.num(),s=t.num();return new _e(r+n*(s-r),"num")};En.num=Nne;const{floor:Sne}=Math,kne=(...e)=>{e=Ye(e,"hcg");let[t,n,r]=e,s,i,o;r=r*255;const l=n*255;if(n===0)s=i=o=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const u=Sne(t),d=t-u,f=r*(1-n),h=f+l*(1-d),p=f+l*d,y=f+l;switch(u){case 0:[s,i,o]=[y,p,f];break;case 1:[s,i,o]=[h,y,f];break;case 2:[s,i,o]=[f,y,p];break;case 3:[s,i,o]=[f,h,y];break;case 4:[s,i,o]=[p,f,y];break;case 5:[s,i,o]=[y,f,h];break}}return[s,i,o,e.length>3?e[3]:1]},Cne=(...e)=>{const[t,n,r]=Ye(e,"rgb"),s=IO(t,n,r),i=RO(t,n,r),o=i-s,l=o*100/255,u=s/(255-o)*100;let d;return o===0?d=Number.NaN:(t===i&&(d=(n-r)/o),n===i&&(d=2+(r-t)/o),r===i&&(d=4+(t-n)/o),d*=60,d<0&&(d+=360)),[d,l,u]};_e.prototype.hcg=function(){return Cne(this._rgb)};const Pne=(...e)=>new _e(...e,"hcg");Je.hcg=Pne;Ge.format.hcg=kne;Ge.autodetect.push({p:1,test:(...e)=>{if(e=Ye(e,"hcg"),tt(e)==="array"&&e.length===3)return"hcg"}});const Tne=(e,t,n)=>Ic(e,t,n,"hcg");En.hcg=Tne;const{cos:nl}=Math,Ene=(...e)=>{e=Ye(e,"hsi");let[t,n,r]=e,s,i,o;return isNaN(t)&&(t=0),isNaN(n)&&(n=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(o=(1-n)/3,s=(1+n*nl(ii*t)/nl(Ax-ii*t))/3,i=1-(o+s)):t<2/3?(t-=1/3,s=(1-n)/3,i=(1+n*nl(ii*t)/nl(Ax-ii*t))/3,o=1-(s+i)):(t-=2/3,i=(1-n)/3,o=(1+n*nl(ii*t)/nl(Ax-ii*t))/3,s=1-(i+o)),s=da(r*s*3),i=da(r*i*3),o=da(r*o*3),[s*255,i*255,o*255,e.length>3?e[3]:1]},{min:Mne,sqrt:Dne,acos:Ane}=Math,Lne=(...e)=>{let[t,n,r]=Ye(e,"rgb");t/=255,n/=255,r/=255;let s;const i=Mne(t,n,r),o=(t+n+r)/3,l=o>0?1-i/o:0;return l===0?s=NaN:(s=(t-n+(t-r))/2,s/=Dne((t-n)*(t-n)+(t-r)*(n-r)),s=Ane(s),r>n&&(s=ii-s),s/=ii),[s*360,l,o]};_e.prototype.hsi=function(){return Lne(this._rgb)};const Ine=(...e)=>new _e(...e,"hsi");Je.hsi=Ine;Ge.format.hsi=Ene;Ge.autodetect.push({p:2,test:(...e)=>{if(e=Ye(e,"hsi"),tt(e)==="array"&&e.length===3)return"hsi"}});const Rne=(e,t,n)=>Ic(e,t,n,"hsi");En.hsi=Rne;const Bw=(...e)=>{e=Ye(e,"hsl");const[t,n,r]=e;let s,i,o;if(n===0)s=i=o=r*255;else{const l=[0,0,0],u=[0,0,0],d=r<.5?r*(1+n):r+n-r*n,f=2*r-d,h=t/360;l[0]=h+1/3,l[1]=h,l[2]=h-1/3;for(let p=0;p<3;p++)l[p]<0&&(l[p]+=1),l[p]>1&&(l[p]-=1),6*l[p]<1?u[p]=f+(d-f)*6*l[p]:2*l[p]<1?u[p]=d:3*l[p]<2?u[p]=f+(d-f)*(2/3-l[p])*6:u[p]=f;[s,i,o]=[u[0]*255,u[1]*255,u[2]*255]}return e.length>3?[s,i,o,e[3]]:[s,i,o,1]},HO=(...e)=>{e=Ye(e,"rgba");let[t,n,r]=e;t/=255,n/=255,r/=255;const s=IO(t,n,r),i=RO(t,n,r),o=(i+s)/2;let l,u;return i===s?(l=0,u=Number.NaN):l=o<.5?(i-s)/(i+s):(i-s)/(2-i-s),t==i?u=(n-r)/(i-s):n==i?u=2+(r-t)/(i-s):r==i&&(u=4+(t-n)/(i-s)),u*=60,u<0&&(u+=360),e.length>3&&e[3]!==void 0?[u,l,o,e[3]]:[u,l,o]};_e.prototype.hsl=function(){return HO(this._rgb)};const One=(...e)=>new _e(...e,"hsl");Je.hsl=One;Ge.format.hsl=Bw;Ge.autodetect.push({p:2,test:(...e)=>{if(e=Ye(e,"hsl"),tt(e)==="array"&&e.length===3)return"hsl"}});const $ne=(e,t,n)=>Ic(e,t,n,"hsl");En.hsl=$ne;const{floor:Fne}=Math,zne=(...e)=>{e=Ye(e,"hsv");let[t,n,r]=e,s,i,o;if(r*=255,n===0)s=i=o=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const l=Fne(t),u=t-l,d=r*(1-n),f=r*(1-n*u),h=r*(1-n*(1-u));switch(l){case 0:[s,i,o]=[r,h,d];break;case 1:[s,i,o]=[f,r,d];break;case 2:[s,i,o]=[d,r,h];break;case 3:[s,i,o]=[d,f,r];break;case 4:[s,i,o]=[h,d,r];break;case 5:[s,i,o]=[r,d,f];break}}return[s,i,o,e.length>3?e[3]:1]},{min:Bne,max:Vne}=Math,Une=(...e)=>{e=Ye(e,"rgb");let[t,n,r]=e;const s=Bne(t,n,r),i=Vne(t,n,r),o=i-s;let l,u,d;return d=i/255,i===0?(l=Number.NaN,u=0):(u=o/i,t===i&&(l=(n-r)/o),n===i&&(l=2+(r-t)/o),r===i&&(l=4+(t-n)/o),l*=60,l<0&&(l+=360)),[l,u,d]};_e.prototype.hsv=function(){return Une(this._rgb)};const Wne=(...e)=>new _e(...e,"hsv");Je.hsv=Wne;Ge.format.hsv=zne;Ge.autodetect.push({p:2,test:(...e)=>{if(e=Ye(e,"hsv"),tt(e)==="array"&&e.length===3)return"hsv"}});const Hne=(e,t,n)=>Ic(e,t,n,"hsv");En.hsv=Hne;function am(e,t){let n=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(o=>[o]));let r=t[0].length,s=t[0].map((o,l)=>t.map(u=>u[l])),i=e.map(o=>s.map(l=>Array.isArray(o)?o.reduce((u,d,f)=>u+d*(l[f]||0),0):l.reduce((u,d)=>u+d*o,0)));return n===1&&(i=i[0]),r===1?i.map(o=>o[0]):i}const Ij=(...e)=>{e=Ye(e,"lab");const[t,n,r,...s]=e,[i,o,l]=Gne([t,n,r]),[u,d,f]=zO(i,o,l);return[u,d,f,...s.length>0&&s[0]<1?[s[0]]:[]]};function Gne(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],n=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=am(n,e);return am(t,r.map(s=>s**3))}const Rj=(...e)=>{const[t,n,r,...s]=Ye(e,"rgb"),i=BO(t,n,r);return[...qne(i),...s.length>0&&s[0]<1?[s[0]]:[]]};function qne(e){const t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],n=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=am(t,e);return am(n,r.map(s=>Math.cbrt(s)))}_e.prototype.oklab=function(){return Rj(this._rgb)};const Yne=(...e)=>new _e(...e,"oklab");Object.assign(Je,{oklab:Yne});Ge.format.oklab=Ij;Ge.autodetect.push({p:2,test:(...e)=>{if(e=Ye(e,"oklab"),tt(e)==="array"&&e.length===3)return"oklab"}});const Zne=(e,t,n)=>{const r=e.oklab(),s=t.oklab();return new _e(r[0]+n*(s[0]-r[0]),r[1]+n*(s[1]-r[1]),r[2]+n*(s[2]-r[2]),"oklab")};En.oklab=Zne;const Kne=(e,t,n)=>Ic(e,t,n,"oklch");En.oklch=Kne;const{pow:$x,sqrt:Fx,PI:zx,cos:hT,sin:pT,atan2:Xne}=Math,Jne=(e,t="lrgb",n=null)=>{const r=e.length;n||(n=Array.from(new Array(r)).map(()=>1));const s=r/n.reduce(function(h,p){return h+p});if(n.forEach((h,p)=>{n[p]*=s}),e=e.map(h=>new _e(h)),t==="lrgb")return Qne(e,n);const i=e.shift(),o=i.get(t),l=[];let u=0,d=0;for(let h=0;h<o.length;h++)if(o[h]=(o[h]||0)*n[0],l.push(isNaN(o[h])?0:n[0]),t.charAt(h)==="h"&&!isNaN(o[h])){const p=o[h]/180*zx;u+=hT(p)*n[0],d+=pT(p)*n[0]}let f=i.alpha()*n[0];e.forEach((h,p)=>{const y=h.get(t);f+=h.alpha()*n[p+1];for(let w=0;w<o.length;w++)if(!isNaN(y[w]))if(l[w]+=n[p+1],t.charAt(w)==="h"){const b=y[w]/180*zx;u+=hT(b)*n[p+1],d+=pT(b)*n[p+1]}else o[w]+=y[w]*n[p+1]});for(let h=0;h<o.length;h++)if(t.charAt(h)==="h"){let p=Xne(d/l[h],u/l[h])/zx*180;for(;p<0;)p+=360;for(;p>=360;)p-=360;o[h]=p}else o[h]=o[h]/l[h];return f/=r,new _e(o,t).alpha(f>.99999?1:f,!0)},Qne=(e,t)=>{const n=e.length,r=[0,0,0,0];for(let s=0;s<e.length;s++){const i=e[s],o=t[s]/n,l=i._rgb;r[0]+=$x(l[0],2)*o,r[1]+=$x(l[1],2)*o,r[2]+=$x(l[2],2)*o,r[3]+=l[3]*o}return r[0]=Fx(r[0]),r[1]=Fx(r[1]),r[2]=Fx(r[2]),r[3]>.9999999&&(r[3]=1),new _e(Ej(r))},{pow:ere}=Math;function lm(e){let t="rgb",n=Je("#ccc"),r=0,s=[0,1],i=[],o=[0,0],l=!1,u=[],d=!1,f=0,h=1,p=!1,y={},w=!0,b=1;const N=function(C){if(C=C||["#fff","#000"],C&&tt(C)==="string"&&Je.brewer&&Je.brewer[C.toLowerCase()]&&(C=Je.brewer[C.toLowerCase()]),tt(C)==="array"){C.length===1&&(C=[C[0],C[0]]),C=C.slice(0);for(let T=0;T<C.length;T++)C[T]=Je(C[T]);i.length=0;for(let T=0;T<C.length;T++)i.push(T/(C.length-1))}return P(),u=C},v=function(C){if(l!=null){const T=l.length-1;let D=0;for(;D<T&&C>=l[D];)D++;return D-1}return 0};let _=C=>C,j=C=>C;const S=function(C,T){let D,R;if(T==null&&(T=!1),isNaN(C)||C===null)return n;T?R=C:l&&l.length>2?R=v(C)/(l.length-2):h!==f?R=(C-f)/(h-f):R=1,R=j(R),T||(R=_(R)),b!==1&&(R=ere(R,b)),R=o[0]+R*(1-o[0]-o[1]),R=da(R,0,1);const F=Math.floor(R*1e4);if(w&&y[F])D=y[F];else{if(tt(u)==="array")for(let A=0;A<i.length;A++){const O=i[A];if(R<=O){D=u[A];break}if(R>=O&&A===i.length-1){D=u[A];break}if(R>O&&R<i[A+1]){R=(R-O)/(i[A+1]-O),D=Je.interpolate(u[A],u[A+1],R,t);break}}else tt(u)==="function"&&(D=u(R));w&&(y[F]=D)}return D};var P=()=>y={};N(e);const E=function(C){const T=Je(S(C));return d&&T[d]?T[d]():T};return E.classes=function(C){if(C!=null){if(tt(C)==="array")l=C,s=[C[0],C[C.length-1]];else{const T=Je.analyze(s);C===0?l=[T.min,T.max]:l=Je.limits(T,"e",C)}return E}return l},E.domain=function(C){if(!arguments.length)return s;f=C[0],h=C[C.length-1],i=[];const T=u.length;if(C.length===T&&f!==h)for(let D of Array.from(C))i.push((D-f)/(h-f));else{for(let D=0;D<T;D++)i.push(D/(T-1));if(C.length>2){const D=C.map((F,A)=>A/(C.length-1)),R=C.map(F=>(F-f)/(h-f));R.every((F,A)=>D[A]===F)||(j=F=>{if(F<=0||F>=1)return F;let A=0;for(;F>=R[A+1];)A++;const O=(F-R[A])/(R[A+1]-R[A]);return D[A]+O*(D[A+1]-D[A])})}}return s=[f,h],E},E.mode=function(C){return arguments.length?(t=C,P(),E):t},E.range=function(C,T){return N(C),E},E.out=function(C){return d=C,E},E.spread=function(C){return arguments.length?(r=C,E):r},E.correctLightness=function(C){return C==null&&(C=!0),p=C,P(),p?_=function(T){const D=S(0,!0).lab()[0],R=S(1,!0).lab()[0],F=D>R;let A=S(T,!0).lab()[0];const O=D+(R-D)*T;let $=A-O,K=0,te=1,W=20;for(;Math.abs($)>.01&&W-- >0;)(function(){return F&&($*=-1),$<0?(K=T,T+=(te-T)*.5):(te=T,T+=(K-T)*.5),A=S(T,!0).lab()[0],$=A-O})();return T}:_=T=>T,E},E.padding=function(C){return C!=null?(tt(C)==="number"&&(C=[C,C]),o=C,E):o},E.colors=function(C,T){arguments.length<2&&(T="hex");let D=[];if(arguments.length===0)D=u.slice(0);else if(C===1)D=[E(.5)];else if(C>1){const R=s[0],F=s[1]-R;D=tre(0,C).map(A=>E(R+A/(C-1)*F))}else{e=[];let R=[];if(l&&l.length>2)for(let F=1,A=l.length,O=1<=A;O?F<A:F>A;O?F++:F--)R.push((l[F-1]+l[F])*.5);else R=s;D=R.map(F=>E(F))}return Je[T]&&(D=D.map(R=>R[T]())),D},E.cache=function(C){return C!=null?(w=C,E):w},E.gamma=function(C){return C!=null?(b=C,E):b},E.nodata=function(C){return C!=null?(n=Je(C),E):n},E}function tre(e,t,n){let r=[],s=e<t,i=t;for(let o=e;s?o<i:o>i;s?o++:o--)r.push(o);return r}const nre=function(e){let t=[1,1];for(let n=1;n<e;n++){let r=[1];for(let s=1;s<=t.length;s++)r[s]=(t[s]||0)+t[s-1];t=r}return t},rre=function(e){let t,n,r,s;if(e=e.map(i=>new _e(i)),e.length===2)[n,r]=e.map(i=>i.lab()),t=function(i){const o=[0,1,2].map(l=>n[l]+i*(r[l]-n[l]));return new _e(o,"lab")};else if(e.length===3)[n,r,s]=e.map(i=>i.lab()),t=function(i){const o=[0,1,2].map(l=>(1-i)*(1-i)*n[l]+2*(1-i)*i*r[l]+i*i*s[l]);return new _e(o,"lab")};else if(e.length===4){let i;[n,r,s,i]=e.map(o=>o.lab()),t=function(o){const l=[0,1,2].map(u=>(1-o)*(1-o)*(1-o)*n[u]+3*(1-o)*(1-o)*o*r[u]+3*(1-o)*o*o*s[u]+o*o*o*i[u]);return new _e(l,"lab")}}else if(e.length>=5){let i,o,l;i=e.map(u=>u.lab()),l=e.length-1,o=nre(l),t=function(u){const d=1-u,f=[0,1,2].map(h=>i.reduce((p,y,w)=>p+o[w]*d**(l-w)*u**w*y[h],0));return new _e(f,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},sre=e=>{const t=rre(e);return t.scale=()=>lm(t),t},{round:GO}=Math;_e.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(GO)};_e.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,n)=>n<3?e===!1?t:GO(t):t)};const ire=(...e)=>new _e(...e,"rgb");Object.assign(Je,{rgb:ire});Ge.format.rgb=(...e)=>{const t=Ye(e,"rgba");return t[3]===void 0&&(t[3]=1),t};Ge.autodetect.push({p:3,test:(...e)=>{if(e=Ye(e,"rgba"),tt(e)==="array"&&(e.length===3||e.length===4&&tt(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const fs=(e,t,n)=>{if(!fs[n])throw new Error("unknown blend mode "+n);return fs[n](e,t)},ko=e=>(t,n)=>{const r=Je(n).rgb(),s=Je(t).rgb();return Je.rgb(e(r,s))},Co=e=>(t,n)=>{const r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r},ore=e=>e,are=(e,t)=>e*t/255,lre=(e,t)=>e>t?t:e,cre=(e,t)=>e>t?e:t,ure=(e,t)=>255*(1-(1-e/255)*(1-t/255)),dre=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),fre=(e,t)=>255*(1-(1-t/255)/(e/255)),hre=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);fs.normal=ko(Co(ore));fs.multiply=ko(Co(are));fs.screen=ko(Co(ure));fs.overlay=ko(Co(dre));fs.darken=ko(Co(lre));fs.lighten=ko(Co(cre));fs.dodge=ko(Co(hre));fs.burn=ko(Co(fre));const{pow:pre,sin:mre,cos:gre}=Math;function yre(e=300,t=-1.5,n=1,r=1,s=[0,1]){let i=0,o;tt(s)==="array"?o=s[1]-s[0]:(o=0,s=[s,s]);const l=function(u){const d=ii*((e+120)/360+t*u),f=pre(s[0]+o*u,r),p=(i!==0?n[0]+u*i:n)*f*(1-f)/2,y=gre(d),w=mre(d),b=f+p*(-.14861*y+1.78277*w),N=f+p*(-.29227*y-.90649*w),v=f+p*(1.97294*y);return Je(Ej([b*255,N*255,v*255,1]))};return l.start=function(u){return u==null?e:(e=u,l)},l.rotations=function(u){return u==null?t:(t=u,l)},l.gamma=function(u){return u==null?r:(r=u,l)},l.hue=function(u){return u==null?n:(n=u,tt(n)==="array"?(i=n[1]-n[0],i===0&&(n=n[1])):i=0,l)},l.lightness=function(u){return u==null?s:(tt(u)==="array"?(s=u,o=u[1]-u[0]):(s=[u,u],o=0),l)},l.scale=()=>Je.scale(l),l.hue(n),l}const xre="0123456789abcdef",{floor:vre,random:bre}=Math,wre=()=>{let e="#";for(let t=0;t<6;t++)e+=xre.charAt(vre(bre()*16));return new _e(e,"hex")},{log:mT,pow:_re,floor:jre,abs:Nre}=Math;function qO(e,t=null){const n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return tt(e)==="object"&&(e=Object.values(e)),e.forEach(r=>{t&&tt(r)==="object"&&(r=r[t]),r!=null&&!isNaN(r)&&(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(r,s)=>YO(n,r,s),n}function YO(e,t="equal",n=7){tt(e)=="array"&&(e=qO(e));const{min:r,max:s}=e,i=e.values.sort((l,u)=>l-u);if(n===1)return[r,s];const o=[];if(t.substr(0,1)==="c"&&(o.push(r),o.push(s)),t.substr(0,1)==="e"){o.push(r);for(let l=1;l<n;l++)o.push(r+l/n*(s-r));o.push(s)}else if(t.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const l=Math.LOG10E*mT(r),u=Math.LOG10E*mT(s);o.push(r);for(let d=1;d<n;d++)o.push(_re(10,l+d/n*(u-l)));o.push(s)}else if(t.substr(0,1)==="q"){o.push(r);for(let l=1;l<n;l++){const u=(i.length-1)*l/n,d=jre(u);if(d===u)o.push(i[d]);else{const f=u-d;o.push(i[d]*(1-f)+i[d+1]*f)}}o.push(s)}else if(t.substr(0,1)==="k"){let l;const u=i.length,d=new Array(u),f=new Array(n);let h=!0,p=0,y=null;y=[],y.push(r);for(let N=1;N<n;N++)y.push(r+N/n*(s-r));for(y.push(s);h;){for(let v=0;v<n;v++)f[v]=0;for(let v=0;v<u;v++){const _=i[v];let j=Number.MAX_VALUE,S;for(let P=0;P<n;P++){const E=Nre(y[P]-_);E<j&&(j=E,S=P),f[S]++,d[v]=S}}const N=new Array(n);for(let v=0;v<n;v++)N[v]=null;for(let v=0;v<u;v++)l=d[v],N[l]===null?N[l]=i[v]:N[l]+=i[v];for(let v=0;v<n;v++)N[v]*=1/f[v];h=!1;for(let v=0;v<n;v++)if(N[v]!==y[v]){h=!0;break}y=N,p++,p>200&&(h=!1)}const w={};for(let N=0;N<n;N++)w[N]=[];for(let N=0;N<u;N++)l=d[N],w[l].push(i[N]);let b=[];for(let N=0;N<n;N++)b.push(w[N][0]),b.push(w[N][w[N].length-1]);b=b.sort((N,v)=>N-v),o.push(b[0]);for(let N=1;N<b.length;N+=2){const v=b[N];!isNaN(v)&&o.indexOf(v)===-1&&o.push(v)}}return o}const Sre=(e,t)=>{e=new _e(e),t=new _e(t);const n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const gT=.027,kre=5e-4,Cre=.1,yT=1.14,jh=.022,xT=1.414,Pre=(e,t)=>{e=new _e(e),t=new _e(t),e.alpha()<1&&(e=oc(t,e,e.alpha(),"rgb"));const n=vT(...e.rgb()),r=vT(...t.rgb()),s=n>=jh?n:n+Math.pow(jh-n,xT),i=r>=jh?r:r+Math.pow(jh-r,xT),o=Math.pow(i,.56)-Math.pow(s,.57),l=Math.pow(i,.65)-Math.pow(s,.62),u=Math.abs(i-s)<kre?0:s<i?o*yT:l*yT;return(Math.abs(u)<Cre?0:u>0?u-gT:u+gT)*100};function vT(e,t,n){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(n/255,2.4)}const{sqrt:ni,pow:Kt,min:Tre,max:Ere,atan2:bT,abs:wT,cos:Nh,sin:_T,exp:Mre,PI:jT}=Math;function Dre(e,t,n=1,r=1,s=1){var i=function(G){return 360*G/(2*jT)},o=function(G){return 2*jT*G/360};e=new _e(e),t=new _e(t);const[l,u,d]=Array.from(e.lab()),[f,h,p]=Array.from(t.lab()),y=(l+f)/2,w=ni(Kt(u,2)+Kt(d,2)),b=ni(Kt(h,2)+Kt(p,2)),N=(w+b)/2,v=.5*(1-ni(Kt(N,7)/(Kt(N,7)+Kt(25,7)))),_=u*(1+v),j=h*(1+v),S=ni(Kt(_,2)+Kt(d,2)),P=ni(Kt(j,2)+Kt(p,2)),E=(S+P)/2,C=i(bT(d,_)),T=i(bT(p,j)),D=C>=0?C:C+360,R=T>=0?T:T+360,F=wT(D-R)>180?(D+R+360)/2:(D+R)/2,A=1-.17*Nh(o(F-30))+.24*Nh(o(2*F))+.32*Nh(o(3*F+6))-.2*Nh(o(4*F-63));let O=R-D;O=wT(O)<=180?O:R<=D?O+360:O-360,O=2*ni(S*P)*_T(o(O)/2);const $=f-l,K=P-S,te=1+.015*Kt(y-50,2)/ni(20+Kt(y-50,2)),W=1+.045*E,z=1+.015*E*A,V=30*Mre(-Kt((F-275)/25,2)),Z=-(2*ni(Kt(E,7)/(Kt(E,7)+Kt(25,7))))*_T(2*o(V)),X=ni(Kt($/(n*te),2)+Kt(K/(r*W),2)+Kt(O/(s*z),2)+Z*(K/(r*W))*(O/(s*z)));return Ere(0,Tre(100,X))}function Are(e,t,n="lab"){e=new _e(e),t=new _e(t);const r=e.get(n),s=t.get(n);let i=0;for(let o in r){const l=(r[o]||0)-(s[o]||0);i+=l*l}return Math.sqrt(i)}const Lre=(...e)=>{try{return new _e(...e),!0}catch{return!1}},Ire={cool(){return lm([Je.hsl(180,1,.9),Je.hsl(250,.7,.4)])},hot(){return lm(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Vw={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ZO=Object.keys(Vw),NT=new Map(ZO.map(e=>[e.toLowerCase(),e])),Rre=typeof Proxy=="function"?new Proxy(Vw,{get(e,t){const n=t.toLowerCase();if(NT.has(n))return e[NT.get(n)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(ZO)}}):Vw,Ore=(...e)=>{e=Ye(e,"cmyk");const[t,n,r,s]=e,i=e.length>4?e[4]:1;return s===1?[0,0,0,i]:[t>=1?0:255*(1-t)*(1-s),n>=1?0:255*(1-n)*(1-s),r>=1?0:255*(1-r)*(1-s),i]},{max:ST}=Math,$re=(...e)=>{let[t,n,r]=Ye(e,"rgb");t=t/255,n=n/255,r=r/255;const s=1-ST(t,ST(n,r)),i=s<1?1/(1-s):0,o=(1-t-s)*i,l=(1-n-s)*i,u=(1-r-s)*i;return[o,l,u,s]};_e.prototype.cmyk=function(){return $re(this._rgb)};const Fre=(...e)=>new _e(...e,"cmyk");Object.assign(Je,{cmyk:Fre});Ge.format.cmyk=Ore;Ge.autodetect.push({p:2,test:(...e)=>{if(e=Ye(e,"cmyk"),tt(e)==="array"&&e.length===4)return"cmyk"}});const zre=(...e)=>{const t=Ye(e,"hsla");let n=Lc(e)||"lsa";return t[0]=Br(t[0]||0)+"deg",t[1]=Br(t[1]*100)+"%",t[2]=Br(t[2]*100)+"%",n==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),n="hsla"):t.length=3,`${n.substr(0,3)}(${t.join(" ")})`},Bre=(...e)=>{const t=Ye(e,"lab");let n=Lc(e)||"lab";return t[0]=Br(t[0])+"%",t[1]=Br(t[1]),t[2]=Br(t[2]),n==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},Vre=(...e)=>{const t=Ye(e,"lch");let n=Lc(e)||"lab";return t[0]=Br(t[0])+"%",t[1]=Br(t[1]),t[2]=isNaN(t[2])?"none":Br(t[2])+"deg",n==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},Ure=(...e)=>{const t=Ye(e,"lab");return t[0]=Br(t[0]*100)+"%",t[1]=zw(t[1]),t[2]=zw(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},KO=(...e)=>{const[t,n,r,...s]=Ye(e,"rgb"),[i,o,l]=Rj(t,n,r),[u,d,f]=UO(i,o,l);return[u,d,f,...s.length>0&&s[0]<1?[s[0]]:[]]},Wre=(...e)=>{const t=Ye(e,"lch");return t[0]=Br(t[0]*100)+"%",t[1]=zw(t[1]),t[2]=isNaN(t[2])?"none":Br(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},{round:Bx}=Math,Hre=(...e)=>{const t=Ye(e,"rgba");let n=Lc(e)||"rgb";if(n.substr(0,3)==="hsl")return zre(HO(t),n);if(n.substr(0,3)==="lab"){const r=Ed();ui("d50");const s=Bre(Dj(t),n);return ui(r),s}if(n.substr(0,3)==="lch"){const r=Ed();ui("d50");const s=Vre(Lj(t),n);return ui(r),s}return n.substr(0,5)==="oklab"?Ure(Rj(t)):n.substr(0,5)==="oklch"?Wre(KO(t)):(t[0]=Bx(t[0]),t[1]=Bx(t[1]),t[2]=Bx(t[2]),(n==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),n="rgba"),`${n.substr(0,3)}(${t.slice(0,n==="rgb"?3:4).join(" ")})`)},XO=(...e)=>{e=Ye(e,"lch");const[t,n,r,...s]=e,[i,o,l]=VO(t,n,r),[u,d,f]=Ij(i,o,l);return[u,d,f,...s.length>0&&s[0]<1?[s[0]]:[]]},yi=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,ls=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,cm=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Gr=/\s*/.source,Rc=/\s+/.source,Oj=/\s*,\s*/.source,Sg=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Oc=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,JO=new RegExp("^rgba?\\("+Gr+[yi,yi,yi].join(Rc)+Oc+"\\)$"),QO=new RegExp("^rgb\\("+Gr+[yi,yi,yi].join(Oj)+Gr+"\\)$"),e5=new RegExp("^rgba\\("+Gr+[yi,yi,yi,ls].join(Oj)+Gr+"\\)$"),t5=new RegExp("^hsla?\\("+Gr+[Sg,cm,cm].join(Rc)+Oc+"\\)$"),n5=new RegExp("^hsl?\\("+Gr+[Sg,cm,cm].join(Oj)+Gr+"\\)$"),r5=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,s5=new RegExp("^lab\\("+Gr+[ls,ls,ls].join(Rc)+Oc+"\\)$"),i5=new RegExp("^lch\\("+Gr+[ls,ls,Sg].join(Rc)+Oc+"\\)$"),o5=new RegExp("^oklab\\("+Gr+[ls,ls,ls].join(Rc)+Oc+"\\)$"),a5=new RegExp("^oklch\\("+Gr+[ls,ls,Sg].join(Rc)+Oc+"\\)$"),{round:l5}=Math,rl=e=>e.map((t,n)=>n<=2?da(l5(t),0,255):t),Xt=(e,t=0,n=100,r=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,r?e=t+(e+1)*.5*(n-t):e=t+e*(n-t)),+e),In=(e,t)=>e==="none"?t:e,$j=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(Ge.format.named)try{return Ge.format.named(e)}catch{}if((t=e.match(JO))||(t=e.match(QO))){let n=t.slice(1,4);for(let s=0;s<3;s++)n[s]=+Xt(In(n[s],0),0,255);n=rl(n);const r=t[4]!==void 0?+Xt(t[4],0,1):1;return n[3]=r,n}if(t=e.match(e5)){const n=t.slice(1,5);for(let r=0;r<4;r++)n[r]=+Xt(n[r],0,255);return n}if((t=e.match(t5))||(t=e.match(n5))){const n=t.slice(1,4);n[0]=+In(n[0].replace("deg",""),0),n[1]=+Xt(In(n[1],0),0,100)*.01,n[2]=+Xt(In(n[2],0),0,100)*.01;const r=rl(Bw(n)),s=t[4]!==void 0?+Xt(t[4],0,1):1;return r[3]=s,r}if(t=e.match(r5)){const n=t.slice(1,4);n[1]*=.01,n[2]*=.01;const r=Bw(n);for(let s=0;s<3;s++)r[s]=l5(r[s]);return r[3]=+t[4],r}if(t=e.match(s5)){const n=t.slice(1,4);n[0]=Xt(In(n[0],0),0,100),n[1]=Xt(In(n[1],0),-125,125,!0),n[2]=Xt(In(n[2],0),-125,125,!0);const r=Ed();ui("d50");const s=rl(Mj(n));ui(r);const i=t[4]!==void 0?+Xt(t[4],0,1):1;return s[3]=i,s}if(t=e.match(i5)){const n=t.slice(1,4);n[0]=Xt(n[0],0,100),n[1]=Xt(In(n[1],0),0,150,!1),n[2]=+In(n[2].replace("deg",""),0);const r=Ed();ui("d50");const s=rl(Aj(n));ui(r);const i=t[4]!==void 0?+Xt(t[4],0,1):1;return s[3]=i,s}if(t=e.match(o5)){const n=t.slice(1,4);n[0]=Xt(In(n[0],0),0,1),n[1]=Xt(In(n[1],0),-.4,.4,!0),n[2]=Xt(In(n[2],0),-.4,.4,!0);const r=rl(Ij(n)),s=t[4]!==void 0?+Xt(t[4],0,1):1;return r[3]=s,r}if(t=e.match(a5)){const n=t.slice(1,4);n[0]=Xt(In(n[0],0),0,1),n[1]=Xt(In(n[1],0),0,.4,!1),n[2]=+In(n[2].replace("deg",""),0);const r=rl(XO(n)),s=t[4]!==void 0?+Xt(t[4],0,1):1;return r[3]=s,r}};$j.test=e=>JO.test(e)||t5.test(e)||s5.test(e)||i5.test(e)||o5.test(e)||a5.test(e)||QO.test(e)||e5.test(e)||n5.test(e)||r5.test(e)||e==="transparent";_e.prototype.css=function(e){return Hre(this._rgb,e)};const Gre=(...e)=>new _e(...e,"css");Je.css=Gre;Ge.format.css=$j;Ge.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&tt(e)==="string"&&$j.test(e))return"css"}});Ge.format.gl=(...e)=>{const t=Ye(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};const qre=(...e)=>new _e(...e,"gl");Je.gl=qre;_e.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};_e.prototype.hex=function(e){return FO(this._rgb,e)};const Yre=(...e)=>new _e(...e,"hex");Je.hex=Yre;Ge.format.hex=$O;Ge.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&tt(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:Sh}=Math,c5=e=>{const t=e/100;let n,r,s;return t<66?(n=255,r=t<6?0:-155.25485562709179-.44596950469579133*(r=t-2)+104.49216199393888*Sh(r),s=t<20?0:-254.76935184120902+.8274096064007395*(s=t-10)+115.67994401066147*Sh(s)):(n=351.97690566805693+.114206453784165*(n=t-55)-40.25366309332127*Sh(n),r=325.4494125711974+.07943456536662342*(r=t-50)-28.0852963507957*Sh(r),s=255),[n,r,s,1]},{round:Zre}=Math,Kre=(...e)=>{const t=Ye(e,"rgb"),n=t[0],r=t[2];let s=1e3,i=4e4;const o=.4;let l;for(;i-s>o;){l=(i+s)*.5;const u=c5(l);u[2]/u[0]>=r/n?i=l:s=l}return Zre(l)};_e.prototype.temp=_e.prototype.kelvin=_e.prototype.temperature=function(){return Kre(this._rgb)};const Vx=(...e)=>new _e(...e,"temp");Object.assign(Je,{temp:Vx,kelvin:Vx,temperature:Vx});Ge.format.temp=Ge.format.kelvin=Ge.format.temperature=c5;_e.prototype.oklch=function(){return KO(this._rgb)};const Xre=(...e)=>new _e(...e,"oklch");Object.assign(Je,{oklch:Xre});Ge.format.oklch=XO;Ge.autodetect.push({p:2,test:(...e)=>{if(e=Ye(e,"oklch"),tt(e)==="array"&&e.length===3)return"oklch"}});Object.assign(Je,{analyze:qO,average:Jne,bezier:sre,blend:fs,brewer:Rre,Color:_e,colors:ic,contrast:Sre,contrastAPCA:Pre,cubehelix:yre,deltaE:Dre,distance:Are,input:Ge,interpolate:oc,limits:YO,mix:oc,random:wre,scale:lm,scales:Ire,valid:Lre});const{useState:Jre,useCallback:kT,useEffect:Qre}=g;var ese=function(t){const n=[],r=()=>n.forEach(i=>i());let s=t instanceof Function?t():t;return function(){const o=Jre({})[1],l=kT(()=>o({}),[o]);Qre(()=>(n.push(l),()=>{n.splice(n.findIndex(l),1)}),[l]);const u=kT(d=>{d instanceof Function?s=d(s):s=d,r()},[l]);return[s,u]}};const tse=gn(ese),nse=({ref:e,open:t=!0,onClickOutside:n,onEscape:r})=>{g.useEffect(()=>{if(!t)return;const s=o=>{e.current&&!e.current.contains(o.target)&&(n==null||n(o))},i=o=>{o.code==="Escape"&&(r==null||r(o))};return n&&(document.addEventListener("mousedown",s),document.addEventListener("touchstart",s)),r&&document.addEventListener("keydown",i),()=>{n&&(document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)),r&&document.removeEventListener("keydown",i)}},[e,n,r,t])},rse=g.createContext({close:()=>{}});let sse=0;const ise=()=>`ref-${++sse}`,df=e=>{const[t]=g.useState(e||ise());return`${t}`},ose=e=>{const t=g.useRef(e);t.current=e,g.useLayoutEffect(()=>()=>t.current(),[])},ase=g.forwardRef(({children:e,className:t,style:n,element:r="div",onMount:s,onUnmount:i},o)=>{const l=g.useRef(null),u=g.useRef(!1);return g.useEffect(()=>{var d;t&&l.current&&l.current.setAttribute("class",`${t} rdk-portal`),n&&l.current&&((d=Object.keys(n))==null||d.forEach(f=>{var h;return(h=l.current.style)==null?void 0:h.setProperty(f,n[f])}))},[t,n,l.current]),g.useLayoutEffect(()=>{l.current=document.createElement(r),s==null||s()},[]),ose(()=>{i==null||i();const d=l.current;d&&document.body.contains(d)&&document.body.removeChild(d)}),g.useImperativeHandle(o,()=>l.current),l.current?(u.current||(u.current=!0,l.current.classList.add("rdk-portal"),document.body.appendChild(l.current)),Di.createPortal(e,l.current)):null}),Nl=[],lse=990,cse=g.forwardRef(({className:e,children:t,onMount:n,onUnmount:r,appendToBody:s=!0,id:i,style:o},l)=>{let u=df(i);const[d,f]=g.useState(null),[h,p]=g.useState(null),y=g.useRef(null);return g.useImperativeHandle(l,()=>y.current),a.jsx(ase,{className:e,ref:y,style:o,onMount:()=>{Nl.push(u);let w=Nl.indexOf(u);f(w);const b=lse+w*2+1;p(b),n==null||n({portalId:u,overlayIndex:b,portalIndex:w,backdropIndex:b})},onUnmount:()=>{r==null||r(),Nl.splice(Nl.indexOf(u),1),f(null),p(null)},children:t({overlayIndex:h,portalIndex:d,backdropIndex:h,portalId:u})})}),use=g.forwardRef(({children:e,className:t,elementType:n="span",trigger:r=["click"],onOpen:s=()=>{},onClose:i=()=>{}},o)=>{const l=g.useCallback(N=>Array.isArray(r)?r.includes(N):N===r,[r]),u=g.useCallback(N=>{l("focus")&&s({type:"focus",nativeEvent:N})},[s,l]),d=g.useCallback(N=>{l("focus")&&i({type:"focus",nativeEvent:N})},[i,l]),f=g.useCallback(N=>{l("hover")&&s({type:"hover",nativeEvent:N})},[s,l]),h=g.useCallback(N=>{l("hover")&&i({type:"hover",nativeEvent:N})},[i,l]),p=g.useCallback(N=>{l("click")&&s({type:"click",nativeEvent:N}),l("click")||i({type:"hover",nativeEvent:N})},[s,i,l]),y=g.useCallback(N=>{l("contextmenu")&&(N.preventDefault(),s({type:"contextmenu",nativeEvent:N}))},[l,s]),w=l("focus")?-1:void 0,b=n;return a.jsx(b,{ref:o,tabIndex:w,onMouseEnter:f,onMouseLeave:h,onFocus:u,onBlur:d,onClick:p,onContextMenu:y,className:t,children:e})}),dse=({reference:e,floating:t,followCursor:n,placement:r="top",modifiers:s=[nQ(),eQ({limiter:tQ()})]}={})=>{const i=g.useMemo(()=>!(e!=null&&e.nodeType),[e]),{refs:o,floatingStyles:l,update:u}=pQ({open:!0,placement:r,middleware:s,elements:{reference:i?null:e,floating:t},whileElementsMounted:GJ});g.useEffect(()=>{if(i&&e&&!n){const f=e;o.setPositionReference({getBoundingClientRect(){return{width:f.width,height:f.height,x:f.left,y:f.top,left:f.left,top:f.top,right:f.left+f.width,bottom:f.top+f.height}}})}},[e,o,i,n]);const d=g.useCallback(({clientX:f,clientY:h})=>{o.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:f,y:h,left:f,top:h,right:f,bottom:h}}})},[o]);return g.useLayoutEffect(()=>(n&&window.addEventListener("mousemove",d),()=>{window.removeEventListener("mousemove",d)}),[n,d]),{refs:o,anchorRef:o.reference,floatingRef:o.floating,floatingStyles:l,update:u}},fse=g.forwardRef(({triggerRef:e,children:t,portalClassName:n,closeOnBodyClick:r=!0,closeOnEscape:s=!0,elementType:i,appendToBody:o=!0,followCursor:l,modifiers:u,placement:d="bottom",onClose:f},h)=>{const p=df(),[y,w]=g.useState(null),{refs:b,floatingStyles:N,update:v}=dse({reference:e.current??e,followCursor:l,modifiers:u,placement:d});g.useImperativeHandle(h,()=>({updatePosition:()=>{v()}}));const _=g.useCallback(S=>{if(r){let P=null;e.current?P=e.current:e.contains!==void 0&&(P=e);const E=S.target.closest(".rdk-portal"),C=Nl.indexOf(p)===Nl.length-1;!(P!=null&&P.contains(S.target))&&(C||!E)&&(f==null||f(S))}},[r,f]),j=g.useCallback(()=>{s&&(f==null||f())},[s,f]);return nse({open:!0,ref:b.floating,onClickOutside:_,onEscape:j}),a.jsx(cse,{id:p,ref:b.setFloating,style:{...N,zIndex:y},className:n,appendToBody:o,onMount:S=>w(S.overlayIndex),onUnmount:()=>w(null),children:t})}),u5=g.forwardRef(({reference:e,children:t,open:n,content:r,triggerElement:s,triggerClassName:i,trigger:o="click",onOpen:l,onClose:u,...d},f)=>{const h=g.useRef(!1),p=g.useRef(null),y=g.useRef(null),w=e||p;g.useImperativeHandle(f,()=>({updatePosition:()=>{var N;(N=y.current)==null||N.updatePosition()}})),g.useEffect(()=>{h.current&&(n?l==null||l():u==null||u())},[n]),g.useEffect(()=>{h.current||(h.current=!0)});const b=g.useMemo(()=>({close:()=>u==null?void 0:u()}),[u]);return a.jsxs(rse.Provider,{value:b,children:[t&&a.jsx(g.Fragment,{children:o?a.jsx(use,{elementType:s,ref:p,className:i,trigger:o,onOpen:l,onClose:u,children:t}):t}),a.jsx(mt,{children:n&&a.jsx(fse,{...d,ref:y,triggerRef:w,onClose:u,children:r})})]})}),hse=g.createContext({variant:null,size:null}),d5=g.forwardRef(({color:e="default",variant:t="filled",children:n,fullWidth:r,size:s="medium",disableAnimation:i,className:o,disableMargins:l,disablePadding:u,disabled:d,startAdornment:f,endAdornment:h,theme:p,type:y="button",...w},b)=>{const N=ht("button",p),{variant:v,size:_}=g.useContext(hse),j=!!v&&!!_;return a.jsxs(Y.button,{...w,type:y,disabled:d,ref:b,whileTap:{scale:d||i?1:.9},"data-variant":v||t,className:He(N.base,N.disabled,r&&N.fullWidth,N.variants[v||t],N.colors[e][v||t],N.sizes[_||s],j&&N.group,j&&v==="text"&&N.groupText,l&&"m-0",u&&"p-0",o),children:[f&&a.jsx("div",{className:He(N.adornment.base,N.adornment.start,N.adornment.sizes[s]),children:f}),n,h&&a.jsx("div",{className:He(N.adornment.base,N.adornment.end,N.adornment.sizes[s]),children:h})]})}),f5=g.forwardRef(({children:e,color:t="default",variant:n="filled",size:r="medium",selected:s,disabled:i,className:o,disableMargins:l,start:u,end:d,onClick:f,theme:h,...p},y)=>{var b,N,v,_,j,S,P,E,C,T,D,R,F;const w=ht("chip",h);return a.jsxs("div",{...p,ref:y,tabIndex:f?0:-1,onClick:i?void 0:f,className:He(w.base,w.variants[n],(b=w.colors[t])==null?void 0:b.base,(v=(N=w.colors[t])==null?void 0:N.variants)==null?void 0:v[n],w.sizes[r],w.focus,!!f&&!i&&((j=(_=w.colors[t])==null?void 0:_.selectable)==null?void 0:j.base),!!f&&!i&&((C=(E=(P=(S=w.colors[t])==null?void 0:S.selectable)==null?void 0:P.variants)==null?void 0:E[n])==null?void 0:C.base),s&&((F=(R=(D=(T=w.colors[t])==null?void 0:T.selectable)==null?void 0:D.variants)==null?void 0:R[n])==null?void 0:F.selected),l&&"m-0","transition-colors duration-300 ease [&>svg]:transition-[fill] [&>svg]:will-change-[fill]",o,i&&w.disabled),"aria-disabled":i,children:[u&&a.jsx("div",{className:He(w.adornment.base,w.adornment.start,w.adornment.sizes[r]),children:u}),a.jsx("div",{className:"flex items-center",children:e}),d&&a.jsx("div",{className:He(w.adornment.base,w.adornment.end,w.adornment.sizes[r]),children:d})]})});function pse(e,t="short"){!e&&typeof window<"u"&&(e=navigator.language);const n=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const i=s<10?`0${s}`:s;return new Date(`2017-${i}-01T00:00:00+00:00`)}).map(s=>n.format(s))}pse();function mse(e){return Array.from({length:7},(t,n)=>(!e&&typeof window<"u"&&(e=navigator.language),new Intl.DateTimeFormat(e,{weekday:"short"}).format(new Date(1970,0,4+n))))}mse();g.forwardRef(({children:e,color:t="default",variant:n="default",disableMargins:r=!1,className:s,theme:i,...o},l)=>{const u=ht("typography",i);return a.jsx("h1",{ref:l,className:He(u.colors[t],u.variant[n],u.pageTitle,r&&u.disableMargins,s),...o,children:e})});g.forwardRef(({children:e,color:t="default",variant:n="default",disableMargins:r=!1,className:s,theme:i,...o},l)=>{const u=ht("typography",i);return a.jsx("h2",{ref:l,className:He(u.colors[t],u.variant[n],u.primaryHeading,r&&u.disableMargins,s),...o,children:e})});g.forwardRef(({children:e,color:t="default",variant:n="default",disableMargins:r=!1,className:s,theme:i,...o},l)=>{const u=ht("typography",i);return a.jsx("h3",{ref:l,className:He(u.colors[t],u.variant[n],u.secondaryHeading,r&&u.disableMargins,s),...o,children:e})});g.forwardRef(({children:e,color:t="default",variant:n="default",disableMargins:r=!1,className:s,theme:i,...o},l)=>{const u=ht("typography",i);return a.jsx("h5",{ref:l,className:He(u.colors[t],u.variant[n],u.smallHeading,r&&u.disableMargins,s),...o,children:e})});const gse=g.forwardRef(({color:e="default",variant:t="default",disableMargins:n=!1,children:r,className:s,theme:i,...o},l)=>{const u=ht("typography",i);return a.jsx("h6",{ref:l,className:He(u.colors[e],u.variant[t],u.sub,n&&u.disableMargins,s),...o,children:r})});g.forwardRef(({color:e="default",variant:t="default",fontStyle:n="default",children:r,className:s,theme:i,...o},l)=>{const u=ht("typography",i);return a.jsx("span",{ref:l,className:He(u.colors[e],u.variant[t],u.text[n],s),...o,children:r})});const yse={text:{thin:"font-thin",bold:"font-semibold",extraBold:"font-extrabold",italic:"italic"}};({...yse.text});const CT={orientation:{horizontal:"h-px w-full my-2.5",vertical:"w-px h-full mx-2.5"}};[CT.orientation.horizontal,"my-[var(--divider-spacing)]"].join(" "),[CT.orientation.vertical," mx-[var(--divider-spacing)]"].join(" ");const xse={initial:{transition:{staggerChildren:.05,staggerDirection:-1}},animate:{transition:{staggerChildren:.07,delayChildren:.2}}},vse=({children:e,...t})=>a.jsx(Y.div,{variants:xse,initial:"initial",animate:"animate",...t,children:e}),bse={initial:{y:-20,opacity:0,transition:{when:"beforeChildren"}},animate:{y:0,opacity:1,transition:{when:"beforeChildren"}},exit:{y:-20,opacity:0}},wse={initial:{x:"-100%",opacity:0,transition:{when:"beforeChildren",x:{stiffness:10}}},animate:{x:"0%",opacity:1,transition:{x:{stiffness:10,velocity:-100},when:"beforeChildren",opacity:{duration:1}}},exit:{x:"-100%",opacity:0,transition:{x:{stiffness:10}}}},h5=({children:e,direction:t="vertical",...n})=>a.jsx(Y.div,{variants:t==="vertical"?bse:wse,...n,children:e}),_se=g.forwardRef(({className:e,children:t,theme:n,...r},s)=>{const i=ht("list",n);return a.jsx("div",{...r,ref:s,role:"list",className:He(i.base,e),children:t})}),jse=g.forwardRef(({className:e,contentClassName:t,children:n,active:r,disabled:s,disablePadding:i,disableGutters:o,start:l,end:u,dense:d,onClick:f,theme:h,...p},y)=>{const w=ht("list",h);return a.jsxs("div",{...p,ref:y,role:f?"button":"listitem",tabIndex:f?0:void 0,onClick:b=>!s&&(f==null?void 0:f(b)),className:Ir(w.listItem.base,d&&w.listItem.dense.base,s&&w.listItem.disabled,r&&w.listItem.active,f&&!s&&w.listItem.clickable,i&&w.listItem.disablePadding,o&&w.listItem.disableGutters,e),children:[l&&a.jsx("div",{className:Ir(w.listItem.adornment.base,w.listItem.adornment.start,{[w.listItem.dense.startAdornment]:d}),children:l}),a.jsx("div",{className:Ir(w.listItem.content,{[w.listItem.dense.content]:d},t),children:n}),u&&a.jsx("div",{className:Ir(w.listItem.adornment.base,w.listItem.adornment.end,{[w.listItem.dense.endAdornment]:d}),children:u})]})}),Nse=({className:e,children:t,theme:n,...r})=>{const s=ht("list",n);return a.jsx(gse,{...r,className:He(e,s.header),children:t})},On={listItem:{base:"items-center flex p-2.5 relative rounded-none",disabled:"cursor-not-allowed pointer-events-none",active:"",clickable:"cursor-pointer transition-color duration-300 ease-linear transition-bg duration-300 ease-linear hover:color-inherit hover:bg-transparent",disablePadding:"p-0",disableGutters:"pl-0 pr-0",dense:{base:"p-1",content:"",startAdornment:"pr-[calc(5/2)]",endAdornment:"pl-[calc(5/2)]"},adornment:{base:"items-center flex",start:"pr-1",end:"pl-1",svg:"fill-current"},content:"overflow-wrap break-word word-wrap break-all flex-1"}};({...On.listItem,base:[On.listItem.base,"hover:bg-panel-accent hover:text-mystic light:hover:bg-vulcan/5 light:hover:text-text-secondary [&:has(h3)]:hover:bg-transparent"].join(" "),active:[On.listItem.active,"text-primary-active hover:text-mystic"].join(" "),disabled:[On.listItem.disabled,"opacity-40 text-text-secondary"].join(" ")});({...On.listItem,base:[On.listItem.base,"p-[var(--list-item-spacing)] text-[var(--list-item-color)] rounded-[var(--list-item-border-radius)]"].join(" "),clickable:[On.listItem.clickable,"hover:text-[var(--list-item-color-active)] hover:bg-[var(--list-item-background-active)]"].join(" "),dense:{...On.listItem.dense,base:[On.listItem.dense.base,"[padding:_var(--list-item-dense-spacing)]"].join(" "),startAdornment:[On.listItem.dense.startAdornment,"[padding-right:_calc(var(--spacing-md)_/_2)]"].join(" "),endAdornment:[On.listItem.dense.endAdornment,"[padding-left:_calc(var(--spacing-md)_/_2)]"].join(" ")},adornment:{...On.listItem.adornment,start:[On.listItem.adornment.start,"[padding-right:_calc(var(--spacing-sm)_/_2)]"].join(" "),end:[On.listItem.adornment.start,"[padding-left:_calc(var(--spacing-sm)_/_2)]"].join(" "),svg:[On.listItem.adornment.svg,"fill:[var(--list-item-adornment-fill)]"].join(" ")}});const kh={horizontal:{base:"flex flex-row items-baseline",label:"mr-0.5 whitespace-nowrap"},vertical:{base:"block",label:"block mb-0.5"}};({...kh.horizontal,label:[kh.horizontal.label,"mr-[var(--block-label-spacing)]"].join(" ")},{...kh.vertical,label:[kh.vertical.label,"mb-[var(--block-label-spacing)]"].join(" ")});g.forwardRef(({children:e,disablePadding:t,className:n,header:r,headerClassName:s,contentClassName:i,theme:o,...l},u)=>{const d=ht("card",o);return a.jsxs("section",{...l,ref:u,className:He(d.base,t&&d.disablePadding,n),children:[r&&a.jsx("header",{className:He(d.header,s),children:r&&typeof r=="string"?a.jsx("h3",{className:d.headerText,children:r}):r}),a.jsx("div",{className:He(d.content,i),children:e})]})});g.forwardRef(({children:e,className:t,direction:n="row",dense:r=!1,inline:s=!1,alignItems:i="center",justifyContent:o="start",theme:l,...u},d)=>{const f=ht("stack",l);return a.jsx("div",{className:He(f.base,r&&f.dense,s&&f.inline,f.direction[n],f.alignItems[i],f.justifyContent[o],t),ref:d,...u,children:e})});g.createContext({collapsedIcon:null,expandedIcon:null});const Jo={node:{base:"pt-0.5 m-0 list-style-none first:pt-0 last:pb-0",collapsed:"-rotate-90",disabled:"opacity-60",leaf:"pl-4",label:"",button:{base:"min-w-[auto] min-h-[auto] w-auto h-auto transition-transform duration-100 ease-in-out ml-0 mr-1 my-0 p-0",icon:"align-middle block h-2 w-2 m-0.5"}}};({...Jo.node,base:[Jo.node.base,"text-text-primary"].join(" "),button:{...Jo.node.button,icon:[Jo.node.button.icon,"fill-text-primary"].join(" ")}});({...Jo.node,button:{...Jo.node.button,icon:[Jo.node.button.icon,"fill-[var(--white)]"].join(" ")}});function Ir(...e){return He(Vs(e))}const Sse=g.createContext(null),kse=()=>{const e=g.useContext(Sse);return e||null},ht=(e,t)=>{const n=kse();if(t)return t;if(!n)throw new Error("useTheme must be used within a ThemeProvider");const r=n.theme.components[e];if(!r)throw new Error(`Component ${e} does not exist in theme`);return r},Cse=({items:e,threshold:t=3,size:n=10,nextSize:r})=>{const[s,i]=g.useState(0),o=g.useMemo(()=>[...e].slice(0,s),[s,e]),l=s<e.length,u=e.length-s,d=g.useCallback(f=>{if(l){const h=r===1/0?u:r||f||n,p=Math.min(e.length,s+h);i(p)}},[l,s,n,e,u,r]);return g.useEffect(()=>{const f=(e==null?void 0:e.length)||0,h=f<=n+t?n+t:Math.min(f,n);i(h)},[e.length,n,t]),{data:o,hasMore:l,remaining:u,showNext:d}};g.forwardRef(({space:e="md",className:t,theme:n,...r},s)=>{const i=ht("verticalSpacer",n);return a.jsx("div",{className:He(t,i.base,i.size[e]),ref:s,...r})});Array.from({length:24},(e,t)=>t);[...Array.from({length:11},(e,t)=>t+1)];Array.from({length:60},(e,t)=>t);Array.from({length:60},(e,t)=>t);Qs(ei(ti(new Date,0),0),0),Qs(ei(ti(new Date,0),0),9),Qs(ei(ti(new Date,0),0),12),Qs(ei(ti(new Date,0),0),15),Qs(ei(ti(new Date,0),0),18),Qs(ei(ti(new Date,0),0),21),Qs(ei(ti(Fn(new Date,1),0),0),9),Qs(ei(ti(Fn(new Date,1),0),0),12),Qs(ei(ti(Fn(new Date,1),0),0),18);Ns(new Date,1),Ns(new Date,2),Ns(new Date,3),$l(new Date,1),$l(new Date,2),$l(new Date,3),Xo(new Date,1),Xo(new Date,2),Xo(new Date,3),Xo(new Date,6),Fl(new Date,1),Fl(new Date,2),Fl(new Date,3);Fn(new Date,1),Fn(new Date,2),Fn(new Date,3),ca(new Date,1),ca(new Date,2),ca(new Date,3),ci(new Date,1),ci(new Date,2),ci(new Date,3),ci(new Date,6),ua(new Date,1),ua(new Date,2),ua(new Date,3);Ns(new Date,1),Fn(new Date,1),wj(new Date),Nj(new Date),jj(new Date),_j(new Date);Cs(Ns(new Date,1)),Ps(Ns(new Date,1)),Cs(Ns(new Date,2)),Ps(new Date),Cs(Ns(new Date,6)),Ps(new Date),Cs(Ns(new Date,13)),Ps(new Date),Cs(Ns(new Date,29)),Ps(new Date),wj($l(new Date,1)),Nj($l(new Date,1)),$l(new Date,1),jj(Xo(new Date,1)),_j(Xo(new Date,1)),Xo(new Date,1),fO(Fl(new Date,1)),dO(Fl(new Date,1)),Fl(new Date,1);Cs(Fn(new Date,1)),Ps(Fn(new Date,1)),Cs(new Date),Ps(Fn(new Date,2)),Cs(new Date),Ps(Fn(new Date,6)),Cs(new Date),Ps(Fn(new Date,13)),Cs(new Date),Ps(Fn(new Date,29)),ca(new Date,1),wj(ca(new Date,1)),Nj(ca(new Date,1)),ci(new Date,1),jj(ci(new Date,1)),_j(ci(new Date,1)),ua(new Date,1),fO(ua(new Date,1)),dO(ua(new Date,1));const ct={header:{base:"flex text-center justify-between mb-2 items-center",prev:"text-xl leading-4",mid:"",next:"text-xl leading-4"},days:{header:"text-center grid grid-cols-7 mb-1 pt-2 font-medium",dayOfWeek:"text-center font-medium",week:"grid grid-cols-7",day:"font-normal flex p-2 border",outside:"",startRangeDate:"rounded-tl-md rounded-tr-none rounded-br-none",cornerStartDateBottom:"rounded-bl-none",endRangeDate:"rounded-br-md rounded-bl-none rounded-tl-none",cornerEndDateTop:"rounded-tr-none",range:"rounded-none",selected:"",hover:"rounded-sm",today:"rounded-sm border"},months:{root:"grid grid-cols-4 gap-2",month:"p-1.5",selected:""},years:{root:"grid grid-cols-4 gap-2",year:"p-1.5",selected:""},time:{base:"flex flex-col h-full gap-0",wrapper:"mt-4 bg-panel z-10 flex flex-row",dividerTop:"w-full",dividerLeft:"h-auto mt-2.5 mx-1 bg-surface z-10",header:"flex gap-4 px-0.5 pb-2.5 mb-2",column:{base:"w-6",wrapper:"overflow-y-auto h-52",label:"text-center text-xs text-gray-500",list:"p-0 m-0 list-none",scrollbar:"scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent hover:scrollbar-thumb-gray-400 dark:hover:scrollbar-thumb-gray-500"},items:{wrapper:"flex flex-row flex-auto gap-0.25 pt-1 h-46",container:"h-full",list:"relative h-full p-0 m-0 list-none overflow-y-auto [&::-webkit-scrollbar]:hidden scrollbar-none touch-pan-y",divider:"mx-0",item:{base:"py-0.5 px-1.5 text-center select-none cursor-pointer rounded transition-colors duration-150",selected:"",disabled:"cursor-not-allowed"}}},presets:{wrapper:"bg-panel z-10",divider:"mx-1 h-[calc(100%-26px)] self-end",base:"relative h-59 max-w-52 pr-1 overflow-y-auto [&::-webkit-scrollbar]:hidden scrollbar-none touch-pan-y space-y-0",group:"text-sm font-medium my-1 !pr-0 !pl-0",item:{base:"text-sm p-1.5 my-0.5 duration-0",active:""}}};({...ct.header,base:[ct.header.base,"text-text-secondary"].join(" ")},{...ct.days,day:[ct.days.day,"border-transparent text-text-secondary opacity-90 hover:bg-primary-hover hover:disabled:bg-transparent! hover:text-black disabled:text-text-secondary/60"].join(" "),header:[ct.days.header,"text-text-secondary"].join(" "),outside:[ct.days.outside,"opacity-40 text-text-secondary"].join(" "),selected:[ct.days.selected,"text-black border-transparent light:text-white light:border-transparent opacity-100"].join(" "),hover:[ct.days.hover,"bg-primary-active text-black border-transparent light:text-white opacity-100"].join(" "),today:[ct.days.today,"border-panel-accent text-text-primary"].join(" ")}),{...ct.months,month:[ct.months.month,"hover:bg-primary-hover hover:text-black border-transparent text-text-secondary light:hover:text-white"].join(" "),selected:[ct.years.selected,"border-transparent text-black light:text-white"].join(" ")},{...ct.years,year:[ct.years.year,"hover:bg-primary-hover hover:text-black border-transparent text-text-secondary light:hover:text-white"].join(" "),selected:[ct.years.selected,"border-transparent text-black light:text-white"].join(" ")},{...ct.time,wrapper:[ct.time.wrapper,"border-panel-border"].join(" "),items:{...ct.time.items,item:{...ct.time.items.item,base:[ct.time.items.item.base,"text-text-secondary hover:bg-primary-hover hover:text-black"].join(" "),selected:[ct.time.items.item.selected,"bg-blue-500 text-white dark:bg-blue-600 dark:text-white"].join(" "),disabled:[ct.time.items.item.disabled,"opacity-50"].join(" ")}}},{...ct.presets,group:[ct.presets.group,"!text-gray-500 dark:text-gray-400"].join(" "),item:{...ct.presets.item,base:[ct.presets.item.base,"hover:text-black dark:hover:bg-primary-hover hover:rounded-sm"].join(" "),active:[ct.presets.item.active,"bg-primary text-black rounded-sm"].join(" ")}};({...ct.header,base:[ct.header.base,"mb-[var(--spacing-sm)] mb-[var(--calendar-gap)]"].join(" ")},{...ct.days,header:[ct.days.header,"gap-[var(--calendar-gap)]"].join(" "),outside:[ct.days.outside,"text-gray-100/60"].join(" ")});const PT=({label:e,size:t,disabled:n,checked:r,onChange:s,labelClassName:i,theme:o})=>a.jsx("span",{className:He(o.label.base,o.label.sizes[t],r&&o.label.checked,n&&o.label.disabled,!n&&s&&o.label.clickable,i),onClick:()=>{!n&&s&&s()},children:e});g.forwardRef(({checked:e=!1,intermediate:t=!1,label:n,disabled:r,size:s="medium",labelPosition:i="end",onChange:o,onBlur:l,className:u,containerClassName:d,labelClassName:f,borderPath:h="M 1 0 L 16 0 C 16.552 0 17 0.448 17 1 L 17 15 C 17 15.552 16.552 16 16 16 L 1 16 C 0.448 16 0 15.552 0 15 L 0 1 C 0 0.448 0.448 0 1 0 Z",checkedPath:p="M 4 8 L 8 12 L 12 4",intermediatePath:y="M 5.36396 8.17792 L 10.6044 8.17792",theme:w,...b},N)=>{const v=ht("checkbox",w),_=lo(0),j=Fp(_,[.05,.15],[0,1]),[S,P]=g.useState(!1);g.useEffect(()=>{(e||t)&&P(!0)},[]);const E={pressed:T=>({pathLength:T?.85:.3}),checked:{pathLength:1},unchecked:{pathLength:0}},C=g.useCallback(()=>{!r&&o&&o(!e)},[r,o,e]);return a.jsxs("div",{className:He(v.base,d,e&&"checked"),children:[i==="start"&&n&&a.jsx(PT,{label:n,size:s,checked:e,disabled:r,onChange:C,labelClassName:He("mr-2.5",f),theme:v}),a.jsx(Y.div,{...b,ref:N,tabIndex:r?-1:0,className:He(v.checkbox.base,e&&v.checkbox.checked,r&&v.checkbox.disabled,v.sizes[s],u),onClick:T=>{!r&&o&&(T.stopPropagation(),o(!e))},onBlur:l,onKeyDown:T=>{!r&&o&&T.code==="Space"&&o(!e)},children:a.jsxs(Y.svg,{animate:e?"checked":"unchecked",whileHover:r?void 0:"hover",whileTap:r?void 0:"pressed",viewBox:"0 0 16 16",width:16,height:16,children:[a.jsx(Y.path,{className:He(v.border.base,e&&v.border.checked,r&&v.border.disabled),d:h,variants:v.boxVariants}),t?a.jsx(Y.path,{d:y,fill:"transparent",strokeWidth:"1",className:v.check.base,variants:E,style:{pathLength:_,opacity:j},custom:e}):a.jsx(Y.path,{d:p,fill:"transparent",strokeWidth:"1",className:He(v.check.base,r&&v.check.disabled,e&&v.check.checked),variants:E,style:{pathLength:_,opacity:j},custom:e})]})}),i==="end"&&n&&a.jsx(PT,{label:n,size:s,checked:e,disabled:r,onChange:C,labelClassName:He("ml-2.5",f),theme:v})]})});const bn={label:{base:"dark:text-gray-400 light:text-gray-700 ml-2.5 w-full",checked:"checked dark:text-gray-100 light:text-gray-900",disabled:"cursor-not-allowed dark:text-gray-600 light:text-gray-400",clickable:"cursor-pointer",sizes:{small:"text-sm",medium:"text-base",large:"text-lg"}},check:{base:"stroke-white",checked:"",disabled:"cursor-not-allowed"},border:{base:"stroke-gray-400 light:stroke-gray-700",checked:"stroke-blue-500",disabled:"cursor-not-allowed stroke-gray-500"},checkbox:{base:"fill-transparent flex items-center justify-center cursor-pointer focus-visible:outline-hidden",checked:"fill-blue-500 checked",disabled:"fill-transparent disabled"}};({...bn.checkbox,base:[bn.checkbox.base,"border border-surface","[&.checked.disabled]:fill-gray-400"].join(" "),checked:[bn.checkbox.checked,"group-hover:fill-blue-400","light:group-hover:fill-blue-600","light:group-hover:[&.disabled]:fill-gray-400"].join(" "),disabled:[bn.checkbox.disabled,"group-hover:transparent","light:group-hover:transparent"].join(" ")},{...bn.check,base:[bn.check.base,"group-hover:stroke-black light:group-hover:stroke-white"].join(" "),disabled:[bn.check.disabled,"stroke-black light:stroke-white group-hover:stroke-black "].join(" ")}),{...bn.border,base:[bn.border.base,"dark:group-hover:stroke-blue-300","light:group-hover:stroke-blue-600"].join(" "),disabled:[bn.border.disabled,"dark:group-hover:stroke-gray-500","light:group-hover:stroke-gray-400"].join(" ")},{...bn.label,base:[bn.label.base,"text-text-primary dark:group-hover:text-blue-300 light:group-hover:text-blue-400"].join(" "),checked:[bn.label.checked,"group-hover:text-gray-100"].join(" "),disabled:[bn.label.disabled,"light:group-hover:text-gray-400","dark:group-hover:text-gray-600"].join(" ")};[bn.check.base,"stroke-[var(--checkbox-check-stroke)]"].join(" "),{...bn.label,base:[bn.label.base,"text-[var(--checkbox-label-color)] ml-[var(--spacing-md)]"].join(" ")};const Pse=g.forwardRef(({className:e,containerClassname:t,error:n,fullWidth:r,selectOnFocus:s,start:i,end:o,startAdornment:l,endAdornment:u,autoFocus:d,disabled:f,value:h,size:p="medium",onFocus:y,onChange:w,onValueChange:b,onBlur:N,theme:v,..._},j)=>{const S=g.useRef(null),P=g.useRef(null),[E,C]=g.useState(!1);g.useImperativeHandle(j,()=>({inputRef:P,containerRef:S,blur:()=>{var D;return(D=P.current)==null?void 0:D.blur()},focus:()=>{var D;return(D=P.current)==null?void 0:D.focus()},select:()=>{var D;return(D=P.current)==null?void 0:D.select()}})),g.useLayoutEffect(()=>{d&&requestAnimationFrame(()=>{var D;return(D=P.current)==null?void 0:D.focus()})},[d]);const T=ht("input",v);return a.jsxs("div",{className:He(T.base,E&&T.focused,r&&T.fullWidth,n&&T.error,T.sizes[p],f&&T.disabled,t),ref:S,children:[(i||l)&&a.jsx("div",{className:He(T.adornment.base,T.adornment.start),children:i??l}),a.jsx("input",{..._,ref:P,value:h,disabled:f,className:He(T.input,e),onFocus:D=>{s&&D.target.select(),C(!0),y==null||y(D)},onBlur:D=>{N==null||N(D),C(!1)},onChange:D=>{b==null||b(D.target.value),w==null||w(D)}}),(o||u)&&a.jsx("div",{className:He(T.adornment.base,T.adornment.end),children:o??u})]})});g.forwardRef(({inputClassName:e,className:t,placeholder:n,value:r,theme:s,...i},o)=>{const l=ht("input",s);return a.jsxs("div",{className:Ir("inline-grid",t),children:[a.jsxs("span",{className:"invisible",style:{gridArea:" 1 / 1 "},children:[!r&&"",typeof r=="string"?r?r==null?void 0:r.replace(/ /g,""):n==null?void 0:n.replace(/ /g,""):r]}),a.jsx("input",{...i,size:1,ref:o,style:{gridArea:" 1 / 1 "},type:"text",placeholder:n,value:r,className:Ir("border-none bg-transparent focus:outline-hidden",l.inline,e)})]})});g.forwardRef(({debounce:e=100,value:t,onChange:n,onValueChange:r,...s},i)=>{const o=g.useRef(null),[l,u]=g.useState(t);return g.useEffect(()=>{u(t)},[t]),a.jsx(Pse,{...s,ref:i,value:l,onKeyDown:d=>{d.key==="Enter"&&(r==null||r(d.target.value),n==null||n(d))},onChange:d=>{u(d.target.value),e?(clearTimeout(o.current),o.current=setTimeout(()=>{r==null||r(d.target.value),n==null||n(d)},e)):(r==null||r(d.target.value),n==null||n(d))}})});const Uw={adornment:{base:"flex items-center justify-center [&>svg]:w-4 [&>svg]:h-4 [&>svg]:current-color",start:"pr-1.5",end:"pl-1.5"}};({...Uw.adornment,base:[Uw.adornment.base,"text-text-primary"].join(" ")});[Uw.adornment.base,"[&>svg]:w-[var(--input-adornment-size)] [&>svg]:h-[var(--input-adornment-size)] [&>svg]:fill-[var(--input-adornment-fill)]"].join(" ");const Tse=g.createContext({onChange:null,selectedValue:null}),Ese={check:{opacity:1,scale:1},uncheck:{opacity:0,scale:0}};g.forwardRef(({checked:e,label:t,disabled:n,onChange:r,onBlur:s,className:i,size:o="medium",value:l,theme:u,...d},f)=>{const{onChange:h,selectedValue:p}=g.useContext(Tse),y=g.useMemo(()=>p===null?e:p===l,[e,p,l]),w=N=>{h==null||h(l),r==null||r(N)},b=ht("radio",u);return a.jsxs("div",{className:Ir(b.base,i),children:[a.jsx("div",{...d,ref:f,tabIndex:0,className:Ir(b.radio.base,b.sizes[o],{[b.radio.checked]:y,[b.radio.disabled]:n}),onClick:()=>{n||w(!y)},onBlur:s,onKeyDown:N=>{!n&&N.code==="Space"&&w(!y)},children:a.jsx(Y.div,{className:Ir(b.indicator.base,b.indicator.sizes[o],{[b.indicator.disabled]:n}),initial:n?{}:{opacity:0,scale:.5},variants:Ese,animate:y?"check":"uncheck",transition:{duration:.15}})}),t&&a.jsx("span",{className:Ir(b.label.base,{[b.label.checked]:y,[b.label.disabled]:n,[b.label.clickable]:!n}),onClick:()=>{n||w(!y)},children:t})]})});const un={radio:{base:"will-change-[border-color] inline-flex justify-center items-center box-border align-middle rounded-[100%] bg-transparent border cursor-pointer",disabled:"cursor-not-allowed",checked:""},indicator:{base:"rounded-[100%]",disabled:"cursor-not-allowed",sizes:{small:"w-2 h-2",medium:"w-2.5 h-2.5",large:"w-3.5 h-3.5"}},label:{base:"w-full align-middle ml-2.5",clickable:"cursor-pointer hover:text-blue-300",disabled:"cursor-not-allowed",checked:""}};({...un.label,base:[un.label.base,"text-text-secondary"].join(" "),checked:[un.label.checked,"text-text-primary"].join(" "),disabled:[un.label.disabled,"text-secondary-inactive/40!"].join(" ")},{...un.radio,base:[un.radio.base,"border-surface group-hover:border-primary-hover hover:border-primary-hover"].join(" "),checked:[un.radio.checked,"border-primary-active group-hover:border-primary-hover"].join(" "),disabled:[un.radio.disabled,"border-secondary-inactive!"].join(" ")}),{...un.indicator,base:[un.indicator.base,"bg-primary group-hover:bg-primary-hover"].join(" "),disabled:[un.indicator.disabled,"bg-secondary-inactive!"].join(" ")};({...un.label,base:[un.label.base,"text-[var(--radio-label-color)] ml-[var(--spacing-md)]"].join(" ")},{...un.radio,base:[un.radio.base,"bg-[var(--radio-background)] [border:_var(--radio-stroke-size)_solid_var(--radio-stroke)]"].join(" "),checked:[un.radio.checked,"border-[var(--radio-stroke-active)]"].join(" ")}),{...un.indicator,base:[un.indicator.base,"bg-[var(--radio-indicator-active)]"].join(" ")};const Ho={inputWrapper:{base:"cursor-pointer inline-block relative h-full w-full rounded-full",disabled:"cursor-not-allowed"},rangeHighlight:{base:"pointer-events-none h-0.5",disabled:"cursor-not-allowed"}};({...Ho.inputWrapper,base:[Ho.inputWrapper.base,"bg-primary-active hover:bg-primary-hover shadow-[0px_4px_4px_0px_rgba(0,0,0,0.20)]"].join(" "),disabled:[Ho.inputWrapper.disabled,"bg-secondary-inactive hover:bg-secondary-inactive"].join(" ")},[Ho.rangeHighlight.base,"bg-primary-active"].join(" "),[Ho.rangeHighlight.disabled,"bg-secondary-inactive"].join(" "));({...Ho.rangeHighlight,base:[Ho.rangeHighlight.base,"h-[var(--range-track-size)] bg-[var(--range-track-active-background)]"].join(" ")});const Mse=({height:e=16,width:t=16})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:t,height:e,viewBox:"0 0 16 16",fill:"currentColor",children:a.jsx("path",{d:"M12.6667 4.27331L11.7267 3.33331L8.00004 7.05998L4.27337 3.33331L3.33337 4.27331L7.06004 7.99998L3.33337 11.7266L4.27337 12.6666L8.00004 8.93998L11.7267 12.6666L12.6667 11.7266L8.94004 7.99998L12.6667 4.27331Z",fill:"currentColor"})}),cr={suffix:{container:"flex items-center justify-center",button:"disabled:cursor-not-allowed",refresh:"mr-1.5 [&>svg]:w-4 [&>svg]:h-4 [&>svg]:fill-text-secondary",loader:"mr-2.5",close:"mr-1.5 [&>svg]:w-4 [&>svg]:h-4 [&>svg]:fill-text-secondary",expand:"[&>svg]:w-4 [&>svg]:h-4 [&>svg]:fill-text-secondary"},chip:{base:"cursor-pointer flex text-sm leading-none box-border mr-1 px-1 py-1 rounded-sm border-solid border-transparent",hover:"",focused:"focused:border-transparent focused:outline-none",disabled:"disabled:cursor-not-allowed",removeButton:"cursor-pointer leading-0 ml-1 p-0 border-0 [&>svg]:w-3 [&>svg]:h-3 [&>svg]:align-baseline [&>svg]:pointer-events-none"}};({...cr.suffix,button:[cr.suffix.button,"hover:cursor-pointer"].join(" ")},{...cr.chip,base:[cr.chip.base,"[&>svg]:fill-text-primary [&>svg]:disabled:fill-text-secondary/40"].join(" "),hover:[cr.chip.hover,"hover:brightness-150"].join(" "),focused:[cr.chip.focused,"border-panel-accent"].join(" "),removeButton:[cr.chip.removeButton,"[&>svg]:fill-text-primary [&>svg]:disabled:fill-text-secondary/40"].join(" ")});({...cr.suffix,close:[cr.suffix.close,"[&>svg]:fill-[var(--select-input-icon-color)]"].join(" "),expand:[cr.suffix.expand,"[&>svg]:fill-[var(--select-input-icon-color)]"].join(" ")},{...cr.chip,base:[cr.chip.base,"bg-[var(--select-chip-background)] text-[var(--select-chip-color)] [border:_var(--select-chip-border)]"].join(" "),removeButton:[cr.chip.removeButton,"[&>svg]:fill-[var(--select-chip-icon-color)]"].join(" ")});const Jn={groupItem:{base:"p-0 border-0 first:pt-2 last:pb-2",title:"font-bold uppercase m-0 px-1.5 py-2.5",size:{small:"px-2.5 text-sm",medium:"px-3 text-sm",large:"px-3.5 text-base"}},option:{base:"flex-1 whitespace-break-spaces break-words py-1.5 px-2.5",hover:"",selected:"",active:"",disabled:"",checkIcon:"ml-1",content:"flex flex-row justify-between"}};({...Jn.groupItem,title:[Jn.groupItem.title,"text-text-primary"].join(" ")},{...Jn.option,base:[Jn.option.base,"text-text-secondary "].join(" "),hover:[Jn.option.hover,"hover:bg-vulcan hover:text-mystic light:hover:bg-vulcan/5 light:hover:text-text-secondary"].join(" "),active:[Jn.option.active,"bg-vulcan hover:text-mystic"].join(" "),selected:[Jn.option.selected,"text-primary-active"].join(" ")});({...Jn.groupItem,title:[Jn.groupItem.title,"text-gray-600"].join(" ")},{...Jn.option,base:[Jn.option.base,"text-[var(--select-menu-item-color)] [padding:_var(--select-menu-item-spacing)]"].join(" "),hover:[Jn.option.hover,"hover:bg-[var(--select-menu-item-active-background)] hover:text-[var(--select-menu-item-active-color)]"].join(" "),active:[Jn.option.active,"hover:bg-[var(--select-menu-item-active-background)] text-[var(--select-menu-item-active-color)]"].join(" "),selected:[Jn.option.selected,"bg-[var(--select-menu-item-selected-background)] text-[var(--select-menu-item-selected-color)]"].join(" ")});g.forwardRef(({fullWidth:e,size:t="medium",containerClassName:n,className:r,error:s,autoFocus:i,theme:o,...l},u)=>{const d=g.useRef(null),f=g.useRef(null);g.useImperativeHandle(u,()=>({textareaRef:f,containerRef:d,blur:()=>{var p;return(p=f.current)==null?void 0:p.blur()},focus:()=>{var p;return(p=f.current)==null?void 0:p.focus()}})),g.useLayoutEffect(()=>{i&&requestAnimationFrame(()=>{var p;return(p=f.current)==null?void 0:p.focus()})},[i]);const h=ht("textarea",o);return a.jsx("div",{className:He(h.base,e&&h.fullWidth,s&&h.error,n),ref:d,children:a.jsx(Hte,{ref:f,className:He(h.input,e&&h.fullWidth,l.disabled&&h.disabled,h.sizes[t],r),autoFocus:i,...l})})});g.forwardRef(({checked:e,disabled:t,onChange:n,onBlur:r,className:s,size:i="medium",animated:o=!0,animation:l,theme:u,...d},f)=>{const h=ht("toggle",u);return a.jsx("div",{...d,ref:f,tabIndex:0,role:"switch",className:Ir(h.base,h.sizes[i],{[h.checked]:e,[h.disabled]:t,[h.disabledAndChecked]:t&&e},s),onClick:()=>{!t&&n&&n(!e)},onBlur:r,onKeyDown:p=>{!t&&n&&p.code==="Space"&&n(!e)},children:a.jsx(Y.div,{className:Ir(h.handle.base,h.handle.sizes[i],{[h.handle.disabled]:t,[h.handle.disabledAndChecked]:t&&e}),layout:!0,...l||{transition:{type:"spring",stiffness:700,damping:30,duration:o?.3:0}}})})});const TT={handle:{base:"rounded-full bg-panel",sizes:{small:"w-3 h-full",medium:"w-5 h-full",large:"w-6 h-full"},disabled:"bg-secondary-inactive light:bg-gray-400",disabledAndChecked:"bg-black light:bg-white"}};({...TT.handle,base:[TT.handle.base,"bg-[var(--toggle-handle-background)] rounded-[var(--toggle-handle-border-radius)]"].join(" ")});g.forwardRef(({children:e,className:t,size:n="medium",theme:r,...s},i)=>{const o=ht("button",r);return a.jsx(d5,{className:He(o.iconSizes[n],t),size:n,...s,ref:i,children:e})});const Dse=g.forwardRef(({reference:e,children:t,style:n,className:r,placement:s="bottom-start",closeOnEscape:i=!0,open:o=!1,appendToBody:l=!0,closeOnBodyClick:u=!0,maxHeight:d="max-height: calc(100vh - 48px)",autofocus:f=!0,animated:h=!0,animation:p,modifiers:y,autoWidth:w,minWidth:b,maxWidth:N,onClose:v,onMouseEnter:_,onMouseLeave:j,theme:S},P)=>{const E=df(),C=g.useMemo(()=>{if(w){const D={name:"sameWidth",fn:F=>{const{width:A}=F.rects.reference;let O=A;return N&&O>N?O=N:b&&O<b&&(O=b),{data:{menuWidth:O}}}},R=HP({apply({middlewareData:F,elements:A}){var O;A.floating.style.width=`${((O=F==null?void 0:F.sameWidth)==null?void 0:O.menuWidth)??0}px`}});return y?[...y??[],D,R]:[D,R]}else{const D=HP({apply({elements:R}){R.floating.style.width="auto"}});return[...y??[],D]}},[y,w,b,N]),T=ht("menu",S);return a.jsx(u5,{open:o,closeOnBodyClick:u,appendToBody:l,reference:e,placement:s,modifiers:C,closeOnEscape:i,content:()=>a.jsx(Y.div,{ref:P,...p||{transition:{duration:h?.3:0},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},className:He(T.base,r),style:n,onMouseEnter:_,onMouseLeave:j,children:f?a.jsx(Tee,{focusTrapOptions:{escapeDeactivates:!0,clickOutsideDeactivates:!0,fallbackFocus:`#${E}`},children:a.jsx("div",{id:E,className:T.inner,tabIndex:-1,style:{maxHeight:d},children:typeof t=="function"?t():t})}):a.jsx("div",{className:T.inner,style:{maxHeight:d},children:typeof t=="function"?t():t})}),onClose:v})});g.forwardRef(({label:e,children:t,style:n,placement:r="right-start",menuClassName:s,menuStyle:i,enterDelay:o=0,autofocus:l=!0,leaveDelay:u=100,className:d,maxHeight:f,activeClassName:h,closeOnBodyClick:p=!0,closeOnEscape:y=!0,animation:w,onClose:b},N)=>{const[v,_]=g.useState(!1),j=g.useRef(null),S=g.useRef(null),P=g.useRef(!1),E=g.useRef(null),C=g.useRef(null),T=g.useCallback(()=>{clearTimeout(E.current),clearTimeout(C.current),E.current=setTimeout(()=>_(!0),o)},[o]),D=g.useCallback(()=>{clearTimeout(E.current),clearTimeout(C.current),_(!v)},[v]),R=g.useCallback(()=>{C.current=setTimeout(()=>{P.current||_(!1)},u)},[u]),F=g.useCallback($=>{clearTimeout(E.current),clearTimeout(C.current),P.current=!0},[]),A=g.useCallback($=>{clearTimeout(E.current),clearTimeout(C.current),P.current=!1,C.current=setTimeout(()=>{var K;(K=j.current)!=null&&K.contains($.target)||_(!1)},u)},[u]),O=g.useCallback($=>{_(!1),b==null||b($)},[b]);return g.useImperativeHandle(N,()=>({close:()=>{_(!1)}})),a.jsxs(g.Fragment,{children:[a.jsx("div",{className:Vs(d,{[h]:v}),style:n,ref:j,onClick:D,onMouseEnter:T,onMouseLeave:R,children:e}),a.jsx(Dse,{className:s,autofocus:l,style:i,reference:j,closeOnBodyClick:p,closeOnEscape:y,open:v,placement:r,maxHeight:f,animation:w,ref:S,onMouseEnter:F,onMouseLeave:A,onClose:O,children:t})]})});g.forwardRef(({children:e,disabled:t,deleteIcon:n=a.jsx(Mse,{height:12,width:12}),onDelete:r,size:s="medium",color:i="default",theme:o,variant:l="filled",...u},d)=>{const f=ht("chip",o);return a.jsx(f5,{ref:d,size:s,disabled:t,color:i,end:a.jsx(d5,{tabIndex:0,variant:"text",size:s,className:He(f.deleteButton.base,f.deleteButton[s]),onClick:h=>{t||(h.stopPropagation(),r==null||r())},disabled:t,disableMargins:!0,disablePadding:!0,children:n}),variant:l,theme:f,...u,children:e})});g.forwardRef(({name:e,src:t,color:n,size:r=24,variant:s="filled",rounded:i=!0,className:o,colorOptions:l,theme:u,...d},f)=>{const h=r*.4,p=g.useMemo(()=>Mee(e||""),[e]),y=g.useMemo(()=>t?"transparent":n||Vse(e||"",l),[n,e,t,l]),w=ht("avatar",u);return a.jsx("div",{...d,className:He(w.base,i&&w.rounded,o),style:{width:`${r}px`,height:`${r}px`,fontSize:`${h}px`,backgroundImage:t?`url(${t})`:"none",backgroundColor:y,...s==="outline"&&{backgroundColor:"transparent",border:`solid 1px ${y}`,color:y}},ref:f,children:!t&&e&&a.jsx("span",{children:p})})});new Tj.Scale({ms:1,s:1*1e3,min:60*1e3,hr:3600*1e3,day:86400*1e3,month:2592e3*1e3});const Ase={icon:{base:"w-4 h-4 align-middle mx-1.5 fill-current",ascending:"rotate-180"}};({...Ase.icon});let p5=!1;try{typeof window<"u"&&(p5=navigator.platform.toUpperCase().indexOf("MAC")>=0)}catch{}const Ux=p5?"":"CTRL";function Lse(e){return e.replace("modifier",Ux).replace("mod",Ux).replace("meta",Ux).replace("shift","").replace("plus","+").replace("minus","-")}const Ise=({className:e,keycode:t,theme:n,...r})=>{const s=t.split("+").map(Lse),i=ht("kbd");return a.jsx("span",{className:i.base,children:s==null?void 0:s.map((o,l)=>a.jsx(f5,{...r,className:He(i.chip,e),children:a.jsx("kbd",{children:o})},l))})},Rse=g.forwardRef(({children:e,active:t,className:n,end:r,hotkey:s,onClick:i,theme:o,...l},u)=>{const{item:d}=ht("commandPalette",o);return a.jsx(h5,{layout:!0,children:a.jsx(jse,{...l,ref:u,className:He(d.base,t&&d.active,i&&d.clickable),end:a.jsxs(a.Fragment,{children:[s&&a.jsx(Ise,{keycode:s,size:"small"}),r]}),children:e})})});Rse.displayName="CommandPaletteItem";const Ose=g.forwardRef(({children:e,className:t,title:n,index:r,theme:s,...i},o)=>{const{section:l}=ht("commandPalette",s);return a.jsx(h5,{layout:!0,children:a.jsxs(_se,{ref:o,...i,className:He(l.base,r===0&&l.first,t),children:[n&&a.jsx(Nse,{children:n}),a.jsx(vse,{children:e})]})})});Ose.displayName="CommandPaletteSection";const zl={pages:{base:"inline-flex",page:{base:"py-1",active:"font-bold"}}};({...zl.pages,page:([zl.pages.page.base,"text-slate-500"].join(" "),[zl.pages.page.active,"text-text-primary!"].join(" "))});({...zl.pages,page:([zl.pages.page.base,"px-[var(--spacing-sm)]"].join(" "),[zl.pages.page.active,"text-(--input-color)!"].join(" "))});g.forwardRef(({children:e,className:t,size:n=10,theme:r,...s},i)=>{const o=g.Children.toArray(e),{data:l,hasMore:u,remaining:d}=Cse({items:o,size:n}),f=ht("avatarGroup",r);return a.jsxs("div",{...s,ref:i,className:He(f.base,t),children:[l.map((h,p)=>a.jsx("div",{className:f.avatar,children:h},p)),u&&a.jsxs("span",{className:f.overflow,children:["+",d," more"]})]})});g.forwardRef(({children:e,color:t="default",className:n,disableMargins:r,content:s,hidden:i,placement:o="top-end",theme:l,...u},d)=>{const f=ht("badge",l);return a.jsxs("span",{className:He(f.base,r&&f.disableMargins),children:[e,!i&&a.jsx(Y.span,{initial:{opacity:0,scale:1},animate:{opacity:1,scale:1},"aria-hidden":"true",children:a.jsx("span",{...u,ref:d,className:He(f.badge,f.position,f.colors[t],f.positions[o],n),children:s})})]})});const $se=()=>{let e=[];function t(s){e=[...e,s]}function n(s,i){const o=e.indexOf(s);if(o>-1){const l=e[o];l(!1,i)&&e.splice(o,1)}}function r(s){const i=[];e.forEach(o=>{o(!1,s)||i.push(o)}),e=[...i]}return()=>{const[s,i]=g.useState([]);return g.useEffect(()=>{i(e)},[]),{tooltips:s,deactivateAllTooltips:r,deactivateTooltip:n,addTooltip:t}}},Fse=$se(),zse=({className:e,children:t,content:n,triggerClassName:r,disabled:s=!1,enterDelay:i=0,leaveDelay:o=200,placement:l="top",trigger:u="hover",animated:d=!0,animation:f,visible:h=!1,followCursor:p=!1,closeOnClick:y=!1,closeOnEscape:w=!0,closeOnBodyClick:b=!0,pointerEvents:N="none",isPopover:v,onOpen:_,onClose:j,theme:S,...P})=>{const{addTooltip:E,deactivateTooltip:C,deactivateAllTooltips:T}=Fse(),[D,R]=g.useState(h),F=g.useRef(null),A=g.useRef(!1),O=g.useRef((K,te)=>(te===v&&R(K),te===v));g.useEffect(()=>{A.current?R(h):A.current=!0;const K=O.current,te=F.current;return()=>{clearTimeout(te),C(K,v)}},[C,v,h]);const $=ht("tooltip",S);return a.jsx(u5,{...P,placement:l,trigger:u,followCursor:p,triggerClassName:r,portalClassName:N==="none"&&$.disablePointer,open:D,closeOnBodyClick:b,closeOnEscape:w,content:()=>{const K=typeof n=="function"?n():n;return K?a.jsx(Y.div,{className:He($.base,e),...f||{transition:{duration:d?.3:0},initial:{opacity:0,scale:.3,transition:{when:"beforeChildren",duration:d?.3:0}},animate:{opacity:1,scale:1,transition:{when:"beforeChildren",duration:d?.3:0}},exit:{opacity:0,scale:.3,transition:{when:"beforeChildren",duration:d?.3:0}}},onClick:()=>{y&&T(v)},children:K}):null},onOpen:()=>{D||(clearTimeout(F.current),F.current=setTimeout(()=>{s||(T(v),R(!0),E(O.current),_==null||_())},i))},onClose:K=>{var te,W;(((te=K==null?void 0:K.nativeEvent)==null?void 0:te.type)!=="click"||((W=K==null?void 0:K.nativeEvent)==null?void 0:W.type)==="click"&&y)&&(clearTimeout(F.current),F.current=setTimeout(()=>{C(O.current,v),j==null||j()},o))},children:t})},ET={header:{base:"flex justify-between pt-[20px] px-[20px] pb-[10px]",text:"flex-1 m-0 p-0 inline-flex text-3xl font-bold",closeButton:"p-0 m-0 ml-[15px] opacity-80 h-auto w-auto inline-flex bg-none border-none cursor-pointer items-center text-[16px] focus:outline-hidden"}};({...ET.header,closeButton:[ET.header.closeButton,"text-text-primary"].join(" ")});const MT={closeButton:{base:"opacity-80 h-auto w-auto min-w-[auto] min-h-[auto] cursor-pointer text-base p-0 border-0 focus:outline-hidden",headerless:"absolute right-5 top-5"}};({...MT.closeButton,base:[MT.closeButton.base,"text-[var(--drawer-color)]"].join(" ")});tse([]);g.createContext({notify:()=>{},notifyError:()=>{},notifyWarning:()=>{},notifySuccess:()=>{},notifyInfo:()=>{},clearNotification:()=>{},clearAllNotifications:()=>{}});const js={notification:{base:"flex relative text-base min-w-[400px] rounded-xs mb-2.5 py-2 px-4",variants:{success:{base:"bg-success-background border border-success",icon:"text-success h-4 w-4"},error:{base:"bg-error-background border border-error",icon:"text-error h-4 w-4"},warning:{base:"bg-warning-background border border-warning",icon:"text-warning h-4 w-4"},info:{base:"bg-info-background border border-info",icon:"text-info h-4 w-4"}},content:"inline-flex items-start flex-1 flex-col justify-center",header:"text-base flex gap-2 items-center",closeContainer:"inline-flex items-center",action:"ml-auto mr-2 items-center flex",closeButton:"cursor-pointer text-sm font-semibold m-0 border-0 text-text-primary hover:text-text-primary/70",body:"opacity-70 text-sm mt-1"}};({...js.notification,base:[js.notification.base,"bg-panel text-text-primary border-panel-accent border"].join(" ")});({...js.notification,base:[js.notification.base,"bg-[var(--notification-background)] border-[var(--notification-border)] text-[var(--notification-color)]"].join(" "),closeButton:[js.notification.closeButton,"text-[var(--color-on-notification)]"].join(" "),body:[js.notification.body,"text-[var(--color-on-notification)]"].join(" "),variants:{...js.notification.variants,success:[js.notification.variants.success,"text-[var(--notification-color-success)]"].join(" "),error:[js.notification.variants.error,"text-[var(--notification-color-error)]"].join(" "),warning:[js.notification.variants.error,"text-[var(--notification-color-warning)]"].join(" ")}});function dt({children:e,element:t,childRef:n,...r}){const s=g.useMemo(()=>l=>{const u=t.props;return Object.keys(l).reduce((d,f)=>{const h=l[f],p=u[f];return typeof h=="function"&&typeof p=="function"?d[f]=(...y)=>(h(...y),p(...y)):f==="className"?d[f]=Vs(h,p):d[f]=h,d},{})},[r]);if(t===null)return e;const i=n?l=>{typeof n=="function"?n(l):i&&(n.current=l)}:void 0,o=s(r);return g.cloneElement(t,{...t.props,...o,children:e,ref:i})}function Bse(e){let t=5381;for(let n=0;n<e.length;n++)t=t*33^e.charCodeAt(n);return t>>>0}function Vse(e,t){const n=(t==null?void 0:t.saturation)??65,r=(t==null?void 0:t.lightness)??50,s=(t==null?void 0:t.alpha)??100,o=Bse(e)%360;if(s===100)return`hsl(${o}, ${n}%, ${r}%)`;{const l=s/100;return`hsla(${o}, ${n}%, ${r}%, ${l})`}}function Bl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Use(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kg(e){let t,n,r;e.length!==2?(t=Bl,n=(l,u)=>Bl(e(l),u),r=(l,u)=>e(l)-u):(t=e===Bl||e===Use?e:Wse,n=e,r=e);function s(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const h=d+f>>>1;n(l[h],u)<0?d=h+1:f=h}while(d<f)}return d}function i(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const h=d+f>>>1;n(l[h],u)<=0?d=h+1:f=h}while(d<f)}return d}function o(l,u,d=0,f=l.length){const h=s(l,u,d,f-1);return h>d&&r(l[h-1],u)>-r(l[h],u)?h-1:h}return{left:s,center:o,right:i}}function Wse(){return 0}function Hse(e){return e===null?NaN:+e}function*Gse(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const qse=kg(Bl),Yse=qse.right;kg(Hse).center;class DT extends Map{constructor(t,n=Xse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(AT(this,t))}has(t){return super.has(AT(this,t))}set(t,n){return super.set(Zse(this,t),n)}delete(t){return super.delete(Kse(this,t))}}function AT({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Zse({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Kse({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Xse(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jse(e=Bl){if(e===Bl)return m5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function m5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Qse=Math.sqrt(50),eie=Math.sqrt(10),tie=Math.sqrt(2);function um(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=Qse?10:i>=eie?5:i>=tie?2:1;let l,u,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?um(e,t,n*2):[l,u,d]}function nie(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,o]=r?um(t,e,n):um(e,t,n);if(!(i>=s))return[];const l=i-s+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(i-d)/-o;else for(let d=0;d<l;++d)u[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(s+d)/-o;else for(let d=0;d<l;++d)u[d]=(s+d)*o;return u}function Ww(e,t,n){return t=+t,e=+e,n=+n,um(e,t,n)[2]}function Hw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?Ww(t,e,n):Ww(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function Md(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function rie(e,t){let n,r=-1,s=-1;if(t===void 0)for(const i of e)++s,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=s);else for(let i of e)(i=t(i,++s,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=s);return r}function dm(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function g5(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?m5:Jse(s);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(u-h)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(t-d*h/u+p)),w=Math.min(r,Math.floor(t+(u-d)*h/u+p));g5(e,t,y,w,s)}const i=e[t];let o=n,l=r;for(gu(e,n,t),s(e[r],i)>0&&gu(e,n,r);o<l;){for(gu(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[n],i)===0?gu(e,n,l):(++l,gu(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function gu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function sie(e,t,n){if(e=Float64Array.from(Gse(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return dm(e);if(t>=1)return Md(e);var r,s=(r-1)*t,i=Math.floor(s),o=Md(g5(e,i).subarray(0,i+1)),l=dm(e.subarray(i+1));return o+(l-o)*(s-i)}}function LT(e,t){return sie(e,.5,t)}function y5(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function ft(e){return function(){return e}}const IT=Math.abs,Pn=Math.atan2,Io=Math.cos,iie=Math.max,Wx=Math.min,ws=Math.sin,Sl=Math.sqrt,Kn=1e-12,Dd=Math.PI,fm=Dd/2,oie=2*Dd;function aie(e){return e>1?0:e<-1?Dd:Math.acos(e)}function RT(e){return e>=1?fm:e<=-1?-fm:Math.asin(e)}const Gw=Math.PI,qw=2*Gw,Vo=1e-6,lie=qw-Vo;function x5(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function cie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return x5;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class uie{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?x5:cie(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=r-t,d=s-n,f=o-t,h=l-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Vo)if(!(Math.abs(h*u-d*f)>Vo)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,w=s-l,b=u*u+d*d,N=y*y+w*w,v=Math.sqrt(b),_=Math.sqrt(p),j=i*Math.tan((Gw-Math.acos((b+p-N)/(2*v*_)))/2),S=j/_,P=j/v;Math.abs(S-1)>Vo&&this._append`L${t+S*f},${n+S*h}`,this._append`A${i},${i},0,0,${+(h*y>f*w)},${this._x1=t+P*u},${this._y1=n+P*d}`}}arc(t,n,r,s,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),u=r*Math.sin(s),d=t+l,f=n+u,h=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Vo||Math.abs(this._y1-f)>Vo)&&this._append`L${d},${f}`,r&&(p<0&&(p=p%qw+qw),p>lie?this._append`A${r},${r},0,1,${h},${t-l},${n-u}A${r},${r},0,1,${h},${this._x1=d},${this._y1=f}`:p>Vo&&this._append`A${r},${r},0,${+(p>=Gw)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function Fj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uie(t)}function die(e){return e.innerRadius}function fie(e){return e.outerRadius}function hie(e){return e.startAngle}function pie(e){return e.endAngle}function mie(e){return e&&e.padAngle}function gie(e,t,n,r,s,i,o,l){var u=n-e,d=r-t,f=o-s,h=l-i,p=h*u-f*d;if(!(p*p<Kn))return p=(f*(t-i)-h*(e-s))/p,[e+p*u,t+p*d]}function Ch(e,t,n,r,s,i,o){var l=e-n,u=t-r,d=(o?i:-i)/Sl(l*l+u*u),f=d*u,h=-d*l,p=e+f,y=t+h,w=n+f,b=r+h,N=(p+w)/2,v=(y+b)/2,_=w-p,j=b-y,S=_*_+j*j,P=s-i,E=p*b-w*y,C=(j<0?-1:1)*Sl(iie(0,P*P*S-E*E)),T=(E*j-_*C)/S,D=(-E*_-j*C)/S,R=(E*j+_*C)/S,F=(-E*_+j*C)/S,A=T-N,O=D-v,$=R-N,K=F-v;return A*A+O*O>$*$+K*K&&(T=R,D=F),{cx:T,cy:D,x01:-f,y01:-h,x11:T*(s/P-1),y11:D*(s/P-1)}}function OT(){var e=die,t=fie,n=ft(0),r=null,s=hie,i=pie,o=mie,l=null,u=Fj(d);function d(){var f,h,p=+e.apply(this,arguments),y=+t.apply(this,arguments),w=s.apply(this,arguments)-fm,b=i.apply(this,arguments)-fm,N=IT(b-w),v=b>w;if(l||(l=f=u()),y<p&&(h=y,y=p,p=h),!(y>Kn))l.moveTo(0,0);else if(N>oie-Kn)l.moveTo(y*Io(w),y*ws(w)),l.arc(0,0,y,w,b,!v),p>Kn&&(l.moveTo(p*Io(b),p*ws(b)),l.arc(0,0,p,b,w,v));else{var _=w,j=b,S=w,P=b,E=N,C=N,T=o.apply(this,arguments)/2,D=T>Kn&&(r?+r.apply(this,arguments):Sl(p*p+y*y)),R=Wx(IT(y-p)/2,+n.apply(this,arguments)),F=R,A=R,O,$;if(D>Kn){var K=RT(D/p*ws(T)),te=RT(D/y*ws(T));(E-=K*2)>Kn?(K*=v?1:-1,S+=K,P-=K):(E=0,S=P=(w+b)/2),(C-=te*2)>Kn?(te*=v?1:-1,_+=te,j-=te):(C=0,_=j=(w+b)/2)}var W=y*Io(_),z=y*ws(_),V=p*Io(P),q=p*ws(P);if(R>Kn){var Z=y*Io(j),X=y*ws(j),G=p*Io(S),ae=p*ws(S),fe;if(N<Dd)if(fe=gie(W,z,G,ae,Z,X,V,q)){var ge=W-fe[0],be=z-fe[1],ke=Z-fe[0],re=X-fe[1],me=1/ws(aie((ge*ke+be*re)/(Sl(ge*ge+be*be)*Sl(ke*ke+re*re)))/2),Ne=Sl(fe[0]*fe[0]+fe[1]*fe[1]);F=Wx(R,(p-Ne)/(me-1)),A=Wx(R,(y-Ne)/(me+1))}else F=A=0}C>Kn?A>Kn?(O=Ch(G,ae,W,z,y,A,v),$=Ch(Z,X,V,q,y,A,v),l.moveTo(O.cx+O.x01,O.cy+O.y01),A<R?l.arc(O.cx,O.cy,A,Pn(O.y01,O.x01),Pn($.y01,$.x01),!v):(l.arc(O.cx,O.cy,A,Pn(O.y01,O.x01),Pn(O.y11,O.x11),!v),l.arc(0,0,y,Pn(O.cy+O.y11,O.cx+O.x11),Pn($.cy+$.y11,$.cx+$.x11),!v),l.arc($.cx,$.cy,A,Pn($.y11,$.x11),Pn($.y01,$.x01),!v))):(l.moveTo(W,z),l.arc(0,0,y,_,j,!v)):l.moveTo(W,z),!(p>Kn)||!(E>Kn)?l.lineTo(V,q):F>Kn?(O=Ch(V,q,Z,X,p,-F,v),$=Ch(W,z,G,ae,p,-F,v),l.lineTo(O.cx+O.x01,O.cy+O.y01),F<R?l.arc(O.cx,O.cy,F,Pn(O.y01,O.x01),Pn($.y01,$.x01),!v):(l.arc(O.cx,O.cy,F,Pn(O.y01,O.x01),Pn(O.y11,O.x11),!v),l.arc(0,0,p,Pn(O.cy+O.y11,O.cx+O.x11),Pn($.cy+$.y11,$.cx+$.x11),v),l.arc($.cx,$.cy,F,Pn($.y11,$.x11),Pn($.y01,$.x01),!v))):l.arc(0,0,p,P,S,v)}if(l.closePath(),f)return l=null,f+""||null}return d.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+s.apply(this,arguments)+ +i.apply(this,arguments))/2-Dd/2;return[Io(h)*f,ws(h)*f]},d.innerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),d):e},d.outerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),d):t},d.cornerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:ft(+f),d):n},d.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ft(+f),d):r},d.startAngle=function(f){return arguments.length?(s=typeof f=="function"?f:ft(+f),d):s},d.endAngle=function(f){return arguments.length?(i=typeof f=="function"?f:ft(+f),d):i},d.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:ft(+f),d):o},d.context=function(f){return arguments.length?(l=f??null,d):l},d}function zj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v5(e){this._context=e}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bj(e){return new v5(e)}function b5(e){return e[0]}function w5(e){return e[1]}function _5(e,t){var n=ft(!0),r=null,s=Bj,i=null,o=Fj(l);e=typeof e=="function"?e:e===void 0?b5:ft(e),t=typeof t=="function"?t:t===void 0?w5:ft(t);function l(u){var d,f=(u=zj(u)).length,h,p=!1,y;for(r==null&&(i=s(y=o())),d=0;d<=f;++d)!(d<f&&n(h=u[d],d,u))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(h,d,u),+t(h,d,u));if(y)return i=null,y+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:ft(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:ft(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ft(!!u),l):n},l.curve=function(u){return arguments.length?(s=u,r!=null&&(i=s(r)),l):s},l.context=function(u){return arguments.length?(u==null?r=i=null:i=s(r=u),l):r},l}function yie(e,t,n){var r=null,s=ft(!0),i=null,o=Bj,l=null,u=Fj(d);e=typeof e=="function"?e:e===void 0?b5:ft(+e),t=typeof t=="function"?t:ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?w5:ft(+n);function d(h){var p,y,w,b=(h=zj(h)).length,N,v=!1,_,j=new Array(b),S=new Array(b);for(i==null&&(l=o(_=u())),p=0;p<=b;++p){if(!(p<b&&s(N=h[p],p,h))===v)if(v=!v)y=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=p-1;w>=y;--w)l.point(j[w],S[w]);l.lineEnd(),l.areaEnd()}v&&(j[p]=+e(N,p,h),S[p]=+t(N,p,h),l.point(r?+r(N,p,h):j[p],n?+n(N,p,h):S[p]))}if(_)return l=null,_+""||null}function f(){return _5().defined(s).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:ft(+h),r=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:ft(+h),d):e},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:ft(+h),d):r},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:ft(+h),n=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:ft(+h),d):t},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ft(+h),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(r).y(t)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:ft(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}function $T(e){return e<0?-1:1}function FT(e,t,n){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),l=(i*s+o*r)/(r+s);return($T(i)+$T(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function zT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Hx(e,t,n){var r=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,s+l*t,i-l,o-l*n,i,o)}function hm(e){this._context=e}hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hx(this,this._t0,zT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hx(this,zT(this,n=FT(this,e,t)),n);break;default:Hx(this,this._t0,n=FT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(hm.prototype).point=function(e,t){hm.prototype.point.call(this,t,e)};function xie(e){return new hm(e)}function j5(e,t){this._context=e,this._t=t}j5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vie(e){return new j5(e,.5)}function Yw(e,t){if((o=e.length)>1)for(var n=1,r,s,i=e[t[0]],o,l=i.length;n<o;++n)for(s=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function BT(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function bie(e,t){return e[t]}function wie(e){const t=[];return t.key=e,t}function VT(){var e=ft([]),t=BT,n=Yw,r=bie;function s(i){var o=Array.from(e.apply(this,arguments),wie),l,u=o.length,d=-1,f;for(const h of i)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(h,o[l].key,d,i)]).data=h;for(l=0,f=zj(t(o));l<u;++l)o[f[l]].index=l;return n(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ft(Array.from(i)),s):e},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:ft(+i),s):r},s.order=function(i){return arguments.length?(t=i==null?BT:typeof i=="function"?i:ft(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Yw,s):n},s}function _ie(e,t){if((r=e.length)>0){for(var n,r,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}Yw(e,t)}}function Vj(e,t){return Array.isArray(t)?[e.a*t[0]+e.c*t[1]+e.e,e.b*t[0]+e.d*t[1]+e.f]:{x:e.a*t.x+e.c*t.y+e.e,y:e.b*t.x+e.d*t.y+e.f}}function jie(e,t){return t.map(n=>Vj(e,n))}function N5(e){const{a:t,b:n,c:r,d:s,e:i,f:o}=e,l=t*s-n*r;return{a:s/l,b:n/-l,c:r/-l,d:t/l,e:(s*i-r*o)/-l,f:(n*i-t*o)/l}}function Gx(e){return typeof e>"u"}function Ad(e,t=0){return{a:1,c:0,e,b:0,d:1,f:t}}function Cg(...e){e=Array.isArray(e[0])?e[0]:e;const t=(n,r)=>({a:n.a*r.a+n.c*r.b,c:n.a*r.c+n.c*r.d,e:n.a*r.e+n.c*r.f+n.e,b:n.b*r.a+n.d*r.b,d:n.b*r.c+n.d*r.d,f:n.b*r.e+n.d*r.f+n.f});switch(e.length){case 0:throw new Error("no matrices provided");case 1:return e[0];case 2:return t(e[0],e[1]);default:{const[n,r,...s]=e,i=t(n,r);return Cg(i,...s)}}}function Nie(e,t=void 0,n=void 0,r=void 0){Gx(t)&&(t=e);const s={a:e,c:0,e:0,b:0,d:t,f:0};return Gx(n)||Gx(r)?s:Cg([Ad(n,r),s,Ad(-n,-r)])}function S5(e,t=1e10){return{a:Math.round(e.a*t)/t,b:Math.round(e.b*t)/t,c:Math.round(e.c*t)/t,d:Math.round(e.d*t)/t,e:Math.round(e.e*t)/t,f:Math.round(e.f*t)/t}}function Pg(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const UT=Symbol("implicit");function Uj(){var e=new DT,t=[],n=[],r=UT;function s(i){let o=e.get(i);if(o===void 0){if(r!==UT)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new DT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Uj(t,n).unknown(r)},Pg.apply(s,arguments),s}function Wj(){var e=Uj().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,o,l=!1,u=0,d=0,f=.5;delete e.unknown;function h(){var p=t().length,y=s<r,w=y?s:r,b=y?r:s;i=(b-w)/Math.max(1,p-u+d*2),l&&(i=Math.floor(i)),w+=(b-w-i*(p-u))*f,o=i*(1-u),l&&(w=Math.round(w),o=Math.round(o));var N=y5(p).map(function(v){return w+i*v});return n(y?N.reverse():N)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([r,s]=p,r=+r,s=+s,h()):[r,s]},e.rangeRound=function(p){return[r,s]=p,r=+r,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(u=Math.min(1,d=+p),h()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),h()):u},e.paddingOuter=function(p){return arguments.length?(d=+p,h()):d},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return Wj(t(),[r,s]).round(l).paddingInner(u).paddingOuter(d).align(f)},Pg.apply(h(),arguments)}function Hj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function k5(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ff(){}var Ld=.7,pm=1/Ld,Vl="\\s*([+-]?\\d+)\\s*",Id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sie=/^#([0-9a-f]{3,8})$/,kie=new RegExp(`^rgb\\(${Vl},${Vl},${Vl}\\)$`),Cie=new RegExp(`^rgb\\(${Os},${Os},${Os}\\)$`),Pie=new RegExp(`^rgba\\(${Vl},${Vl},${Vl},${Id}\\)$`),Tie=new RegExp(`^rgba\\(${Os},${Os},${Os},${Id}\\)$`),Eie=new RegExp(`^hsl\\(${Id},${Os},${Os}\\)$`),Mie=new RegExp(`^hsla\\(${Id},${Os},${Os},${Id}\\)$`),WT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hj(ff,Rd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HT,formatHex:HT,formatHex8:Die,formatHsl:Aie,formatRgb:GT,toString:GT});function HT(){return this.rgb().formatHex()}function Die(){return this.rgb().formatHex8()}function Aie(){return C5(this).formatHsl()}function GT(){return this.rgb().formatRgb()}function Rd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Sie.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?qT(t):n===3?new nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ph(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ph(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kie.exec(e))?new nr(t[1],t[2],t[3],1):(t=Cie.exec(e))?new nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Pie.exec(e))?Ph(t[1],t[2],t[3],t[4]):(t=Tie.exec(e))?Ph(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Eie.exec(e))?KT(t[1],t[2]/100,t[3]/100,1):(t=Mie.exec(e))?KT(t[1],t[2]/100,t[3]/100,t[4]):WT.hasOwnProperty(e)?qT(WT[e]):e==="transparent"?new nr(NaN,NaN,NaN,0):null}function qT(e){return new nr(e>>16&255,e>>8&255,e&255,1)}function Ph(e,t,n,r){return r<=0&&(e=t=n=NaN),new nr(e,t,n,r)}function Lie(e){return e instanceof ff||(e=Rd(e)),e?(e=e.rgb(),new nr(e.r,e.g,e.b,e.opacity)):new nr}function Zw(e,t,n,r){return arguments.length===1?Lie(e):new nr(e,t,n,r??1)}function nr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Hj(nr,Zw,k5(ff,{brighter(e){return e=e==null?pm:Math.pow(pm,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ld:Math.pow(Ld,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nr(fa(this.r),fa(this.g),fa(this.b),mm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YT,formatHex:YT,formatHex8:Iie,formatRgb:ZT,toString:ZT}));function YT(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function Iie(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZT(){const e=mm(this.opacity);return`${e===1?"rgb(":"rgba("}${fa(this.r)}, ${fa(this.g)}, ${fa(this.b)}${e===1?")":`, ${e})`}`}function mm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qo(e){return e=fa(e),(e<16?"0":"")+e.toString(16)}function KT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ns(e,t,n,r)}function C5(e){if(e instanceof ns)return new ns(e.h,e.s,e.l,e.opacity);if(e instanceof ff||(e=Rd(e)),!e)return new ns;if(e instanceof ns)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,u=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?i+s:2-i-s,o*=60):l=u>0&&u<1?0:o,new ns(o,l,u,e.opacity)}function Rie(e,t,n,r){return arguments.length===1?C5(e):new ns(e,t,n,r??1)}function ns(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Hj(ns,Rie,k5(ff,{brighter(e){return e=e==null?pm:Math.pow(pm,e),new ns(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ld:Math.pow(Ld,e),new ns(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new nr(qx(e>=240?e-240:e+120,s,r),qx(e,s,r),qx(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new ns(XT(this.h),Th(this.s),Th(this.l),mm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mm(this.opacity);return`${e===1?"hsl(":"hsla("}${XT(this.h)}, ${Th(this.s)*100}%, ${Th(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XT(e){return e=(e||0)%360,e<0?e+360:e}function Th(e){return Math.max(0,Math.min(1,e||0))}function qx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Gj=e=>()=>e;function Oie(e,t){return function(n){return e+n*t}}function $ie(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Fie(e){return(e=+e)==1?P5:function(t,n){return n-t?$ie(t,n,e):Gj(isNaN(t)?n:t)}}function P5(e,t){var n=t-e;return n?Oie(e,n):Gj(isNaN(e)?t:e)}const JT=function e(t){var n=Fie(t);function r(s,i){var o=n((s=Zw(s)).r,(i=Zw(i)).r),l=n(s.g,i.g),u=n(s.b,i.b),d=P5(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=u(f),s.opacity=d(f),s+""}}return r.gamma=e,r}(1);function zie(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function Bie(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Vie(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Tg(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function Uie(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gm(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Wie(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Tg(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Kw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yx=new RegExp(Kw.source,"g");function Hie(e){return function(){return e}}function Gie(e){return function(t){return e(t)+""}}function qie(e,t){var n=Kw.lastIndex=Yx.lastIndex=0,r,s,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Kw.exec(e))&&(s=Yx.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:gm(r,s)})),n=Yx.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?Gie(u[0].x):Hie(t):(t=u.length,function(d){for(var f=0,h;f<t;++f)l[(h=u[f]).i]=h.x(d);return l.join("")})}function Tg(e,t){var n=typeof t,r;return t==null||n==="boolean"?Gj(t):(n==="number"?gm:n==="string"?(r=Rd(t))?(t=r,JT):qie:t instanceof Rd?JT:t instanceof Date?Uie:Bie(t)?zie:Array.isArray(t)?Vie:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Wie:gm)(e,t)}function Yie(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Zie(e){return function(){return e}}function Kie(e){return+e}var QT=[0,1];function kl(e){return e}function Xw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Zie(isNaN(t)?NaN:.5)}function Xie(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Jie(e,t,n){var r=e[0],s=e[1],i=t[0],o=t[1];return s<r?(r=Xw(s,r),i=n(o,i)):(r=Xw(r,s),i=n(i,o)),function(l){return i(r(l))}}function Qie(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=Xw(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var u=Yse(e,l,1,r)-1;return i[u](s[u](l))}}function T5(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eoe(){var e=QT,t=QT,n=Tg,r,s,i,o=kl,l,u,d;function f(){var p=Math.min(e.length,t.length);return o!==kl&&(o=Xie(e[0],e[p-1])),l=p>2?Qie:Jie,u=d=null,h}function h(p){return p==null||isNaN(p=+p)?i:(u||(u=l(e.map(r),t,n)))(r(o(p)))}return h.invert=function(p){return o(s((d||(d=l(t,e.map(r),gm)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,Kie),f()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),n=Yie,f()},h.clamp=function(p){return arguments.length?(o=p?!0:kl,f()):o!==kl},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(i=p,h):i},function(p,y){return r=p,s=y,f()}}function E5(){return eoe()(kl,kl)}function toe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ym(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ac(e){return e=ym(Math.abs(e)),e?e[1]:NaN}function noe(e,t){return function(n,r){for(var s=n.length,i=[],o=0,l=e[0],u=0;s>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(n.substring(s-=l,s+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function roe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var soe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xm(e){if(!(t=soe.exec(e)))throw new Error("invalid format: "+e);var t;return new qj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xm.prototype=qj.prototype;function qj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ioe(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var M5;function ooe(e,t){var n=ym(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(M5=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ym(e,Math.max(0,t+i-1))[0]}function eE(e,t){var n=ym(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const tE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:toe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eE(e*100,t),r:eE,s:ooe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nE(e){return e}var rE=Array.prototype.map,sE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aoe(e){var t=e.grouping===void 0||e.thousands===void 0?nE:noe(rE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?nE:roe(rE.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(h){h=xm(h);var p=h.fill,y=h.align,w=h.sign,b=h.symbol,N=h.zero,v=h.width,_=h.comma,j=h.precision,S=h.trim,P=h.type;P==="n"?(_=!0,P="g"):tE[P]||(j===void 0&&(j=12),S=!0,P="g"),(N||p==="0"&&y==="=")&&(N=!0,p="0",y="=");var E=b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",C=b==="$"?r:/[%p]/.test(P)?o:"",T=tE[P],D=/[defgprs%]/.test(P);j=j===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function R(F){var A=E,O=C,$,K,te;if(P==="c")O=T(F)+O,F="";else{F=+F;var W=F<0||1/F<0;if(F=isNaN(F)?u:T(Math.abs(F),j),S&&(F=ioe(F)),W&&+F==0&&w!=="+"&&(W=!1),A=(W?w==="("?w:l:w==="-"||w==="("?"":w)+A,O=(P==="s"?sE[8+M5/3]:"")+O+(W&&w==="("?")":""),D){for($=-1,K=F.length;++$<K;)if(te=F.charCodeAt($),48>te||te>57){O=(te===46?s+F.slice($+1):F.slice($))+O,F=F.slice(0,$);break}}}_&&!N&&(F=t(F,1/0));var z=A.length+F.length+O.length,V=z<v?new Array(v-z+1).join(p):"";switch(_&&N&&(F=t(V+F,V.length?v-O.length:1/0),V=""),y){case"<":F=A+F+O+V;break;case"=":F=A+V+F+O;break;case"^":F=V.slice(0,z=V.length>>1)+A+F+O+V.slice(z);break;default:F=V+A+F+O;break}return i(F)}return R.toString=function(){return h+""},R}function f(h,p){var y=d((h=xm(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(ac(p)/3)))*3,b=Math.pow(10,-w),N=sE[8+w/3];return function(v){return y(b*v)+N}}return{format:d,formatPrefix:f}}var Eh,D5,A5;loe({thousands:",",grouping:[3],currency:["$",""]});function loe(e){return Eh=aoe(e),D5=Eh.format,A5=Eh.formatPrefix,Eh}function coe(e){return Math.max(0,-ac(Math.abs(e)))}function uoe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ac(t)/3)))*3-ac(Math.abs(e)))}function doe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ac(t)-ac(e))+1}function foe(e,t,n,r){var s=Hw(e,t,n),i;switch(r=xm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=uoe(s,o))&&(r.precision=i),A5(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=doe(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=coe(s))&&(r.precision=i-(r.type==="%")*2);break}}return D5(r)}function hoe(e){var t=e.domain;return e.ticks=function(n){var r=t();return nie(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return foe(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,o=r[s],l=r[i],u,d,f=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);f-- >0;){if(d=Ww(o,l,n),d===u)return r[s]=o,r[i]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function Eg(){var e=E5();return e.copy=function(){return T5(e,Eg())},Pg.apply(e,arguments),hoe(e)}function poe(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],i=e[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),e[n]=t.floor(s),e[r]=t.ceil(i),e}const Zx=new Date,Kx=new Date;function ln(e,t,n,r){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const u=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let d;do u.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return u},s.filter=i=>ln(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(s.count=(i,o)=>(Zx.setTime(+i),Kx.setTime(+o),e(Zx),e(Kx),Math.floor(n(Zx,Kx))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const vm=ln(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ln(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):vm);vm.range;const di=1e3,Rr=di*60,fi=Rr*60,Ti=fi*24,Yj=Ti*7,iE=Ti*30,Xx=Ti*365,Cl=ln(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*di)},(e,t)=>(t-e)/di,e=>e.getUTCSeconds());Cl.range;const Zj=ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*di)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getMinutes());Zj.range;const moe=ln(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCMinutes());moe.range;const Kj=ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*di-e.getMinutes()*Rr)},(e,t)=>{e.setTime(+e+t*fi)},(e,t)=>(t-e)/fi,e=>e.getHours());Kj.range;const goe=ln(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fi)},(e,t)=>(t-e)/fi,e=>e.getUTCHours());goe.range;const hf=ln(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/Ti,e=>e.getDate()-1);hf.range;const Xj=ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ti,e=>e.getUTCDate()-1);Xj.range;const yoe=ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ti,e=>Math.floor(e/Ti));yoe.range;function Oa(e){return ln(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rr)/Yj)}const Mg=Oa(0),bm=Oa(1),xoe=Oa(2),voe=Oa(3),lc=Oa(4),boe=Oa(5),woe=Oa(6);Mg.range;bm.range;xoe.range;voe.range;lc.range;boe.range;woe.range;function $a(e){return ln(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Yj)}const L5=$a(0),wm=$a(1),_oe=$a(2),joe=$a(3),cc=$a(4),Noe=$a(5),Soe=$a(6);L5.range;wm.range;_oe.range;joe.range;cc.range;Noe.range;Soe.range;const Jj=ln(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Jj.range;const koe=ln(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());koe.range;const Ei=ln(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ln(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ei.range;const ja=ln(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ln(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ja.range;function Coe(e,t,n,r,s,i){const o=[[Cl,1,di],[Cl,5,5*di],[Cl,15,15*di],[Cl,30,30*di],[i,1,Rr],[i,5,5*Rr],[i,15,15*Rr],[i,30,30*Rr],[s,1,fi],[s,3,3*fi],[s,6,6*fi],[s,12,12*fi],[r,1,Ti],[r,2,2*Ti],[n,1,Yj],[t,1,iE],[t,3,3*iE],[e,1,Xx]];function l(d,f,h){const p=f<d;p&&([d,f]=[f,d]);const y=h&&typeof h.range=="function"?h:u(d,f,h),w=y?y.range(d,+f+1):[];return p?w.reverse():w}function u(d,f,h){const p=Math.abs(f-d)/h,y=kg(([,,N])=>N).right(o,p);if(y===o.length)return e.every(Hw(d/Xx,f/Xx,h));if(y===0)return vm.every(Math.max(Hw(d,f,h),1));const[w,b]=o[p/o[y-1][2]<o[y][2]/p?y-1:y];return w.every(b)}return[l,u]}const[Poe,Toe]=Coe(Ei,Jj,Mg,hf,Kj,Zj);function Jx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Eoe(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=xu(s),f=vu(s),h=xu(i),p=vu(i),y=xu(o),w=vu(o),b=xu(l),N=vu(l),v=xu(u),_=vu(u),j={a:W,A:z,b:V,B:q,c:null,d:dE,e:dE,f:Qoe,g:cae,G:dae,H:Koe,I:Xoe,j:Joe,L:I5,m:eae,M:tae,p:Z,q:X,Q:pE,s:mE,S:nae,u:rae,U:sae,V:iae,w:oae,W:aae,x:null,X:null,y:lae,Y:uae,Z:fae,"%":hE},S={a:G,A:ae,b:fe,B:ge,c:null,d:fE,e:fE,f:gae,g:kae,G:Pae,H:hae,I:pae,j:mae,L:O5,m:yae,M:xae,p:be,q:ke,Q:pE,s:mE,S:vae,u:bae,U:wae,V:_ae,w:jae,W:Nae,x:null,X:null,y:Sae,Y:Cae,Z:Tae,"%":hE},P={a:R,A:F,b:A,B:O,c:$,d:cE,e:cE,f:Goe,g:lE,G:aE,H:uE,I:uE,j:Voe,L:Hoe,m:Boe,M:Uoe,p:D,q:zoe,Q:Yoe,s:Zoe,S:Woe,u:Ioe,U:Roe,V:Ooe,w:Loe,W:$oe,x:K,X:te,y:lE,Y:aE,Z:Foe,"%":qoe};j.x=E(n,j),j.X=E(r,j),j.c=E(t,j),S.x=E(n,S),S.X=E(r,S),S.c=E(t,S);function E(re,me){return function(Ne){var ce=[],ue=-1,xe=0,je=re.length,Ce,Fe,rt;for(Ne instanceof Date||(Ne=new Date(+Ne));++ue<je;)re.charCodeAt(ue)===37&&(ce.push(re.slice(xe,ue)),(Fe=oE[Ce=re.charAt(++ue)])!=null?Ce=re.charAt(++ue):Fe=Ce==="e"?" ":"0",(rt=me[Ce])&&(Ce=rt(Ne,Fe)),ce.push(Ce),xe=ue+1);return ce.push(re.slice(xe,ue)),ce.join("")}}function C(re,me){return function(Ne){var ce=yu(1900,void 0,1),ue=T(ce,re,Ne+="",0),xe,je;if(ue!=Ne.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(me&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(xe=Qx(yu(ce.y,0,1)),je=xe.getUTCDay(),xe=je>4||je===0?wm.ceil(xe):wm(xe),xe=Xj.offset(xe,(ce.V-1)*7),ce.y=xe.getUTCFullYear(),ce.m=xe.getUTCMonth(),ce.d=xe.getUTCDate()+(ce.w+6)%7):(xe=Jx(yu(ce.y,0,1)),je=xe.getDay(),xe=je>4||je===0?bm.ceil(xe):bm(xe),xe=hf.offset(xe,(ce.V-1)*7),ce.y=xe.getFullYear(),ce.m=xe.getMonth(),ce.d=xe.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),je="Z"in ce?Qx(yu(ce.y,0,1)).getUTCDay():Jx(yu(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(je+5)%7:ce.w+ce.U*7-(je+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Qx(ce)):Jx(ce)}}function T(re,me,Ne,ce){for(var ue=0,xe=me.length,je=Ne.length,Ce,Fe;ue<xe;){if(ce>=je)return-1;if(Ce=me.charCodeAt(ue++),Ce===37){if(Ce=me.charAt(ue++),Fe=P[Ce in oE?me.charAt(ue++):Ce],!Fe||(ce=Fe(re,Ne,ce))<0)return-1}else if(Ce!=Ne.charCodeAt(ce++))return-1}return ce}function D(re,me,Ne){var ce=d.exec(me.slice(Ne));return ce?(re.p=f.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function R(re,me,Ne){var ce=y.exec(me.slice(Ne));return ce?(re.w=w.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function F(re,me,Ne){var ce=h.exec(me.slice(Ne));return ce?(re.w=p.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function A(re,me,Ne){var ce=v.exec(me.slice(Ne));return ce?(re.m=_.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function O(re,me,Ne){var ce=b.exec(me.slice(Ne));return ce?(re.m=N.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function $(re,me,Ne){return T(re,t,me,Ne)}function K(re,me,Ne){return T(re,n,me,Ne)}function te(re,me,Ne){return T(re,r,me,Ne)}function W(re){return o[re.getDay()]}function z(re){return i[re.getDay()]}function V(re){return u[re.getMonth()]}function q(re){return l[re.getMonth()]}function Z(re){return s[+(re.getHours()>=12)]}function X(re){return 1+~~(re.getMonth()/3)}function G(re){return o[re.getUTCDay()]}function ae(re){return i[re.getUTCDay()]}function fe(re){return u[re.getUTCMonth()]}function ge(re){return l[re.getUTCMonth()]}function be(re){return s[+(re.getUTCHours()>=12)]}function ke(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var me=E(re+="",j);return me.toString=function(){return re},me},parse:function(re){var me=C(re+="",!1);return me.toString=function(){return re},me},utcFormat:function(re){var me=E(re+="",S);return me.toString=function(){return re},me},utcParse:function(re){var me=C(re+="",!0);return me.toString=function(){return re},me}}}var oE={"-":"",_:" ",0:"0"},yn=/^\s*\d+/,Moe=/^%/,Doe=/[\\^$*+?|[\]().{}]/g;function ut(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(t)+s:s)}function Aoe(e){return e.replace(Doe,"\\$&")}function xu(e){return new RegExp("^(?:"+e.map(Aoe).join("|")+")","i")}function vu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Loe(e,t,n){var r=yn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ioe(e,t,n){var r=yn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Roe(e,t,n){var r=yn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ooe(e,t,n){var r=yn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function $oe(e,t,n){var r=yn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function aE(e,t,n){var r=yn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function lE(e,t,n){var r=yn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Foe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zoe(e,t,n){var r=yn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Boe(e,t,n){var r=yn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function cE(e,t,n){var r=yn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Voe(e,t,n){var r=yn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function uE(e,t,n){var r=yn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Uoe(e,t,n){var r=yn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Woe(e,t,n){var r=yn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Hoe(e,t,n){var r=yn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Goe(e,t,n){var r=yn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qoe(e,t,n){var r=Moe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Yoe(e,t,n){var r=yn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Zoe(e,t,n){var r=yn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function dE(e,t){return ut(e.getDate(),t,2)}function Koe(e,t){return ut(e.getHours(),t,2)}function Xoe(e,t){return ut(e.getHours()%12||12,t,2)}function Joe(e,t){return ut(1+hf.count(Ei(e),e),t,3)}function I5(e,t){return ut(e.getMilliseconds(),t,3)}function Qoe(e,t){return I5(e,t)+"000"}function eae(e,t){return ut(e.getMonth()+1,t,2)}function tae(e,t){return ut(e.getMinutes(),t,2)}function nae(e,t){return ut(e.getSeconds(),t,2)}function rae(e){var t=e.getDay();return t===0?7:t}function sae(e,t){return ut(Mg.count(Ei(e)-1,e),t,2)}function R5(e){var t=e.getDay();return t>=4||t===0?lc(e):lc.ceil(e)}function iae(e,t){return e=R5(e),ut(lc.count(Ei(e),e)+(Ei(e).getDay()===4),t,2)}function oae(e){return e.getDay()}function aae(e,t){return ut(bm.count(Ei(e)-1,e),t,2)}function lae(e,t){return ut(e.getFullYear()%100,t,2)}function cae(e,t){return e=R5(e),ut(e.getFullYear()%100,t,2)}function uae(e,t){return ut(e.getFullYear()%1e4,t,4)}function dae(e,t){var n=e.getDay();return e=n>=4||n===0?lc(e):lc.ceil(e),ut(e.getFullYear()%1e4,t,4)}function fae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ut(t/60|0,"0",2)+ut(t%60,"0",2)}function fE(e,t){return ut(e.getUTCDate(),t,2)}function hae(e,t){return ut(e.getUTCHours(),t,2)}function pae(e,t){return ut(e.getUTCHours()%12||12,t,2)}function mae(e,t){return ut(1+Xj.count(ja(e),e),t,3)}function O5(e,t){return ut(e.getUTCMilliseconds(),t,3)}function gae(e,t){return O5(e,t)+"000"}function yae(e,t){return ut(e.getUTCMonth()+1,t,2)}function xae(e,t){return ut(e.getUTCMinutes(),t,2)}function vae(e,t){return ut(e.getUTCSeconds(),t,2)}function bae(e){var t=e.getUTCDay();return t===0?7:t}function wae(e,t){return ut(L5.count(ja(e)-1,e),t,2)}function $5(e){var t=e.getUTCDay();return t>=4||t===0?cc(e):cc.ceil(e)}function _ae(e,t){return e=$5(e),ut(cc.count(ja(e),e)+(ja(e).getUTCDay()===4),t,2)}function jae(e){return e.getUTCDay()}function Nae(e,t){return ut(wm.count(ja(e)-1,e),t,2)}function Sae(e,t){return ut(e.getUTCFullYear()%100,t,2)}function kae(e,t){return e=$5(e),ut(e.getUTCFullYear()%100,t,2)}function Cae(e,t){return ut(e.getUTCFullYear()%1e4,t,4)}function Pae(e,t){var n=e.getUTCDay();return e=n>=4||n===0?cc(e):cc.ceil(e),ut(e.getUTCFullYear()%1e4,t,4)}function Tae(){return"+0000"}function hE(){return"%"}function pE(e){return+e}function mE(e){return Math.floor(+e/1e3)}var sl,F5;Eae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eae(e){return sl=Eoe(e),F5=sl.format,sl.parse,sl.utcFormat,sl.utcParse,sl}function Mae(e){return new Date(e)}function Dae(e){return e instanceof Date?+e:+new Date(+e)}function z5(e,t,n,r,s,i,o,l,u,d){var f=E5(),h=f.invert,p=f.domain,y=d(".%L"),w=d(":%S"),b=d("%I:%M"),N=d("%I %p"),v=d("%a %d"),_=d("%b %d"),j=d("%B"),S=d("%Y");function P(E){return(u(E)<E?y:l(E)<E?w:o(E)<E?b:i(E)<E?N:r(E)<E?s(E)<E?v:_:n(E)<E?j:S)(E)}return f.invert=function(E){return new Date(h(E))},f.domain=function(E){return arguments.length?p(Array.from(E,Dae)):p().map(Mae)},f.ticks=function(E){var C=p();return e(C[0],C[C.length-1],E??10)},f.tickFormat=function(E,C){return C==null?P:d(C)},f.nice=function(E){var C=p();return(!E||typeof E.range!="function")&&(E=t(C[0],C[C.length-1],E??10)),E?p(poe(C,E)):f},f.copy=function(){return T5(f,z5(e,t,n,r,s,i,o,l,u,d))},f}function Aae(){return Pg.apply(z5(Poe,Toe,Ei,Jj,Mg,hf,Kj,Zj,Cl,F5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var B5={exports:{}};(function(e){var t=function(n){var r=1e7,s=7,i=9007199254740992,o=w(i),l="0123456789abcdefghijklmnopqrstuvwxyz",u=typeof BigInt=="function";function d(I,U,ee,ne){return typeof I>"u"?d[0]:typeof U<"u"?+U==10&&!ee?Ae(I):Fe(I,U,ee,ne):Ae(I)}function f(I,U){this.value=I,this.sign=U,this.isSmall=!1}f.prototype=Object.create(d.prototype);function h(I){this.value=I,this.sign=I<0,this.isSmall=!0}h.prototype=Object.create(d.prototype);function p(I){this.value=I}p.prototype=Object.create(d.prototype);function y(I){return-i<I&&I<i}function w(I){return I<1e7?[I]:I<1e14?[I%1e7,Math.floor(I/1e7)]:[I%1e7,Math.floor(I/1e7)%1e7,Math.floor(I/1e14)]}function b(I){N(I);var U=I.length;if(U<4&&q(I,o)<0)switch(U){case 0:return 0;case 1:return I[0];case 2:return I[0]+I[1]*r;default:return I[0]+(I[1]+I[2]*r)*r}return I}function N(I){for(var U=I.length;I[--U]===0;);I.length=U+1}function v(I){for(var U=new Array(I),ee=-1;++ee<I;)U[ee]=0;return U}function _(I){return I>0?Math.floor(I):Math.ceil(I)}function j(I,U){var ee=I.length,ne=U.length,H=new Array(ee),J=0,de=r,le,se;for(se=0;se<ne;se++)le=I[se]+U[se]+J,J=le>=de?1:0,H[se]=le-J*de;for(;se<ee;)le=I[se]+J,J=le===de?1:0,H[se++]=le-J*de;return J>0&&H.push(J),H}function S(I,U){return I.length>=U.length?j(I,U):j(U,I)}function P(I,U){var ee=I.length,ne=new Array(ee),H=r,J,de;for(de=0;de<ee;de++)J=I[de]-H+U,U=Math.floor(J/H),ne[de]=J-U*H,U+=1;for(;U>0;)ne[de++]=U%H,U=Math.floor(U/H);return ne}f.prototype.add=function(I){var U=Ae(I);if(this.sign!==U.sign)return this.subtract(U.negate());var ee=this.value,ne=U.value;return U.isSmall?new f(P(ee,Math.abs(ne)),this.sign):new f(S(ee,ne),this.sign)},f.prototype.plus=f.prototype.add,h.prototype.add=function(I){var U=Ae(I),ee=this.value;if(ee<0!==U.sign)return this.subtract(U.negate());var ne=U.value;if(U.isSmall){if(y(ee+ne))return new h(ee+ne);ne=w(Math.abs(ne))}return new f(P(ne,Math.abs(ee)),ee<0)},h.prototype.plus=h.prototype.add,p.prototype.add=function(I){return new p(this.value+Ae(I).value)},p.prototype.plus=p.prototype.add;function E(I,U){var ee=I.length,ne=U.length,H=new Array(ee),J=0,de=r,le,se;for(le=0;le<ne;le++)se=I[le]-J-U[le],se<0?(se+=de,J=1):J=0,H[le]=se;for(le=ne;le<ee;le++){if(se=I[le]-J,se<0)se+=de;else{H[le++]=se;break}H[le]=se}for(;le<ee;le++)H[le]=I[le];return N(H),H}function C(I,U,ee){var ne;return q(I,U)>=0?ne=E(I,U):(ne=E(U,I),ee=!ee),ne=b(ne),typeof ne=="number"?(ee&&(ne=-ne),new h(ne)):new f(ne,ee)}function T(I,U,ee){var ne=I.length,H=new Array(ne),J=-U,de=r,le,se;for(le=0;le<ne;le++)se=I[le]+J,J=Math.floor(se/de),se%=de,H[le]=se<0?se+de:se;return H=b(H),typeof H=="number"?(ee&&(H=-H),new h(H)):new f(H,ee)}f.prototype.subtract=function(I){var U=Ae(I);if(this.sign!==U.sign)return this.add(U.negate());var ee=this.value,ne=U.value;return U.isSmall?T(ee,Math.abs(ne),this.sign):C(ee,ne,this.sign)},f.prototype.minus=f.prototype.subtract,h.prototype.subtract=function(I){var U=Ae(I),ee=this.value;if(ee<0!==U.sign)return this.add(U.negate());var ne=U.value;return U.isSmall?new h(ee-ne):T(ne,Math.abs(ee),ee>=0)},h.prototype.minus=h.prototype.subtract,p.prototype.subtract=function(I){return new p(this.value-Ae(I).value)},p.prototype.minus=p.prototype.subtract,f.prototype.negate=function(){return new f(this.value,!this.sign)},h.prototype.negate=function(){var I=this.sign,U=new h(-this.value);return U.sign=!I,U},p.prototype.negate=function(){return new p(-this.value)},f.prototype.abs=function(){return new f(this.value,!1)},h.prototype.abs=function(){return new h(Math.abs(this.value))},p.prototype.abs=function(){return new p(this.value>=0?this.value:-this.value)};function D(I,U){var ee=I.length,ne=U.length,H=ee+ne,J=v(H),de=r,le,se,ve,ze,Re;for(ve=0;ve<ee;++ve){ze=I[ve];for(var pe=0;pe<ne;++pe)Re=U[pe],le=ze*Re+J[ve+pe],se=Math.floor(le/de),J[ve+pe]=le-se*de,J[ve+pe+1]+=se}return N(J),J}function R(I,U){var ee=I.length,ne=new Array(ee),H=r,J=0,de,le;for(le=0;le<ee;le++)de=I[le]*U+J,J=Math.floor(de/H),ne[le]=de-J*H;for(;J>0;)ne[le++]=J%H,J=Math.floor(J/H);return ne}function F(I,U){for(var ee=[];U-- >0;)ee.push(0);return ee.concat(I)}function A(I,U){var ee=Math.max(I.length,U.length);if(ee<=30)return D(I,U);ee=Math.ceil(ee/2);var ne=I.slice(ee),H=I.slice(0,ee),J=U.slice(ee),de=U.slice(0,ee),le=A(H,de),se=A(ne,J),ve=A(S(H,ne),S(de,J)),ze=S(S(le,F(E(E(ve,le),se),ee)),F(se,2*ee));return N(ze),ze}function O(I,U){return-.012*I-.012*U+15e-6*I*U>0}f.prototype.multiply=function(I){var U=Ae(I),ee=this.value,ne=U.value,H=this.sign!==U.sign,J;if(U.isSmall){if(ne===0)return d[0];if(ne===1)return this;if(ne===-1)return this.negate();if(J=Math.abs(ne),J<r)return new f(R(ee,J),H);ne=w(J)}return O(ee.length,ne.length)?new f(A(ee,ne),H):new f(D(ee,ne),H)},f.prototype.times=f.prototype.multiply;function $(I,U,ee){return I<r?new f(R(U,I),ee):new f(D(U,w(I)),ee)}h.prototype._multiplyBySmall=function(I){return y(I.value*this.value)?new h(I.value*this.value):$(Math.abs(I.value),w(Math.abs(this.value)),this.sign!==I.sign)},f.prototype._multiplyBySmall=function(I){return I.value===0?d[0]:I.value===1?this:I.value===-1?this.negate():$(Math.abs(I.value),this.value,this.sign!==I.sign)},h.prototype.multiply=function(I){return Ae(I)._multiplyBySmall(this)},h.prototype.times=h.prototype.multiply,p.prototype.multiply=function(I){return new p(this.value*Ae(I).value)},p.prototype.times=p.prototype.multiply;function K(I){var U=I.length,ee=v(U+U),ne=r,H,J,de,le,se;for(de=0;de<U;de++){le=I[de],J=0-le*le;for(var ve=de;ve<U;ve++)se=I[ve],H=2*(le*se)+ee[de+ve]+J,J=Math.floor(H/ne),ee[de+ve]=H-J*ne;ee[de+U]=J}return N(ee),ee}f.prototype.square=function(){return new f(K(this.value),!1)},h.prototype.square=function(){var I=this.value*this.value;return y(I)?new h(I):new f(K(w(Math.abs(this.value))),!1)},p.prototype.square=function(I){return new p(this.value*this.value)};function te(I,U){var ee=I.length,ne=U.length,H=r,J=v(U.length),de=U[ne-1],le=Math.ceil(H/(2*de)),se=R(I,le),ve=R(U,le),ze,Re,pe,Le,$e,Nt,St;for(se.length<=ee&&se.push(0),ve.push(0),de=ve[ne-1],Re=ee-ne;Re>=0;Re--){for(ze=H-1,se[Re+ne]!==de&&(ze=Math.floor((se[Re+ne]*H+se[Re+ne-1])/de)),pe=0,Le=0,Nt=ve.length,$e=0;$e<Nt;$e++)pe+=ze*ve[$e],St=Math.floor(pe/H),Le+=se[Re+$e]-(pe-St*H),pe=St,Le<0?(se[Re+$e]=Le+H,Le=-1):(se[Re+$e]=Le,Le=0);for(;Le!==0;){for(ze-=1,pe=0,$e=0;$e<Nt;$e++)pe+=se[Re+$e]-H+ve[$e],pe<0?(se[Re+$e]=pe+H,pe=0):(se[Re+$e]=pe,pe=1);Le+=pe}J[Re]=ze}return se=z(se,le)[0],[b(J),b(se)]}function W(I,U){for(var ee=I.length,ne=U.length,H=[],J=[],de=r,le,se,ve,ze,Re;ee;){if(J.unshift(I[--ee]),N(J),q(J,U)<0){H.push(0);continue}se=J.length,ve=J[se-1]*de+J[se-2],ze=U[ne-1]*de+U[ne-2],se>ne&&(ve=(ve+1)*de),le=Math.ceil(ve/ze);do{if(Re=R(U,le),q(Re,J)<=0)break;le--}while(le);H.push(le),J=E(J,Re)}return H.reverse(),[b(H),b(J)]}function z(I,U){var ee=I.length,ne=v(ee),H=r,J,de,le,se;for(le=0,J=ee-1;J>=0;--J)se=le*H+I[J],de=_(se/U),le=se-de*U,ne[J]=de|0;return[ne,le|0]}function V(I,U){var ee,ne=Ae(U);if(u)return[new p(I.value/ne.value),new p(I.value%ne.value)];var H=I.value,J=ne.value,de;if(J===0)throw new Error("Cannot divide by zero");if(I.isSmall)return ne.isSmall?[new h(_(H/J)),new h(H%J)]:[d[0],I];if(ne.isSmall){if(J===1)return[I,d[0]];if(J==-1)return[I.negate(),d[0]];var le=Math.abs(J);if(le<r){ee=z(H,le),de=b(ee[0]);var se=ee[1];return I.sign&&(se=-se),typeof de=="number"?(I.sign!==ne.sign&&(de=-de),[new h(de),new h(se)]):[new f(de,I.sign!==ne.sign),new h(se)]}J=w(le)}var ve=q(H,J);if(ve===-1)return[d[0],I];if(ve===0)return[d[I.sign===ne.sign?1:-1],d[0]];H.length+J.length<=200?ee=te(H,J):ee=W(H,J),de=ee[0];var ze=I.sign!==ne.sign,Re=ee[1],pe=I.sign;return typeof de=="number"?(ze&&(de=-de),de=new h(de)):de=new f(de,ze),typeof Re=="number"?(pe&&(Re=-Re),Re=new h(Re)):Re=new f(Re,pe),[de,Re]}f.prototype.divmod=function(I){var U=V(this,I);return{quotient:U[0],remainder:U[1]}},p.prototype.divmod=h.prototype.divmod=f.prototype.divmod,f.prototype.divide=function(I){return V(this,I)[0]},p.prototype.over=p.prototype.divide=function(I){return new p(this.value/Ae(I).value)},h.prototype.over=h.prototype.divide=f.prototype.over=f.prototype.divide,f.prototype.mod=function(I){return V(this,I)[1]},p.prototype.mod=p.prototype.remainder=function(I){return new p(this.value%Ae(I).value)},h.prototype.remainder=h.prototype.mod=f.prototype.remainder=f.prototype.mod,f.prototype.pow=function(I){var U=Ae(I),ee=this.value,ne=U.value,H,J,de;if(ne===0)return d[1];if(ee===0)return d[0];if(ee===1)return d[1];if(ee===-1)return U.isEven()?d[1]:d[-1];if(U.sign)return d[0];if(!U.isSmall)throw new Error("The exponent "+U.toString()+" is too large.");if(this.isSmall&&y(H=Math.pow(ee,ne)))return new h(_(H));for(J=this,de=d[1];ne&!0&&(de=de.times(J),--ne),ne!==0;)ne/=2,J=J.square();return de},h.prototype.pow=f.prototype.pow,p.prototype.pow=function(I){var U=Ae(I),ee=this.value,ne=U.value,H=BigInt(0),J=BigInt(1),de=BigInt(2);if(ne===H)return d[1];if(ee===H)return d[0];if(ee===J)return d[1];if(ee===BigInt(-1))return U.isEven()?d[1]:d[-1];if(U.isNegative())return new p(H);for(var le=this,se=d[1];(ne&J)===J&&(se=se.times(le),--ne),ne!==H;)ne/=de,le=le.square();return se},f.prototype.modPow=function(I,U){if(I=Ae(I),U=Ae(U),U.isZero())throw new Error("Cannot take modPow with modulus 0");var ee=d[1],ne=this.mod(U);for(I.isNegative()&&(I=I.multiply(d[-1]),ne=ne.modInv(U));I.isPositive();){if(ne.isZero())return d[0];I.isOdd()&&(ee=ee.multiply(ne).mod(U)),I=I.divide(2),ne=ne.square().mod(U)}return ee},p.prototype.modPow=h.prototype.modPow=f.prototype.modPow;function q(I,U){if(I.length!==U.length)return I.length>U.length?1:-1;for(var ee=I.length-1;ee>=0;ee--)if(I[ee]!==U[ee])return I[ee]>U[ee]?1:-1;return 0}f.prototype.compareAbs=function(I){var U=Ae(I),ee=this.value,ne=U.value;return U.isSmall?1:q(ee,ne)},h.prototype.compareAbs=function(I){var U=Ae(I),ee=Math.abs(this.value),ne=U.value;return U.isSmall?(ne=Math.abs(ne),ee===ne?0:ee>ne?1:-1):-1},p.prototype.compareAbs=function(I){var U=this.value,ee=Ae(I).value;return U=U>=0?U:-U,ee=ee>=0?ee:-ee,U===ee?0:U>ee?1:-1},f.prototype.compare=function(I){if(I===1/0)return-1;if(I===-1/0)return 1;var U=Ae(I),ee=this.value,ne=U.value;return this.sign!==U.sign?U.sign?1:-1:U.isSmall?this.sign?-1:1:q(ee,ne)*(this.sign?-1:1)},f.prototype.compareTo=f.prototype.compare,h.prototype.compare=function(I){if(I===1/0)return-1;if(I===-1/0)return 1;var U=Ae(I),ee=this.value,ne=U.value;return U.isSmall?ee==ne?0:ee>ne?1:-1:ee<0!==U.sign?ee<0?-1:1:ee<0?1:-1},h.prototype.compareTo=h.prototype.compare,p.prototype.compare=function(I){if(I===1/0)return-1;if(I===-1/0)return 1;var U=this.value,ee=Ae(I).value;return U===ee?0:U>ee?1:-1},p.prototype.compareTo=p.prototype.compare,f.prototype.equals=function(I){return this.compare(I)===0},p.prototype.eq=p.prototype.equals=h.prototype.eq=h.prototype.equals=f.prototype.eq=f.prototype.equals,f.prototype.notEquals=function(I){return this.compare(I)!==0},p.prototype.neq=p.prototype.notEquals=h.prototype.neq=h.prototype.notEquals=f.prototype.neq=f.prototype.notEquals,f.prototype.greater=function(I){return this.compare(I)>0},p.prototype.gt=p.prototype.greater=h.prototype.gt=h.prototype.greater=f.prototype.gt=f.prototype.greater,f.prototype.lesser=function(I){return this.compare(I)<0},p.prototype.lt=p.prototype.lesser=h.prototype.lt=h.prototype.lesser=f.prototype.lt=f.prototype.lesser,f.prototype.greaterOrEquals=function(I){return this.compare(I)>=0},p.prototype.geq=p.prototype.greaterOrEquals=h.prototype.geq=h.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals,f.prototype.lesserOrEquals=function(I){return this.compare(I)<=0},p.prototype.leq=p.prototype.lesserOrEquals=h.prototype.leq=h.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals,f.prototype.isEven=function(){return(this.value[0]&1)===0},h.prototype.isEven=function(){return(this.value&1)===0},p.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},f.prototype.isOdd=function(){return(this.value[0]&1)===1},h.prototype.isOdd=function(){return(this.value&1)===1},p.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},f.prototype.isPositive=function(){return!this.sign},h.prototype.isPositive=function(){return this.value>0},p.prototype.isPositive=h.prototype.isPositive,f.prototype.isNegative=function(){return this.sign},h.prototype.isNegative=function(){return this.value<0},p.prototype.isNegative=h.prototype.isNegative,f.prototype.isUnit=function(){return!1},h.prototype.isUnit=function(){return Math.abs(this.value)===1},p.prototype.isUnit=function(){return this.abs().value===BigInt(1)},f.prototype.isZero=function(){return!1},h.prototype.isZero=function(){return this.value===0},p.prototype.isZero=function(){return this.value===BigInt(0)},f.prototype.isDivisibleBy=function(I){var U=Ae(I);return U.isZero()?!1:U.isUnit()?!0:U.compareAbs(2)===0?this.isEven():this.mod(U).isZero()},p.prototype.isDivisibleBy=h.prototype.isDivisibleBy=f.prototype.isDivisibleBy;function Z(I){var U=I.abs();if(U.isUnit())return!1;if(U.equals(2)||U.equals(3)||U.equals(5))return!0;if(U.isEven()||U.isDivisibleBy(3)||U.isDivisibleBy(5))return!1;if(U.lesser(49))return!0}function X(I,U){for(var ee=I.prev(),ne=ee,H=0,J,de,le;ne.isEven();)ne=ne.divide(2),H++;e:for(de=0;de<U.length;de++)if(!I.lesser(U[de])&&(le=t(U[de]).modPow(ne,I),!(le.isUnit()||le.equals(ee)))){for(J=H-1;J!=0;J--){if(le=le.square().mod(I),le.isUnit())return!1;if(le.equals(ee))continue e}return!1}return!0}f.prototype.isPrime=function(I){var U=Z(this);if(U!==n)return U;var ee=this.abs(),ne=ee.bitLength();if(ne<=64)return X(ee,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var H=Math.log(2)*ne.toJSNumber(),J=Math.ceil(I===!0?2*Math.pow(H,2):H),de=[],le=0;le<J;le++)de.push(t(le+2));return X(ee,de)},p.prototype.isPrime=h.prototype.isPrime=f.prototype.isPrime,f.prototype.isProbablePrime=function(I,U){var ee=Z(this);if(ee!==n)return ee;for(var ne=this.abs(),H=I===n?5:I,J=[],de=0;de<H;de++)J.push(t.randBetween(2,ne.minus(2),U));return X(ne,J)},p.prototype.isProbablePrime=h.prototype.isProbablePrime=f.prototype.isProbablePrime,f.prototype.modInv=function(I){for(var U=t.zero,ee=t.one,ne=Ae(I),H=this.abs(),J,de,le;!H.isZero();)J=ne.divide(H),de=U,le=ne,U=ee,ne=H,ee=de.subtract(J.multiply(ee)),H=le.subtract(J.multiply(H));if(!ne.isUnit())throw new Error(this.toString()+" and "+I.toString()+" are not co-prime");return U.compare(0)===-1&&(U=U.add(I)),this.isNegative()?U.negate():U},p.prototype.modInv=h.prototype.modInv=f.prototype.modInv,f.prototype.next=function(){var I=this.value;return this.sign?T(I,1,this.sign):new f(P(I,1),this.sign)},h.prototype.next=function(){var I=this.value;return I+1<i?new h(I+1):new f(o,!1)},p.prototype.next=function(){return new p(this.value+BigInt(1))},f.prototype.prev=function(){var I=this.value;return this.sign?new f(P(I,1),!0):T(I,1,this.sign)},h.prototype.prev=function(){var I=this.value;return I-1>-i?new h(I-1):new f(o,!0)},p.prototype.prev=function(){return new p(this.value-BigInt(1))};for(var G=[1];2*G[G.length-1]<=r;)G.push(2*G[G.length-1]);var ae=G.length,fe=G[ae-1];function ge(I){return Math.abs(I)<=r}f.prototype.shiftLeft=function(I){var U=Ae(I).toJSNumber();if(!ge(U))throw new Error(String(U)+" is too large for shifting.");if(U<0)return this.shiftRight(-U);var ee=this;if(ee.isZero())return ee;for(;U>=ae;)ee=ee.multiply(fe),U-=ae-1;return ee.multiply(G[U])},p.prototype.shiftLeft=h.prototype.shiftLeft=f.prototype.shiftLeft,f.prototype.shiftRight=function(I){var U,ee=Ae(I).toJSNumber();if(!ge(ee))throw new Error(String(ee)+" is too large for shifting.");if(ee<0)return this.shiftLeft(-ee);for(var ne=this;ee>=ae;){if(ne.isZero()||ne.isNegative()&&ne.isUnit())return ne;U=V(ne,fe),ne=U[1].isNegative()?U[0].prev():U[0],ee-=ae-1}return U=V(ne,G[ee]),U[1].isNegative()?U[0].prev():U[0]},p.prototype.shiftRight=h.prototype.shiftRight=f.prototype.shiftRight;function be(I,U,ee){U=Ae(U);for(var ne=I.isNegative(),H=U.isNegative(),J=ne?I.not():I,de=H?U.not():U,le=0,se=0,ve=null,ze=null,Re=[];!J.isZero()||!de.isZero();)ve=V(J,fe),le=ve[1].toJSNumber(),ne&&(le=fe-1-le),ze=V(de,fe),se=ze[1].toJSNumber(),H&&(se=fe-1-se),J=ve[0],de=ze[0],Re.push(ee(le,se));for(var pe=ee(ne?1:0,H?1:0)!==0?t(-1):t(0),Le=Re.length-1;Le>=0;Le-=1)pe=pe.multiply(fe).add(t(Re[Le]));return pe}f.prototype.not=function(){return this.negate().prev()},p.prototype.not=h.prototype.not=f.prototype.not,f.prototype.and=function(I){return be(this,I,function(U,ee){return U&ee})},p.prototype.and=h.prototype.and=f.prototype.and,f.prototype.or=function(I){return be(this,I,function(U,ee){return U|ee})},p.prototype.or=h.prototype.or=f.prototype.or,f.prototype.xor=function(I){return be(this,I,function(U,ee){return U^ee})},p.prototype.xor=h.prototype.xor=f.prototype.xor;var ke=1<<30,re=(r&-r)*(r&-r)|ke;function me(I){var U=I.value,ee=typeof U=="number"?U|ke:typeof U=="bigint"?U|BigInt(ke):U[0]+U[1]*r|re;return ee&-ee}function Ne(I,U){if(U.compareTo(I)<=0){var ee=Ne(I,U.square(U)),ne=ee.p,H=ee.e,J=ne.multiply(U);return J.compareTo(I)<=0?{p:J,e:H*2+1}:{p:ne,e:H*2}}return{p:t(1),e:0}}f.prototype.bitLength=function(){var I=this;return I.compareTo(t(0))<0&&(I=I.negate().subtract(t(1))),I.compareTo(t(0))===0?t(0):t(Ne(I,t(2)).e).add(t(1))},p.prototype.bitLength=h.prototype.bitLength=f.prototype.bitLength;function ce(I,U){return I=Ae(I),U=Ae(U),I.greater(U)?I:U}function ue(I,U){return I=Ae(I),U=Ae(U),I.lesser(U)?I:U}function xe(I,U){if(I=Ae(I).abs(),U=Ae(U).abs(),I.equals(U))return I;if(I.isZero())return U;if(U.isZero())return I;for(var ee=d[1],ne,H;I.isEven()&&U.isEven();)ne=ue(me(I),me(U)),I=I.divide(ne),U=U.divide(ne),ee=ee.multiply(ne);for(;I.isEven();)I=I.divide(me(I));do{for(;U.isEven();)U=U.divide(me(U));I.greater(U)&&(H=U,U=I,I=H),U=U.subtract(I)}while(!U.isZero());return ee.isUnit()?I:I.multiply(ee)}function je(I,U){return I=Ae(I).abs(),U=Ae(U).abs(),I.divide(xe(I,U)).multiply(U)}function Ce(I,U,ee){I=Ae(I),U=Ae(U);var ne=ee||Math.random,H=ue(I,U),J=ce(I,U),de=J.subtract(H).add(1);if(de.isSmall)return H.add(Math.floor(ne()*de));for(var le=bt(de,r).value,se=[],ve=!0,ze=0;ze<le.length;ze++){var Re=ve?le[ze]+(ze+1<le.length?le[ze+1]/r:0):r,pe=_(ne()*Re);se.push(pe),pe<le[ze]&&(ve=!1)}return H.add(d.fromArray(se,r,!1))}var Fe=function(I,U,ee,ne){ee=ee||l,I=String(I),ne||(I=I.toLowerCase(),ee=ee.toLowerCase());var H=I.length,J,de=Math.abs(U),le={};for(J=0;J<ee.length;J++)le[ee[J]]=J;for(J=0;J<H;J++){var se=I[J];if(se!=="-"&&se in le&&le[se]>=de){if(se==="1"&&de===1)continue;throw new Error(se+" is not a valid digit in base "+U+".")}}U=Ae(U);var ve=[],ze=I[0]==="-";for(J=ze?1:0;J<I.length;J++){var se=I[J];if(se in le)ve.push(Ae(le[se]));else if(se==="<"){var Re=J;do J++;while(I[J]!==">"&&J<I.length);ve.push(Ae(I.slice(Re+1,J)))}else throw new Error(se+" is not a valid character")}return rt(ve,U,ze)};function rt(I,U,ee){var ne=d[0],H=d[1],J;for(J=I.length-1;J>=0;J--)ne=ne.add(I[J].times(H)),H=H.times(U);return ee?ne.negate():ne}function xt(I,U){return U=U||l,I<U.length?U[I]:"<"+I+">"}function bt(I,U){if(U=t(U),U.isZero()){if(I.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(U.equals(-1)){if(I.isZero())return{value:[0],isNegative:!1};if(I.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-I.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var ee=Array.apply(null,Array(I.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return ee.unshift([1]),{value:[].concat.apply([],ee),isNegative:!1}}var ne=!1;if(I.isNegative()&&U.isPositive()&&(ne=!0,I=I.abs()),U.isUnit())return I.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(I.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:ne};for(var H=[],J=I,de;J.isNegative()||J.compareAbs(U)>=0;){de=J.divmod(U),J=de.quotient;var le=de.remainder;le.isNegative()&&(le=U.minus(le).abs(),J=J.next()),H.push(le.toJSNumber())}return H.push(J.toJSNumber()),{value:H.reverse(),isNegative:ne}}function Wt(I,U,ee){var ne=bt(I,U);return(ne.isNegative?"-":"")+ne.value.map(function(H){return xt(H,ee)}).join("")}f.prototype.toArray=function(I){return bt(this,I)},h.prototype.toArray=function(I){return bt(this,I)},p.prototype.toArray=function(I){return bt(this,I)},f.prototype.toString=function(I,U){if(I===n&&(I=10),I!==10||U)return Wt(this,I,U);for(var ee=this.value,ne=ee.length,H=String(ee[--ne]),J="0000000",de;--ne>=0;)de=String(ee[ne]),H+=J.slice(de.length)+de;var le=this.sign?"-":"";return le+H},h.prototype.toString=function(I,U){return I===n&&(I=10),I!=10||U?Wt(this,I,U):String(this.value)},p.prototype.toString=h.prototype.toString,p.prototype.toJSON=f.prototype.toJSON=h.prototype.toJSON=function(){return this.toString()},f.prototype.valueOf=function(){return parseInt(this.toString(),10)},f.prototype.toJSNumber=f.prototype.valueOf,h.prototype.valueOf=function(){return this.value},h.prototype.toJSNumber=h.prototype.valueOf,p.prototype.valueOf=p.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function nn(I){if(y(+I)){var U=+I;if(U===_(U))return u?new p(BigInt(U)):new h(U);throw new Error("Invalid integer: "+I)}var ee=I[0]==="-";ee&&(I=I.slice(1));var ne=I.split(/e/i);if(ne.length>2)throw new Error("Invalid integer: "+ne.join("e"));if(ne.length===2){var H=ne[1];if(H[0]==="+"&&(H=H.slice(1)),H=+H,H!==_(H)||!y(H))throw new Error("Invalid integer: "+H+" is not a valid exponent.");var J=ne[0],de=J.indexOf(".");if(de>=0&&(H-=J.length-de-1,J=J.slice(0,de)+J.slice(de+1)),H<0)throw new Error("Cannot include negative exponent part for integers");J+=new Array(H+1).join("0"),I=J}var le=/^([0-9][0-9]*)$/.test(I);if(!le)throw new Error("Invalid integer: "+I);if(u)return new p(BigInt(ee?"-"+I:I));for(var se=[],ve=I.length,ze=s,Re=ve-ze;ve>0;)se.push(+I.slice(Re,ve)),Re-=ze,Re<0&&(Re=0),ve-=ze;return N(se),new f(se,ee)}function qt(I){if(u)return new p(BigInt(I));if(y(I)){if(I!==_(I))throw new Error(I+" is not an integer.");return new h(I)}return nn(I.toString())}function Ae(I){return typeof I=="number"?qt(I):typeof I=="string"?nn(I):typeof I=="bigint"?new p(I):I}for(var At=0;At<1e3;At++)d[At]=Ae(At),At>0&&(d[-At]=Ae(-At));return d.one=d[1],d.zero=d[0],d.minusOne=d[-1],d.max=ce,d.min=ue,d.gcd=xe,d.lcm=je,d.isInstance=function(I){return I instanceof f||I instanceof h||I instanceof p},d.randBetween=Ce,d.fromArray=function(I,U,ee){return rt(I.map(Ae),Ae(U||10),ee)},d}();e.hasOwnProperty("exports")&&(e.exports=t)})(B5);var Lae=B5.exports;const Na=gn(Lae),Iae={break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},Rae={await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0};var Oae={ES3:Iae,ESnext:Rae};const gE=gn(Oae);function _m(e,t){const n=e.trim().replace(/\W+/g,"_");return gE.ES3[n]||gE.ESnext[n]||/^\d/.test(n)?"_"+n:n}const V5=Math.sqrt(1.05*.05)-.05,$ae=/^(?:[0-9a-f]{3}){1,2}$/i,yE={black:"#000000",white:"#ffffff",threshold:V5};function Fae(e,t=2){return(new Array(t).join("0")+e).slice(-t)}function Jw(e){if(e.slice(0,1)==="#"&&(e=e.slice(1)),!$ae.test(e))throw new Error(`Invalid HEX color: "${e}"`);return e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function zae(e){return{r:e[0],g:e[1],b:e[2]}}function Qw(e){if(!e)throw new Error("Invalid color value");return Array.isArray(e)?e:typeof e=="string"?Jw(e):[e.r,e.g,e.b]}function Bae(e){let t,n;const r=[];for(t=0;t<e.length;t++)n=e[t]/255,r[t]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4);return .2126*r[0]+.7152*r[1]+.0722*r[2]}function e1(e,t,n){const r=t===!0?yE:Object.assign({},yE,t);return Bae(e)>r.threshold?n?Jw(r.black):r.black:n?Jw(r.white):r.white}function xE(e,t=!1){return e=Qw(e),t?e1(e,t):"#"+e.map(n=>Fae((255-n).toString(16))).join("")}(function(e){function t(r,s){r=Qw(r);const i=s?e1(r,s,!0):r.map(o=>255-o);return zae(i)}e.asRGB=t;function n(r,s){return r=Qw(r),s?e1(r,s,!0):r.map(i=>255-i)}e.asRgbArray=n,e.defaultThreshold=V5,e.asRgbObject=t})(xE||(xE={}));var Vae={value:function(){}};function U5(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new lp(n)}function lp(e){this._=e}function Uae(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}lp.prototype=U5.prototype={constructor:lp,on:function(e,t){var n=this._,r=Uae(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=Wae(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=vE(n[s],e.name,t);else if(t==null)for(s in n)n[s]=vE(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new lp(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function Wae(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function vE(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=Vae,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}const Hae=Object.freeze(Object.defineProperty({__proto__:null,dispatch:U5},Symbol.toStringTag,{value:"Module"})),Gae=Am(Hae);Gae.dispatch;(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(`._clickable_lp842_1 {
  cursor: pointer;
}

._clickable_lp842_1:hover text {
  text-decoration: underline;
}
._clickable_lp842_1 {
  cursor: pointer;
}

._clickable_lp842_1:hover text {
  text-decoration: underline;
}
._handle_bk7m7_1 {
  fill: var(--color-handle-fill);
  stroke: var(--color-handle-stroke);
}

._dragging_bk7m7_6 {
  fill: var(--color-handle-drag-fill);
}

._dot_bk7m7_10 {
  fill: var(--color-handle-dots);
}

._line_bk7m7_14 {
  stroke: var(--color-handle-line);
}
._slice_1knu8_1 {
  fill: var(--color-primary);
}

._unsliced_1knu8_5 {
  fill: var(--color-background);
  opacity: 0.5;
  pointer-events: none;
}
._container_1u3dt_1 {
  /** Old mappings - to be removed in next major */
  --color-background: rgb(51, 51, 51);
  --color-on-background: #fff;

  --color-tooltip: rgba(0, 5, 11, 0.9);
  --color-on-tooltip: #fff;

  --color-handle-fill: #2c343a;
  --color-handle-stroke: #67c2e4;
  --color-handle-drag-fill: transparent;
  --color-handle-dots: #67c2e4;
  --color-handle-line: #67c2e4;

  /** New mappings */
  --tooltip-background: var(--color-tooltip);
  --tooltip-color: var(--color-on-tooltip);
  --tooltip-border-radius: 5px;
  --tooltip-spacing: 5px;

  --chart-background: var(--color-background);
  --chart-color: var(--color-on-background);

  --chart-handle-fill: var(--color-handle-fill);
  --chart-handle-stroke: var(--color-handle-stroke);
  --chart-handle-drag-fill: var(--color-handle-drag-fill);
  --chart-handle-dots: var(--color-handle-dots);
  --chart-handle-line: var(--color-handle-line);

  ._svg_1u3dt_30 {
    &:focus {
      outline: none;
    }

    &:focus-visible {
      outline: auto;
    }
  }
}
._container_19vag_1 {
  display: flex;
  overflow: auto;

  &._horizontal_19vag_5 {
    align-items: center;
    flex-direction: row;
  }

  &._vertical_19vag_10 {
    flex-direction: column;
  }
}
._symbol_f5unn_1 {
  width: 15px;
  height: 3px;
}
._entry_1493o_1 {
  display: flex;
  color: var(--color-on-primary);
  padding: 8px;
  will-change: transparency;
  transition: opacity 150ms ease-in;

  &._vertical_1493o_8 {
    flex-direction: row;
    align-items: center;

    &:first-child {
      padding-top: 0;
    }

    &:last-child {
      padding-bottom: 0;
    }

    ._label_1493o_20 {
      margin-left: 8px;
    }

    svg {
      display: block;
      margin: 0 auto;
    }
  }

  &._horizontal_1493o_30 {
    align-items: center;
    flex-direction: row;

    &:first-child {
      padding-left: 0;
    }

    &:last-child {
      padding-right: 0;
    }

    ._label_1493o_20 {
      margin-left: 8px;
    }
  }

  ._label_1493o_20 {
    font-size: 12px;
  }

  svg {
    width: 15px;
    height: 15px;
  }
}
._container_1gnp9_1 {
  display: flex;
  height: 100%;

  &._vertical_1gnp9_5 {
    flex-direction: column;
    max-width: 55px;

    ._start_1gnp9_9,
    ._end_1gnp9_10 {
      text-align: center;
      padding: 5px 0;
      width: 100%;
    }

    ._gradient_1gnp9_16 {
      width: 25px;
      margin: 0 auto;
    }
  }

  &._horizontal_1gnp9_22 {
    flex-direction: row-reverse;

    ._start_1gnp9_9,
    ._end_1gnp9_10 {
      max-width: 20%;
    }

    ._start_1gnp9_9 {
      text-align: right;
      padding-left: 5px;
    }

    ._end_1gnp9_10 {
      text-align: left;
      padding-right: 5px;
    }
  }

  ._gradient_1gnp9_16 {
    flex: 1;
    width: 100%;
    border-radius: 2px;
  }

  ._start_1gnp9_9,
  ._end_1gnp9_10 {
    color: var(--color-on-primary);
    font-size: 12px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}
._gridLine_5yx3q_1 {
  shape-rendering: crispEdges;
  pointer-events: none;
}
._gridStripe_xcrvl_1 {
  pointer-events: none;
}
._markLine_1sfls_1 {
  pointer-events: none;
  stroke-dasharray: 4, 4;
  stroke-linecap: round;
}
._label_uiu20_1 {
  font-size: 16px;
  margin-bottom: 3px;
  color: var(--color-on-tooltip);
}

._value_uiu20_7 {
  font-size: 13px;
  color: var(--color-on-tooltip);
  opacity: 0.7;
}

._subValue_uiu20_13 {
  display: block;
  text-align: left;
  padding: 3px 5px;

  ._subValueColor_uiu20_18 {
    width: 5px;
    height: 15px;
    margin-right: 8px;
    display: inline-block;
  }

  ._subValueName_uiu20_25 {
    margin-right: 5px;
  }
}
._base_b22et_1 {
  white-space: nowrap;
  text-align: center;
  will-change: transform, opacity;
  background-color: var(--tooltip-background);
  color: var(--tooltip-color);
  padding: var(--tooltip-spacing);
  border-radius: var(--tooltip-border-radius);

  ._disablePointer_b22et_10 {
    cursor: not-allowed;
  }
}
._inactive_jp2yc_1 {
  opacity: 0.2;
}

._hidden_jp2yc_5 {
  opacity: 0;
}
._scatterPlot_gc5eo_1 {
  overflow: visible;
}
._point_u68jv_1 {
  stroke: rgba(255, 255, 255, 0.5);
  stroke-width: 1px;
}
._areaChart_yyojn_1 {
  overflow: visible;
}
._barChart_sfjii_1 {
  overflow: visible;

  &._stackedNormalized_sfjii_4,
  &._stacked_sfjii_4,
  &._marimekko_sfjii_6 {
    .bar {
      stroke: var(--color-background);
      stroke-width: 0.2;
    }
  }
}
._marker_agib4_1 {
  fill: var(--color-primary);
  cursor: pointer;
}
._label_qd893_1 {
  font-size: 12px;
  user-select: none;
  pointer-events: none;
}
._link_1oi50_1 {
  fill: none;
  transition: stroke-opacity 100ms ease-in-out, stroke 100ms ease-in-out;
  mix-blend-mode: initial;
}

._tooltip_1oi50_7 {
  text-align: center;
  pointer-events: none;

  ._tooltipLabel_1oi50_11 {
    font-size: 16px;
    margin-bottom: 3px;
    color: rgba(255, 255, 255, 1);
    text-align: center;
  }

  ._tooltipValue_1oi50_18 {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
    text-align: center;
  }
}
._node_oqk6h_1 {
  transition: opacity 100ms ease-in-out, fill-opacity 100ms ease-in-out;
}

._tooltip_oqk6h_5 {
  text-align: center;
  padding: 0 8px;
  pointer-events: none;

  ._tooltipLabel_oqk6h_10 {
    font-size: 16px;
    margin-bottom: 3px;
    color: rgba(255, 255, 255, 1);
    text-align: center;
  }

  ._tooltipValue_oqk6h_17 {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
    text-align: center;
  }
}
._inactive_kwc4n_1 {
  opacity: 0.4;
  transition: opacity 200ms ease-in-out;
}

._hidden_kwc4n_6 {
  opacity: 0;
}
._valueLabel_1eyd5_1 {
  font-size: 14px;
  font-weight: 400;
  fill: var(--color-on-background);
  opacity: 0.6;
}
._valueLabel_1h164_1 {
  font-size: 18px;
  font-weight: 400;
  fill: var(--color-on-background);
}
._stackedValueLabel_1w6zx_1 {
  font-size: 18px;
  font-weight: 400;
  fill: var(--color-on-background);
}
._stackedDescriptionLabel_1h95t_1 {
  font-size: 12px;
  font-weight: 400;
  fill: var(--color-on-background);
}
._cell_r3f8c_1 {
  transition: stroke 150ms ease-in-out;
}
._item_18e6r_1 {
  margin-bottom: 5px;
  align-items: center;
  display: grid;
  grid-column-gap: 5px;
  grid-row-gap: 3px;

  &._labelStart_18e6r_8 {
    &._valueEnd_18e6r_9 {
      grid-template-columns: 2fr 2fr 1fr;
      grid-template-areas: 'label bar value-label';
    }
  }

  &._labelBottom_18e6r_15 {
    &._valueEnd_18e6r_9 {
      grid-template-columns: 1fr 50px;
      grid-template-areas:
        'bar value-label'
        'label label';
    }
  }

  &._labelNone_18e6r_24 {
    ._label_18e6r_8 {
      display: none;
    }

    &._valueEnd_18e6r_9 {
      grid-template-columns: 1fr 50px;
      grid-template-areas: 'bar value-label';
    }
  }

  &._labelEnd_18e6r_35 {
    &._valueStart_18e6r_36 {
      grid-template-columns: 50px 1fr 1fr;
      grid-template-areas: 'value-label bar label';
    }
  }

  &._labelTop_18e6r_42 {
    &._valueStart_18e6r_36 {
      grid-template-columns: 50px 1fr;
      grid-template-areas:
        'label label'
        'value-label bar';
    }

    &._valueEnd_18e6r_9 {
      grid-template-columns: 1fr 50px;
      grid-template-areas:
        'label label'
        'bar value-label';
    }

    &._valueBottom_18e6r_57 {
      grid-template-columns: 1fr;
      grid-template-areas:
        'label'
        'bar'
        'value-label';
    }

    &._valueNone_18e6r_65 {
      grid-template-columns: 1fr;
      grid-template-areas:
        'label'
        'bar';

      ._valueLabel_18e6r_71 {
        display: none;
      }
    }
  }

  &._clickable_18e6r_77 {
    cursor: pointer;
  }

  ._label_18e6r_8,
  ._valueLabel_18e6r_71 {
    cursor: inherit;
  }

  ._label_18e6r_8 {
    grid-area: label;
  }

  ._valueLabel_18e6r_71 {
    grid-area: value-label;
    line-height: 10px;
    text-overflow: ellipsis;
    overflow-x: hidden;
  }

  ._outerBar_18e6r_97 {
    grid-area: bar;
    width: 100%;
    height: 10px;
    display: flex;
    align-items: center;
  }

  ._bar_18e6r_105 {
    height: 5px;
  }
}
._container_13giw_1 {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  > div {
    flex: 1;
  }
}
._wordLabel_uwka2_1 {
  user-select: none;
}

._clickable_uwka2_5 {
  cursor: pointer;
}`)),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();new Tj.Scale({k:1e3,M:1e6,B:1e9});new Tj.Scale({M:1,B:1e3,T:1e6});const qae=e=>{let t=0,n="";for(const r of e.toString().split("").reverse())t>0&&t%3===0&&(n=","+n),n=r+n,t++;return n};function Yae(e){let t=0,n=0,r=0,s=0;return Array.isArray(e)?e.length===2?(t=e[0],r=e[0],s=e[1],n=e[1]):e.length===4&&(t=e[0],n=e[1],r=e[2],s=e[3]):e!==void 0&&(t=e,n=e,r=e,s=e),{top:t,right:n,bottom:r,left:s}}function Zae(e,t,n){const{left:r,right:s,bottom:i,top:o}=n,l=e-o-i,u=t-r-s;return{height:l,width:u}}function Kae({xOffset:e,yOffset:t,height:n,width:r,margins:s}){const i=Yae(s),o=Zae(n,r,i),l=o.width-e,u=o.height-t;return{xOffset:e,yOffset:t,height:n,width:r,chartWidth:l,chartHeight:u,xMargin:e+i.left,yMargin:i.top}}function Ul(e,t){const n=(i,o)=>Array.isArray(i.data)?o(i.data,l=>l[t]):i[t],r=dm(e,i=>n(i,dm)),s=Md(e,i=>n(i,Md));return[r,s]}function Xae({data:e,scaled:t=!1,isDiverging:n=!1}){const[r,s]=Ul(e,"y"),[i,o]=Ul(e,"y1"),[l,u]=Ul(e,"target"),d=Math.max(o,isNaN(u)?Number.MIN_SAFE_INTEGER:u);if(r<0||n){const f=-r,h=Math.max(f,s);return[-h,h]}return t?[i,d]:[0,d]}function Jae({data:e,scaled:t=!1,isDiverging:n=!1}){const r=Ul(e,"x0")[0],s=Ul(e,"x1")[1],[i,o]=Ul(e,"target"),l=Math.max(s,isNaN(o)?Number.MIN_SAFE_INTEGER:o);if(typeof r=="number"&&typeof l=="number"){if(r<0||n){const u=-r,d=Math.max(u,l);return[-d,d]}if(!t)return[0,l]}return[r,l]}const Qae=()=>{if(typeof window>"u")return"en";if(navigator.languages&&navigator.languages.length)return navigator.languages[0];if(navigator.userLanguage||navigator.language||navigator.browserLanguage)return"en"},ele=Qae(),tle={year:"numeric",month:"numeric",day:"numeric",hour12:!0,formatMatcher:"best fit"};function rs(e){return e!==void 0?e instanceof Date?e.toLocaleDateString(ele,tle):typeof e=="number"?e.toLocaleString():e:"No value"}function W5(e){if(Array.isArray(e))return e==null?void 0:e.map(n=>W5(n)).join(", ");{const n=(e==null?void 0:e.key)||(e==null?void 0:e.x),r=(e==null?void 0:e.data)||(e==null?void 0:e.y);return`${n}: ${rs(r)}`}}function H5(e){return e==="smooth"?xie:e==="step"?vie:Bj}const nle=(e,t=!1)=>{const n=e.domain(),r=e(n[0]),s=e.step(),[,i]=e.range();return o=>{let l=Math.min((o-r)/s,n.length-.01);l<0&&Math.abs(l)>n.length-1&&(l=Math.floor(Math.abs(l))*-1);let u=t?Math.round(l)%n.length:Math.floor(l)%n.length;return i===0&&(u=u*-1),n[Math.max(0,Math.min(u,n.length-1))]}},rle=({pos:e,scale:t,data:n,attr:r="x",roundDown:s=!1})=>{const i=t.invert(e),o=kg(w=>r==="i"?w[r]+1:w[r]).right,l=o(n,i),u=Math.max(0,l-1),d=n[u];if(s)return d;const f=Math.min(n.length-1,l),h=n[f];let p=d[r],y=h[r];return p=i-p,y=y-i,p<y?d:h},sle=({pos:e,scale:t,data:n,roundClosest:r=!1})=>{const s=t.domain();let i;t.mariemkoInvert?i=t.mariemkoInvert(e):i=nle(t,r)(e);const o=s.indexOf(i);return n[o]},ile=e=>{let t=e.target.ownerSVGElement;if(t)for(;t.ownerSVGElement;)t=t.ownerSVGElement;return t},ole=({target:e,clientX:t,clientY:n})=>{const r=e.getBoundingClientRect();return{x:t-((r==null?void 0:r.left)||0)-e.clientLeft,y:n-((r==null?void 0:r.top)||0)-e.clientTop}},ale=(e,t)=>{const n=ile(e);if(!n)return null;const{top:r,left:s}=n.getBoundingClientRect(),i=e.clientX-s,o=e.clientY-r;return Vj(N5(t),{x:i,y:o})},lle=(e,t,n)=>jie(n,[{x:0,y:0},{x:t,y:e}]),cle=(e,t,n)=>{const[r,s]=lle(e,t,n);return s.x<t||s.y<e||r.x>0||r.y>0},ule=(e,t)=>e.scaleFactorMin&&e.d*t<=e.scaleFactorMin,dle=(e,t)=>e.scaleFactorMax&&e.d*t>=e.scaleFactorMax,fle=(e,t)=>{const n=ule(e,t)&&t<1,r=dle(e,t)&&t>1;return n||r};function Yi(e){const t=e?"":"none";["-webkit-touch-callout","-webkit-user-select","-khtml-user-select","-moz-user-select","-ms-user-select","user-select"].forEach(n=>document.body.style[n]=t)}function hle(e,t){const n=t.indexOf(e);let r=!1;const s=t[n-1];n>0&&s.y&&(r=!0),t[n].y&&(r=!0);const o=t[n+1];return n<t.length-1&&o.y&&(r=!0),r}const t1=60*60*24,ple=[.001,.005,.01,.05,.1,.5,1,5,10,15,60,60*15,60*30,60*60,60*60*2,60*60*4,60*60*6,60*60*8,60*60*12,t1];function bE(e,t){if(e.length>t){const n=[],r=Math.floor(e.length/t);for(let s=0;s<e.length;s++)s%r===0&&n.push(e[s]);e=n}return e}function n1(e,t){const n=Math.max(e,0);return Math.floor(t/n)}function mle(e,t){const n=e[1]-e[0];let r=null;for(const i of ple)if(n/i<t){r=i;break}if(r===null){const i=n/t1,o=Math.ceil(i/t);r=t1*o}const s=[e[0]];for(;s[s.length-1]+r<=e[1];)s.push(s[s.length-1]+r);return s}function r1(e,t,n,r=100,s){let i;return t?i=t:e.ticks?n==="duration"?i=mle(e.domain(),r):s?i=e.ticks(s):n==="time"?(i=e.ticks(),i=bE(i,r)):i=e.ticks(r):(t=e.domain(),i=bE(t,r)),i}const ea=(e,t=5)=>parseFloat(e.toFixed(t)),wE=(e,t,n)=>typeof t=="function"?t(n):e==="className"?Vs(t):t!==void 0||t!==null?t:{},Qj=(e,t)=>({className:wE("className",e.className,t),style:wE("style",e.style,t)});function Od(e,...t){const n=[],r=(s,i)=>{for(const o of s){const l=t[i];if(l===void 0)throw new Error(`Accessor not found for depth: ${i}`);const u=l(o);Array.isArray(u)?r(u,i+1):n.includes(u)||n.push(u)}};return r(e,0),n}const Mh={},gle=(e,t,n)=>{const r=`${e}_${t}_${n}`;if(Mh[r])return Mh[r];if(typeof window>"u"||typeof document>"u"){const l={height:parseInt(typeof n=="string"?n:n.toString(),10),width:e.length*8};return Mh[r]=l,l}const s=document.createElement("div");s.style.fontFamily=t,s.style.fontSize=typeof n=="string"?n:`${n}px`,s.style.position="absolute",s.style.left="-9999px",s.style.whiteSpace="nowrap",s.style.height="auto",s.style.fontWeight="normal",s.style.lineHeight="normal",s.style.width="auto",s.style.wordBreak="normal",s.textContent=e,document.body.appendChild(s);const i={height:s.offsetHeight,width:s.offsetWidth};return document.body.removeChild(s),Mh[r]=i,i},yle=()=>{const e=g.useRef(null),[t,n]=g.useState({width:void 0,height:void 0});return g.useEffect(()=>{const r=e.current;if(!r)return;const s=new ResizeObserver(i=>{if(i.length===0)return;const o=i[0];n({width:o.contentRect.width,height:o.contentRect.height})});return s.observe(r),()=>{s.unobserve(r)}},[]),[e,t]},Tt=(e,t={})=>{const n=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==void 0));return{...e,...n}},xle=e=>{const{strokeColor:t,strokeWidth:n,strokeGradient:r,scale:s,orientation:i,className:o}=Tt(vle,e),l=df(),[u,d]=s.range();return a.jsxs(g.Fragment,{children:[a.jsx("line",{className:o,x1:i==="vertical"?0:u,x2:i==="vertical"?1e-5:d,y1:i==="vertical"?u:0,y2:i==="vertical"?d:1e-5,strokeWidth:n,stroke:r?`url(#axis-gradient-${l})`:t}),r&&a.jsx(dt,{element:r,id:`axis-gradient-${l}`})]})},vle={strokeColor:"#8F979F",strokeWidth:1},jm=e=>{const{size:t,position:n,orientation:r,strokeColor:s,strokeWidth:i,className:o}={...uc,...e},l=g.useMemo(()=>{const u=r==="vertical",d=t||0,f=n==="start"?d*-1:n==="center"?d*-.5:0,h=f+d;return{x1:u?h:0,x2:u?f:0,y1:u?0:f,y2:u?0:h}},[r,n,t]);return a.jsx("line",{className:o,strokeWidth:i,stroke:s,...l})},uc={strokeColor:"#8F979F",strokeWidth:1,size:5},ble="_clickable_lp842_1",wle={clickable:ble},eN=e=>{const{text:t,fullText:n,data:r,angle:s,orientation:i,half:o,line:l,textAnchor:u,position:d,className:f,fill:h,fontSize:p,fontFamily:y,rotation:w,padding:b,formatTooltip:N,align:v,onClick:_}=Tt(Dg,e);function j(){return(v==="inside"||v==="outside")&&o==="center"?"center":v==="inside"?o==="start"?"end":"start":v==="outside"?o==="start"?"start":"end":v}function S(){if(!l)return[0,0];const F={...uc,...l.props},A=F.size??3,O=F.position??"center";return O==="start"?[A*-1,0]:O==="end"?[0,A]:[A*-.5,A*.5]}function P(){const F=typeof b=="number"?{fromAxis:b,alongAxis:b}:b,A=S(),O=d==="start"?A[0]-F.fromAxis:d==="end"?A[1]+F.fromAxis:0,$=j();let K=0;K+=$==="center"?0:$==="start"?-F.alongAxis:F.alongAxis;const te=i==="horizontal";return{[te?"x":"y"]:K,[te?"y":"x"]:O}}function E(){let F="",A="",O="middle";if(s!==0)F=`rotate(${s})`,A="end";else{const $=j();i==="horizontal"?(A=$==="center"?"middle":$==="start"?"end":"start",d==="start"?O="baseline":d==="end"&&(O="hanging")):(O=$==="center"?"middle":$==="start"?"baseline":"hanging",d==="start"?A="end":d==="end"?A="start":A="middle")}return{transform:F,textAnchor:u||A,alignmentBaseline:O}}const{x:C,y:T}=P(),D=E(),R=typeof N=="function"?N(n):n;return a.jsxs("g",{transform:`translate(${C}, ${T})`,fontSize:p,fontFamily:y,className:Vs({[wle.clickable]:!!_}),onClick:F=>_==null?void 0:_(F,r),children:[a.jsx("title",{children:R}),a.jsx("text",{...D,fill:h,className:f,children:t})]})},Dg={fill:"#8F979F",fontSize:11,fontFamily:"sans-serif",rotation:!0,padding:5,align:"center"},G5=e=>{const{scale:t,orientation:n,height:r,width:s,label:i,tickSize:o,tickValues:l,interval:u,line:d,axis:f,ellipsisLength:h}=Tt(Ag,e),p=g.useMemo(()=>({...Dg,...(i==null?void 0:i.props)??{}}),[i==null?void 0:i.props]),y=g.useCallback(()=>{if(t.bandwidth){let j=t.bandwidth()/2;return t.round()&&(j=Math.round(j)),S=>+t(S)+j}else return j=>+t(j)},[t]),w=g.useCallback(j=>n==="horizontal"?{x:j,y:0}:{x:0,y:j},[n]),b=g.useCallback(()=>n==="vertical"?r:s,[r,n,s]),N=g.useMemo(()=>p.format?p.format:t.tickFormat?t.tickFormat.apply(t,[5]):j=>rs(j),[p.format,t]),v=g.useMemo(()=>{const j=b(),S=n1(o,j),P=r1(t,l,f.type,S,u),E=y(),C=N,T=j/2;return P.map(D=>{var K;const R=C(D),F=E(D),A=w(F),O=Aee(R,h),$=i?gle(O,p.fontFamily,(K=p.fontSize)==null?void 0:K.toString()):{};return{...A,...$,text:O,fullText:R,data:D,half:F===T?"center":F<T?"start":"end"}})},[f.type,h,y,b,w,u,i,p,N,t,o,l]),_=g.useMemo(()=>{if(!i)return 0;const j=b(),S=Md(v,E=>E.width);let P=0;if(p.rotation)if(p.rotation===!0){let E=S;const C=Math.floor(j/v.length);for(;E>C&&P>-90;)P-=30,E=Math.cos(P*(Math.PI/180))*S}else P=p.rotation;return P},[b,i,p,v]);return a.jsx(g.Fragment,{children:v.map((j,S)=>a.jsxs("g",{transform:`translate(${j.x}, ${j.y})`,children:[d&&a.jsx(dt,{element:d,height:r,width:s,orientation:n}),i&&a.jsx(dt,{element:i,text:j.text,fullText:j.fullText,data:j.data,half:j.half,angle:_,orientation:n,line:d})]},S))})},Ag={line:a.jsx(jm,{...uc,height:10,width:10,orientation:"horizontal",position:"center"}),label:a.jsx(eN,{line:a.jsx(jm,{...uc,orientation:"horizontal",position:"center",height:5,width:5}),text:"",fullText:"",data:void 0,angle:0,orientation:"horizontal",half:"start",position:"center"}),tickSize:30,ellipsisLength:18},_le=6,q5=e=>{const{position:t,tickSeries:n,axisLine:r,height:s,width:i,scale:o,orientation:l,visibility:u="visible",onDimensionsChange:d}=Tt(tN,e),f=g.useMemo(()=>Tt(Ag,n==null?void 0:n.props),[n==null?void 0:n.props]),h=g.createRef(),[p,y]=g.useState({height:s,width:i}),w=g.useCallback(()=>{const _=t!=="center";let j,S;if(_){const P=h.current.getBoundingClientRect();S=Math.floor(P.width),j=Math.floor(P.height)}l==="vertical"?Math.abs(p.width-S)>_le&&(y({...p,width:S}),d({width:S})):p.height!==j&&(y({...p,height:j}),d({height:j}))},[h,p,d,l,t]);g.useEffect(()=>{w()},[w,s,i,o]);function b(){let _=0,j=0;return t==="end"&&l==="horizontal"?_=s:t==="center"&&l==="horizontal"?_=s/2:t==="end"&&l==="vertical"?j=i:t==="center"&&l==="vertical"&&(j=i/2),{translateX:j,translateY:_}}const{translateX:N,translateY:v}=b();return a.jsxs("g",{transform:`translate(${N}, ${v})`,ref:h,visibility:u,children:[r&&a.jsx(dt,{element:r,height:s,width:i,scale:o,orientation:l}),(f.line||f.label)&&a.jsx(dt,{element:n,height:s,width:i,scale:o,orientation:l,axis:e})]})},tN={scaled:!1,roundDomains:!1,axisLine:a.jsx(xle,{}),onDimensionsChange:()=>{}},nN=e=>a.jsx(eN,{...Tt(rN,e)}),rN={...Dg,rotation:!0,position:"end",align:"center"},Y5=e=>a.jsx(jm,{...Tt(sN,e)}),sN={...uc,position:"end"},iN=e=>{var n,r;const t=Tt(oN,e);return a.jsx(G5,{...t,line:t!=null&&t.line?a.jsx(Y5,{...Tt(sN,(n=e==null?void 0:e.line)==null?void 0:n.props)}):null,label:t!=null&&t.label?a.jsx(nN,{...Tt(rN,(r=e==null?void 0:e.label)==null?void 0:r.props)}):null})},oN={...Ag,tickSize:75,line:a.jsx(Y5,{...sN}),label:a.jsx(nN,{...rN})},Z5=e=>{var n;const t=g.useMemo(()=>Tt(K5,e),[e]);return a.jsx(q5,{...t,tickSeries:t.tickSeries&&a.jsx(iN,{...Tt(oN,(n=t==null?void 0:t.tickSeries)==null?void 0:n.props)})})},K5={...tN,position:"end",roundDomains:!1,scaled:!1,type:"value",orientation:"horizontal",tickSeries:a.jsx(iN,{})},Lg=e=>a.jsx(eN,{...Tt(pf,e)}),pf={...Dg,rotation:!1,position:"start",align:"center"},X5=e=>a.jsx(jm,{...Tt(aN,e)}),aN={...uc,position:"start"},mf=e=>{var n,r;const t=Tt(lN,e);return a.jsx(G5,{...t,line:t!=null&&t.line?a.jsx(X5,{...Tt(aN,(n=e==null?void 0:e.line)==null?void 0:n.props)}):null,label:t!=null&&t.label?a.jsx(Lg,{...Tt(pf,(r=e==null?void 0:e.label)==null?void 0:r.props)}):null})},lN={...Ag,tickSize:30,line:a.jsx(X5,{...aN}),label:a.jsx(Lg,{...pf})},Ig=e=>{var n;const t=g.useMemo(()=>Tt(J5,e),[e]);return a.jsx(q5,{...t,tickSeries:t.tickSeries&&a.jsx(mf,{...Tt(lN,(n=t==null?void 0:t.tickSeries)==null?void 0:n.props)})})},J5={...tN,orientation:"vertical",scaled:!1,roundDomains:!1,type:"value",position:"start",tickSeries:a.jsx(mf,{})},_E=e=>!!e.tickSeries.props.label||!!e.tickSeries.props.line,jle=g.createContext({}),{Provider:Nle,Consumer:ege}=jle,Sle="_container_1u3dt_1",kle="_svg_1u3dt_30",jE={container:Sle,svg:kle},Cle=({className:e,children:t,center:n,centerX:r,centerY:s,style:i,margins:o,containerClassName:l,xAxisVisible:u,yAxisVisible:d,id:f,...h})=>{const p=df(f),[y,w]=g.useState(!1),[b,N]=g.useState(!1),[v,_]=g.useState(0),[j,S]=g.useState(0),[P,{width:E,height:C}]=yle(),T=g.useMemo(()=>!(!C||!E||u&&!y||d&&!b),[C,E,y,u,d,b]),D=g.useCallback((K,te)=>{K==="horizontal"?w(!0):N(!0),te.height&&S(te.height),te.width&&_(te.width)},[]),R=g.useMemo(()=>({chartSized:T,id:p,updateAxes:D,yAxisSized:b,xAxisSized:y,...Kae({margins:o,height:C,width:E,yOffset:j,xOffset:v})}),[T,p,D,b,y,o,C,E,j,v]),F=n||r?E/2:R.xMargin,A=n||s?C/2:R.yMargin,O=h.height!==void 0&&h.height!==null?h.height:"100%",$=h.width!==void 0&&h.width!==null?h.width:"100%";return a.jsx("div",{ref:P,style:{height:O,width:$},className:Vs(l,jE.container),...h,children:a.jsx(Nle,{value:R,children:C>0&&E>0&&a.jsx("svg",{width:E,height:C,className:Vs(jE.svg,e),style:i,tabIndex:0,children:a.jsx("g",{transform:`translate(${F}, ${A})`,children:t(R)})})})})};function oi(e,t){if(Na.isInstance(e))if(t.greater(1e6)){const n=t.divide(1e6);return e.divide(n).toJSNumber()}else return e.toJSNumber();else return e}function Wl(e){return Na.isInstance(e)?qae(e):e}function Q5(e){let t=Na.one;for(const n of e){const r=e3(n.data);r.greater(t)&&(t=r)}return t}function e3(e){let t=Na.one;for(const n of e)if(Na.isInstance(n.data)){const r=n.data;r.greater(t)&&(t=r)}return t}function Ple(e,t=!1,n="vertical"){let r=[];const s=Q5(e),i=n==="vertical";for(const o of e)for(const l of o.data){const u=Wl(o.key);let d=r.findIndex(y=>{const w=y.key;return w instanceof Date&&u instanceof Date?w.getTime()===u.getTime():w===u});d===-1&&(r.push({key:u,metadata:o.metadata,data:[]}),d=r.length-1);const f=oi(i?l.key:l.data,s),h=oi(i?l.data:l.key,s),p=l.target?oi(l.target,s):void 0;r[d].data.push({key:u,value:Wl(l.data),target:p,metadata:l.metadata,id:o.id,x:f,x0:i?f:0,x1:f,y:h,y0:i?0:h,y1:h})}return t&&(r=r.sort((o,l)=>{const u=LT(o.data,f=>f.y),d=LT(l.data,f=>f.y);return u<d?1:-1})),r}function Tle(e,t){if(Na.isInstance(e)&&Na.isInstance(t))return e.add(t);if(e instanceof Date&&typeof t=="number")return new Date(e.valueOf()+t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new Error("Invalid types to addToChartTypes")}function Ele(e,t="vertical",n=void 0){var o;const r=[],s=e3(e),i=t==="vertical";for(const l of e){const u=Array.isArray(l.data);let d=l.key;n&&(d=Tle(l.key,n));const f={k0:oi(l.key,s),k1:oi(d,s),v0:oi(u?l.data[0]:0,s),v1:oi(u?l.data[1]:l.data,s)},h=i?"k":"v",p=i?"v":"k",y=l.target?Wl(oi(u?(o=l.target)==null?void 0:o[1]:l.target,s)):void 0;r.push({key:Wl(f.k0),value:Wl(f.v1),target:y,metadata:l.metadata,id:l.id,x:f[`${h}1`],x0:f[`${h}0`],x1:f[`${h}1`],y:f[`${p}1`],y0:f[`${p}0`],y1:f[`${p}1`]})}return r}function Mle(e){const t=[],n=Q5(e);for(const r of e)for(const s of r.data){let i=t.findIndex(o=>o.x instanceof Date&&s.key instanceof Date?o.x.getTime()===s.key.getTime():o.x===s.key);i===-1&&(t.push({x:s.key,formattedValues:{}}),i=t.length-1),t[i][r.key]=oi(s.data,n),t[i].formattedValues[r.key]=Wl(s.data)}return t}function Dle(e){const t=[];for(const n of e){const r=[];for(const s of n){const[i,o]=s,l=s.data.x;r.push({key:n.key,x:l,x0:l,x1:l,y:o-i,y0:i,y1:o,value:s.data.formattedValues[n.key]})}t.push({key:n.key,data:r})}return t}function Ale(e,t=!1){const n=Od(e,o=>o.key),r=Mle(e),i=(t?VT().offset(_ie):VT()).keys(n)(r);return Dle(i)}const Lle=class extends g.Component{constructor(){super(...arguments),this.prevXPosition=0,this.prevYPosition=0,this.started=!1,this.deltaX=0,this.deltaY=0,this.childRef=g.createRef(),this.onMouseDown=t=>{this.props.disabled||t.which!==3&&(!this.props.globalPanning&&t.target&&!t.target.classList.contains("pan-container")||(t.preventDefault(),t.stopPropagation(),Yi(!1),this.started=!1,window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)))},this.onMouseMove=t=>{t.preventDefault(),t.stopPropagation(),this.deltaX=this.deltaX+t.movementX,this.deltaY=this.deltaY+t.movementY,this.checkThreshold()?(this.props.cursor&&(document.body.style.cursor=this.props.cursor),this.deltaX=0,this.deltaY=0,this.started=!0,this.onPanStart(t,"mouse")):this.pan(t.movementX,t.movementY,t,"mouse")},this.onMouseUp=t=>{t.preventDefault(),t.stopPropagation(),this.disposeHandlers(),Yi(!0),this.started?this.onPanEnd(t,"mouse"):this.props.onPanCancel({nativeEvent:t,source:"mouse"})},this.onTouchStart=t=>{this.props.disabled||t.touches.length===1&&(t.preventDefault(),t.stopPropagation(),Yi(!1),this.started=!1,this.prevXPosition=t.touches[0].clientX,this.prevYPosition=t.touches[0].clientY,window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd))},this.onTouchMove=t=>{t.preventDefault(),t.stopPropagation();const n=t.touches[0].clientX,r=t.touches[0].clientY,s=n-this.prevXPosition,i=r-this.prevYPosition;this.deltaX=this.deltaX+s,this.deltaY=this.deltaY+i,this.checkThreshold()?(this.deltaX=0,this.deltaY=0,this.started=!0,this.onPanStart(t,"touch")):this.pan(s,i,t,"touch")||(this.prevXPosition=n,this.prevYPosition=r)},this.onTouchEnd=t=>{t.preventDefault(),t.stopPropagation(),this.disposeHandlers(),Yi(!0),this.started?this.onPanEnd(t,"touch"):this.props.onPanCancel({nativeEvent:t,source:"touch"})}}componentDidMount(){this.childRef.current&&(this.childRef.current.addEventListener("mousedown",this.onMouseDown,{passive:!1}),this.childRef.current.addEventListener("touchstart",this.onTouchStart,{passive:!1}))}componentWillUnmount(){this.disposeHandlers(),this.childRef.current&&(this.childRef.current.removeEventListener("mousedown",this.onMouseDown),this.childRef.current.removeEventListener("touchstart",this.onTouchStart))}disposeHandlers(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),document.body.style.cursor="inherit",Yi(!0)}checkThreshold(){const{threshold:t}=this.props;return!this.started&&(Math.abs(this.deltaX)>t||Math.abs(this.deltaY)>t)}onPanStart(t,n){this.props.onPanStart({nativeEvent:t,source:n})}onPanMove(t,n,r,s){this.props.onPanMove({source:r,nativeEvent:s,x:t,y:n})}onPanEnd(t,n){const{onPanEnd:r}=this.props;r({nativeEvent:t,source:n})}pan(t,n,r,s){const{scale:i,constrain:o,width:l,height:u,matrix:d}=this.props,f=S5(Cg(d,Ad(t/i,n/i)),100),h=o&&cle(u,l,f);return h||this.onPanMove(f.e,f.f,s,r),h}render(){return a.jsx("g",{ref:this.childRef,children:this.props.children})}};Lle.defaultProps={x:0,y:0,disabled:!1,scale:1,threshold:10,globalPanning:!0,onPanStart:()=>{},onPanMove:()=>{},onPanEnd:()=>{},onPanCancel:()=>{}};const Ile=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2}),Rle=(e,t)=>Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2));function NE(e,t){const{left:n,top:r}=t.getBoundingClientRect(),[s,i]=[...e.touches].map(u=>({x:u.clientX-Math.round(n),y:u.clientY-Math.round(r)})),o=Rle(s,i),l=Ile(s,i);return{pointA:s,pointB:i,distance:o,midpoint:l}}const Ole=class extends g.Component{constructor(){super(...arguments),this.childRef=g.createRef(),this.onMouseWheel=t=>{const{disableMouseWheel:n,requireZoomModifier:r,matrix:s,onZoomEnd:i}=this.props;if(n)return!1;const o=t.metaKey||t.ctrlKey;if(r&&!o)return!1;t.preventDefault(),t.stopPropagation();const l=ale(t,s);if(l){const{x:u,y:d}=l,f=this.getStep(t.deltaY);this.scale(u,d,f,t),clearTimeout(this.timeout),this.timeout=setTimeout(()=>i(),500)}},this.onTouchStart=t=>{t.touches.length===2&&(t.preventDefault(),t.stopPropagation(),Yi(!1),this.firstTouch=NE(t,this.childRef.current),this.lastDistance=this.firstTouch.distance,window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd))},this.onTouchMove=t=>{if(t.touches.length===2){t.preventDefault(),t.stopPropagation();const{distance:n}=NE(t,this.childRef.current),r=n/this.lastDistance,s=Vj(N5(this.props.matrix),{x:this.firstTouch.midpoint.x,y:this.firstTouch.midpoint.y});s.x&&s.y&&(this.scale(s.x,s.y,r,t)||(this.lastDistance=n))}},this.onTouchEnd=t=>{t.preventDefault(),t.stopPropagation(),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),Yi(!0),this.props.onZoomEnd()}}componentDidMount(){const{disabled:t,disableMouseWheel:n}=this.props,r=this.childRef.current;!t&&r&&(n||r.addEventListener("mousewheel",this.onMouseWheel,{passive:!1}),r.addEventListener("touchstart",this.onTouchStart,{passive:!1}))}componentWillUnmount(){window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),cancelAnimationFrame(this.rqf),clearTimeout(this.timeout);const t=this.childRef.current;t&&(t.removeEventListener("mousewheel",this.onMouseWheel),t.removeEventListener("touchstart",this.onTouchStart)),Yi(!0)}getStep(t){const{scaleFactor:n}=this.props;return-t>0?n+1:1-n}scale(t,n,r,s){const{minZoom:i,maxZoom:o,onZoom:l,matrix:u}=this.props,d=fle({d:u.a,scaleFactorMin:i,scaleFactorMax:o},r);if(!d){const f=S5(Cg(u,Ad(t,n),Nie(r,r),Ad(-t,-n)),100);this.rqf=requestAnimationFrame(()=>{l({scale:f.a,x:f.e,y:f.f,nativeEvent:s})})}return d}render(){const{style:t,children:n}=this.props;return a.jsx("g",{ref:this.childRef,style:t,children:n})}};Ole.defaultProps={x:0,y:0,scale:1,scaleFactor:.1,minZoom:1,maxZoom:10};const $le="_gridLine_5yx3q_1",Fle={gridLine:$le},t3=e=>{const{strokeWidth:t,direction:n,className:r,strokeColor:s,data:i,height:o,width:l,scale:u,strokeDasharray:d}=Tt(n3,e),f=g.useMemo(()=>{const h=u(i);return n==="x"?{x1:h,x2:h,y1:0,y2:o}:{y1:h,y2:h,x1:0,x2:l}},[n,i,o,l,u]);return a.jsx("line",{...f,className:Vs(Fle.gridLine,r),strokeDasharray:d,strokeWidth:t,stroke:s,fill:"none"})},n3={strokeWidth:1,strokeDasharray:"2 5",direction:"all",strokeColor:"rgba(153, 153, 153, 0.5)"},zle={fill:"#393c3e"},r3=({line:e=a.jsx(t3,{direction:"all"}),stripe:t,yScale:n,xScale:r,yAxis:s,xAxis:i,height:o,width:l})=>{const u=g.useMemo(()=>({...n3,...e.props}),[e.props]),d=g.useMemo(()=>({...zle,...(t==null?void 0:t.props)??{}}),[t==null?void 0:t.props]),f=N=>N==="all"||N==="y",h=N=>N==="all"||N==="x",{yAxisGrid:p,xAxisGrid:y}=g.useMemo(()=>{const N={...oN,...i.tickSeries.props},v={...lN,...s.tickSeries.props};return{yAxisGrid:r1(n,v.tickValues,s.type,n1(v.tickSize,o),v.interval),xAxisGrid:r1(r,N.tickValues,i.type,n1(N.tickSize,l),N.interval)}},[o,l,i,s,n,r]),w=g.useCallback((N,v,_,j,S)=>v.map((P,E)=>a.jsx(g.Fragment,{children:a.jsx(dt,{element:N,index:E,scale:_,data:P,height:o,width:l,direction:j})},`${S}-${j}-${E}`)),[o,l]),b=g.useCallback((N,v,_,j,S)=>a.jsxs(g.Fragment,{children:[f(j)&&w(_,N,n,"y",S),h(j)&&w(_,v,r,"x",S)]}),[w,r,n]);return a.jsxs("g",{style:{pointerEvents:"none"},children:[e&&b(p,y,e,u.direction,"line"),t&&b(p,y,t,d.direction,"stripe")]})},Ble="_markLine_1sfls_1",Vle={markLine:Ble},Ule=({pointX:e,height:t,strokeWidth:n=1,strokeColor:r="#eee"})=>a.jsx("line",{stroke:r,strokeWidth:n,y1:"0",vectorEffect:"non-scaling-stroke",y2:t,x1:e,x2:e,className:Vle.markLine}),Nm=({color:e,offset:t,stopOpacity:n=1})=>a.jsx("stop",{offset:t,stopOpacity:n,stopColor:e}),s3=({id:e,color:t,direction:n="vertical",stops:r=[a.jsx(Nm,{offset:"0%",stopOpacity:.3},"start"),a.jsx(Nm,{offset:"80%",stopOpacity:1},"stop")]})=>{if(n==="radial")return a.jsx("radialGradient",{id:e,children:r.map((i,o)=>a.jsx(dt,{element:i,color:i.props.color||t},`gradient-${o}`))});const s=n==="vertical"?{x1:"10%",x2:"10%",y1:"100%",y2:"0%"}:{y1:"0%",y2:"0%",x1:"0%",x2:"100%"};return a.jsx("linearGradient",{spreadMethod:"pad",id:e,...s,children:r.map((i,o)=>a.jsx(dt,{element:i,color:i.props.color||t},`gradient-${o}`))})},Wle=({id:e,fill:t})=>a.jsx("mask",{id:e,children:a.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:t})}),Hle="_label_uiu20_1",Gle="_value_uiu20_7",qle="_subValue_uiu20_13",Yle="_subValueColor_uiu20_18",Zle="_subValueName_uiu20_25",bu={label:Hle,value:Gle,subValue:qle,subValueColor:Yle,subValueName:Zle},Rg=({value:e,color:t,className:n})=>{if(!e)return null;const r=(o,l)=>{const u=t(o,l);return a.jsxs("span",{className:bu.subValue,children:[a.jsx("span",{className:bu.subValueColor,style:{backgroundColor:u}}),a.jsxs("span",{className:bu.subValueName,children:[rs(o.key||o.x),":"]}),a.jsx("span",{children:rs(o.value||o.y)})]})},s=o=>{const l=o.data.length-15,u=o.data.slice(0,15);return a.jsxs(g.Fragment,{children:[u.map((d,f)=>a.jsx(g.Fragment,{children:r(d,f)},f)),l>0&&a.jsxs("div",{children:["...",l," more..."]})]})},i=Array.isArray(e.data);return a.jsxs("div",{className:n,role:"tooltip",children:[a.jsx("div",{className:bu.label,children:rs(e.x)}),a.jsxs("div",{className:bu.value,children:[i&&s(e),!i&&a.jsx(g.Fragment,{children:rs(e.value||e.y)})]})]})},Kle="_base_b22et_1",Xle="_disablePointer_b22et_10",SE={base:Kle,disablePointer:Xle},Jle={base:SE.base,disablePointer:SE.disablePointer},$c=({content:e=a.jsx(Rg,{}),value:t,data:n,color:r,...s})=>a.jsx(zse,{theme:Jle,...s,content:()=>!t&&!n?null:typeof e=="function"?e(n||t,r):g.cloneElement(e,{...e.props,value:t,color:r})}),gf=g.forwardRef(({children:e,inverse:t=!0,tooltip:n=a.jsx($c,{}),disabled:r,color:s,isRadial:i=!1,isContinous:o=!0,width:l,height:u,xScale:d,yScale:f,onValueEnter:h=()=>{},data:p,isHorizontal:y,innerRadius:w,outerRadius:b,placement:N,onValueLeave:v=()=>{},startAngle:_=0,endAngle:j=2*Math.PI},S)=>{const[P,E]=g.useState(),[C,T]=g.useState(),[D,R]=g.useState(),[F,A]=g.useState(),[O,$]=g.useState(),[K,te]=g.useState(),[W,z]=g.useState(),V=g.useRef(),q=g.useRef(null),Z=Math.abs(j-_)>=2*Math.PI,X=Math.abs(j-_),G=.5,ae=g.useCallback((ue,xe,je,Ce,Fe)=>{let rt=0,xt=0;if(i){const bt=Math.min(l,u)/2;rt=xe*Math.cos(ue-G*Math.PI)+bt,xt=xe*Math.sin(ue-G*Math.PI)+bt}else rt=ue,xt=xe;return rt+=je.left+Ce,xt+=je.top+Fe,{nx:rt,ny:xt}},[i,l,u,G]),fe=g.useCallback((ue,xe)=>{if(i){const je=b||Math.min(l,u)/2;let Ce=Math.atan2(xe-je,ue-je)+G*Math.PI;return Ce=(Ce-_)%(2*Math.PI),Ce<0&&(Ce+=Math.PI*2),Ce=Eg().domain([0,X]).range([_,j])(Ce),Ce}return ue},[j,u,i,b,X,_,l]),ge=g.useCallback(ue=>{const xe=[];if(t)for(const je of ue){const Ce=je;if(Array.isArray(Ce.data))for(const Fe of Ce.data){const rt=Fe.x;let xt=xe.findIndex(Wt=>{const nn=Wt.x;return nn instanceof Date&&rt instanceof Date?nn.getTime()===rt.getTime():nn===rt});xt===-1&&(xe.push({x:Fe.x,data:[]}),xt=xe.length-1);const bt=xe[xt].data;Array.isArray(bt)&&bt.push(Fe)}else xe.push(je)}else for(const je of ue){const Ce=je;if(Array.isArray(Ce.data))xe.push({...Ce,x:Ce.key,data:Ce.data.map(Fe=>({...Fe,key:y?Fe.y:Fe.x,value:y?Fe.x:Fe.y}))});else{const Fe=je;xe.push({...Fe,x:Fe.key===void 0?Fe.x0:je.key,y:Fe.value===void 0?Fe.y:Fe.value})}}return xe},[t,y]),be=g.useCallback(ue=>{const xe=ge(p);let je=N;N||(y?je="right":je="top");let Ce=q.current||V.current;const{y:Fe,x:rt}=ole({target:Ce,clientX:ue.clientX,clientY:ue.clientY});let xt,bt,Wt,nn="x";y?(xt=f,bt=d,Wt=Fe):(Wt=fe(rt,Fe),xt=d,bt=f),typeof xe[0].i=="number"&&(nn="i");const qt=xt.invert?rle({pos:Wt,scale:xt,data:xe,attr:nn,roundDown:!o}):sle({pos:Wt,scale:xt,data:xe,roundClosest:i});if(!DO(qt,D)&&qt){const Ae=xt(qt.x);let At=bt(qt.y),I=0,U=0;if(isNaN(At)?(At=u/2,I=10,C||(je="right")):U=-10,Ae===K&&At===W)return;te(Ae),z(At);const ne=ue.target.getBoundingClientRect(),{nx:H,ny:J}=ae(Ae,At,ne,I,U);T(je),E(!0),R(qt),A(H),$(J),h({visible:!0,value:qt,pointY:At,pointX:Ae,offsetX:H,offsetY:J,nativeEvent:ue})}},[p,fe,u,o,y,i,ae,h,C,N,K,W,ge,D,d,f]),ke=g.useCallback(()=>{te(void 0),z(void 0),R(void 0),E(!1),v()},[v]),re=g.useCallback(()=>{if(!P)return;const ue=q.current||V.current;if(!ue)return;const xe=ue.getBoundingClientRect();let je=0,Ce=0,Fe=K,rt;W===void 0||isNaN(W)?(rt=u/2,je=10):(rt=W,Ce=-10);const{nx:xt,ny:bt}=ae(Fe,rt,xe,je,Ce);A(xt),$(bt)},[q,V,P,K,W,u,ae]);g.useEffect(()=>{if(!P)return;const ue=()=>re();return window.addEventListener("scroll",ue,!0),window.addEventListener("resize",ue),()=>{window.removeEventListener("scroll",ue,!0),window.removeEventListener("resize",ue)}},[P,re]),g.useImperativeHandle(S,()=>({triggerMouseMove(ue){be(ue)}}));const me=g.useMemo(()=>({width:4,height:4,top:O,left:F}),[F,O]),Ne=g.useCallback(()=>{const ue=w||0,xe=b||Math.min(l,u)/2,je=OT()({innerRadius:ue,outerRadius:xe,startAngle:Z?0:_,endAngle:Z?2*Math.PI:j}),Ce=OT()({innerRadius:ue,outerRadius:xe,startAngle:0,endAngle:2*Math.PI});return a.jsxs(a.Fragment,{children:[a.jsx("path",{d:Ce,opacity:"0",cursor:"auto",ref:q}),a.jsx("path",{d:je,opacity:"0",cursor:"auto",ref:V,onMouseMove:be})]})},[j,u,w,Z,be,b,_,l]),ce=g.useCallback(()=>a.jsx("rect",{height:u,ref:V,width:l,opacity:0,cursor:"auto",onMouseMove:be}),[u,be,l]);return a.jsxs(g.Fragment,{children:[r&&e,!r&&a.jsxs("g",{id:"tooltip-area",onMouseLeave:ke,ref:S,children:[i&&Ne(),!i&&ce(),a.jsx(dt,{element:n,visible:P,placement:C,modifiers:[Mc({mainAxis:15}),rO()],reference:me,color:s,value:D}),e]})]})});function Qle({type:e,roundDomains:t,data:n,width:r,domain:s,padding:i,scaled:o,isMultiSeries:l=!1,isDiverging:u=!1}){let d;return e==="time"||e==="duration"||e==="value"?(e==="time"?d=Aae().rangeRound([0,r]):d=Eg().rangeRound([0,r]),d=d.domain(s||Jae({data:n,scaled:o,isDiverging:u}))):(s||(l?s=Od(n,f=>f.key):s=Od(n,f=>f.x)),d=Wj().rangeRound([0,r]).padding(i||0).domain(s)),t?d.nice():d}function ece({type:e,height:t,data:n,domain:r,roundDomains:s=!1,scaled:i=!1,padding:o=0,isMultiSeries:l=!1,isDiverging:u=!1}){let d;return e==="time"||e==="value"||e==="duration"?d=Eg().range([t,0]).domain(r||Xae({data:n,scaled:i,isDiverging:u})):(r||(l?r=Od(n,f=>f.key):r=Od(n,f=>f.y)),d=Wj().rangeRound([t,0]).padding(o).domain(r)),s?d.nice():d}const Og={type:"spring",velocity:5,damping:20,restDelta:.01,restSpeed:.01},i3=({custom:e,transition:t,...n})=>{const r=lo(e.exit.d),s=PW(0,Og);g.useEffect(()=>{const d=Tg(r.get(),e.enter.d),f=s.get();return s.set(f+1),s.on("change",h=>r.set(d(h-f)))},[e.enter.d,e.exit.d,r,s]);const{d:i,...o}=e.enter,{d:l,...u}=e.exit;return a.jsx(Y.path,{...n,initial:{opacity:0,...u},exit:{opacity:0,...u},animate:{opacity:1,...o},transition:t,d:t.type!==!1?r:i})},dc={unifyviz:["#4C86FF","#40D3F4","#40E5D1","#9152EE","#A840E8","#80CE5B","#AADC40","#D740BE","#EE4094","#E84045","#F8A340","#FFD440"],unifyvizwarm:["#FFD440","#F8A340","#E84045"],unify8Colors:Je.scale(["#4C86FF","#26efb5"]).correctLightness().colors(8),cybertron:Je.scale(["#2d60e8","#26efb5"]).correctLightness().colors(8),...Je.brewer},tce=(e,t)=>e.map((n,r)=>{if(n){if(n[t]!==void 0)return n[t];if(n.data&&n.data[t]!==void 0)return n.data[t]}return r}),o3=e=>{let{point:t,colorScheme:n,attribute:r,index:s,data:i,active:o,isMultiSeries:l,domain:u,key:d,scale:f}={attribute:"key",isMultiSeries:!1,scale:Uj,...e};if(typeof n=="string"&&dc[n]&&(n=dc[n]),Array.isArray(n)){if(!u){if(l&&Array.isArray(i)){const h=rie(i,y=>y.data.length);i=i[h].data}u=tce(i,r)}return d=d!==void 0?d:t[r],f(n).domain(u)(d)}else return typeof n=="function"?n(t,s,o):n},nce="_inactive_jp2yc_1",rce="_hidden_jp2yc_5",kE={inactive:nce,hidden:rce},cN=({glow:e,colorSchemeColor:t})=>{if(!e)return{};let{x:n=0,y:r=0,blur:s=5,color:i=t||"rgb(255, 255, 255, 0.25)",opacity:o=1}=e;return i=Je(i).alpha(o).css(),s?{filter:`drop-shadow(${n}px ${r}px ${s}px ${i})`}:{}},a3=e=>{const{symbol:t,index:n,id:r,data:s,xScale:i,yScale:o,active:l,tooltip:u,cursor:d,size:f,glow:h,color:p,animated:y,onClick:w,onMouseEnter:b,onMouseLeave:N,visible:v,..._}=Tt(l3,e),j=g.useRef(null),[S,P]=g.useState(!1),E=g.useMemo(()=>Qj(_,s),[_,s]),C=g.useMemo(()=>typeof f=="function"?f(s):f,[f,s]),T=g.useMemo(()=>t?t(s):null,[s,t]),D=g.useMemo(()=>y?{...Og,delay:n*.005}:{type:!1,delay:0},[n,y]),R=g.useMemo(()=>{let te=o(s.y1);if(o.bandwidth){const W=o.bandwidth();te=te+W/2}return{x:i(s.x),y:te}},[s,o]),F=g.useMemo(()=>{const[te]=o.domain();return{y:o(te),x:i(s.x)}},[s,o]),A=g.useMemo(()=>o3({colorScheme:p,index:n,point:s}),[s,p,n]),O=`symbol-${r}-${_m(`${s.id}`)}`,$=g.useMemo(()=>W5(s),[s]),K=v?v==null?void 0:v(s,n):l;return a.jsxs(g.Fragment,{children:[a.jsx("g",{ref:j,className:Vs({[kE.inactive]:!l,[kE.hidden]:!K}),onMouseEnter:()=>{P(!0),b(s)},onMouseLeave:()=>{P(!1),N(s)},onClick:()=>w(s),tabIndex:0,"aria-label":$,role:"graphics-document",children:t?a.jsx(Y.g,{...E,initial:{translateX:F.x,translateY:F.y,opacity:0},animate:{translateX:R.x,translateY:R.y,opacity:1},exit:{translateX:F.x,translateY:F.y,opacity:0},transition:D,children:T},O):a.jsx(Y.circle,{className:E.className,style:{...E.style,...cN({glow:h}),cursor:d},fill:A,initial:{cx:F.x,cy:F.y,r:C,opacity:0},animate:{cx:R.x,cy:R.y,opacity:1,r:C},exit:{cx:F.x,cy:F.y,r:C,opacity:0},transition:D},O)}),u&&!u.props.disabled&&a.jsx(dt,{element:u,visible:S,reference:j,value:s})]})},l3={active:!0,tooltip:a.jsx($c,{}),cursor:"pointer",size:4,color:dc.cybertron[0],animated:!0,onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{}},CE=25,sce=({data:e,height:t,width:n,id:r,isZoomed:s,activeIds:i,point:o=a.jsx(a3,{}),valueMarkers:l,xScale:u,yScale:d,...f})=>{const h=g.useCallback((y,w)=>{let b;y.id&&(b=y.id);const N=_m(`${b+w||w}`),v=!(i&&i.length)||i.includes(b);return a.jsx(dt,{element:o,xScale:u,yScale:d,...f,id:r,data:y,index:w,active:v},N)},[i,o,u,d,f,r]),p=g.useCallback(()=>a.jsx(a.Fragment,{children:(l==null?void 0:l.length)&&l.map(y=>{var v;const w=((v=y==null?void 0:y.props)==null?void 0:v.direction)==="vertical",b=w?t:n,N=w?u(y.props.value):d(y.props.value);return a.jsx(dt,{element:y,size:b,value:N},y.key)})}),[t,l,n,u,d]);return a.jsxs(g.Fragment,{children:[a.jsx("defs",{children:a.jsx("clipPath",{id:`${r}-path`,children:a.jsx("rect",{width:s?n:n+CE,height:t+CE,x:s?0:-12.5,y:-12.5})})}),p(),a.jsx("g",{clipPath:`url(#${r}-path)`,children:e.map(h)})]})},ice="_point_u68jv_1",oce={point:ice},ace=e=>{const{data:t,xScale:n,yScale:r,animated:s,point:i,color:o,height:l,width:u,id:d,activeValues:f,show:h}=Tt(uN,e),p=g.useCallback((y,w)=>{const b=f&&y&&DO(f.x,y.x);return h==="hover"?b:h==="first"?f?b:w===0:h==="last"?f?b:w===t.length-1:!!h},[f,t.length,h]);return a.jsx(sce,{height:l,width:u,id:d,animated:s,data:t,xScale:n,yScale:r,point:a.jsx(dt,{element:i,color:o,className:oce.point,size:4,tooltip:null,visible:p})})},uN={show:"hover",point:a.jsx(a3,{})},c3=e=>{const{id:t,gradient:n,glow:r,mask:s,data:i,color:o,index:l,total:u,xScale:d,yScale:f,animated:h,interpolation:p,pointerEvents:y="none",...w}=Tt(lce,e),b=o(i,l),N=g.useMemo(()=>i.map(C=>({x:d(C.x),x1:d(C.x)-d(C.x1),y:f(C.y),y0:f(C.y0),y1:f(C.y1)})),[i,d,f]),v=g.useCallback(C=>{if(C.length===1&&u===1){const[D]=C,R=ea(D.x);C=[{...D},{...D}];const[F,A]=C;F.x=0,A.x=R*2}return yie().x(D=>ea(D.x)).y0(D=>ea(D.y0)).y1(D=>ea(D.y1)).curve(H5(p))(C)},[p,u]),_=g.useMemo(()=>{const C=v(N);return{d:C===null?void 0:C}},[N,v]),j=g.useMemo(()=>{const C=Math.max(...f.range()),T=i.map(R=>({x:d(R.x),x1:0,y:0,y1:C,y0:C})),D=v(T);return{d:D===null?void 0:D}},[i,v,d,f]),S=g.useMemo(()=>s?`url(#mask-pattern-${t})`:n?`url(#gradient-${t})`:"",[n,t,s]),P=g.useMemo(()=>h?{...Og,delay:l*.05}:{type:!1,delay:0},[h,l]),E=g.useCallback(()=>{const C=s?`url(#mask-${t})`:"",T=Qj(w,i);return a.jsx(i3,{...T,pointerEvents:y,mask:C,fill:S,transition:P,custom:{enter:_,exit:j},style:{...T.style,...cN({glow:r,colorSchemeColor:b})}})},[i,_,j,S,r,t,s,w,b,P,y]);return a.jsxs(g.Fragment,{children:[E(),s&&a.jsxs(g.Fragment,{children:[a.jsx(Wle,{id:`mask-${t}`,fill:`url(#gradient-${t})`}),a.jsx(dt,{element:s,id:`mask-pattern-${t}`,fill:b})]}),n&&a.jsx(dt,{element:n,id:`gradient-${t}`,color:b})]})},lce={gradient:a.jsx(s3,{}),interpolation:"linear"},u3=({id:e,width:t,data:n,color:r,index:s,strokeWidth:i=3,hasArea:o,animated:l,yScale:u,xScale:d,showZeroStroke:f=!0,interpolation:h,gradient:p,glow:y,...w})=>{const[b,N]=g.useState(null),v=g.useRef(null);g.useEffect(()=>{v.current&&N(ea(v.current.getTotalLength()))},[n,d,u,t]);const _=g.useCallback(F=>_5().x(O=>ea(O.x)).y(O=>ea(O.y1)).defined(O=>f||hle(O,F)).curve(H5(h))(F),[h,f]),j=g.useMemo(()=>l?{...Og,delay:o?0:s*.05}:{type:!1,delay:0},[l,o,s]),S=g.useMemo(()=>n.map(F=>({x:d(F.x),x1:d(F.x)-d(F.x1),y:u(F.y),y0:u(F.y0),y1:u(F.y1)})),[n,d,u]),P=g.useMemo(()=>{const F=_(S);let A="";return!o&&b!==null&&(A=`${b} ${b}`),{d:F===null?void 0:F,strokeDashoffset:0,strokeDasharray:A}},[S,_,o,b]),E=g.useMemo(()=>{let F=S;if(o){const K=Math.max(...u.range());F=n.map(te=>({x:d(te.x),x1:0,y:K,y1:K,y0:K}))}const A=_(F);let O="",$=0;return!o&&b!==null&&(O=`${b} ${b}`,$=b),{d:A===null?void 0:A,strokeDasharray:O,strokeDashoffset:$}},[S,n,_,o,b,d,u]),C=r(n,s),T=Qj(w,n),D=o||b!==null,R=g.useMemo(()=>p?`url(#gradient-${e})`:C,[p,e]);return o&&(delete P.strokeDashoffset,delete E.strokeDashoffset),a.jsxs(g.Fragment,{children:[D&&a.jsx(i3,{...T,pointerEvents:"none",stroke:R,strokeWidth:i,fill:"none",transition:j,custom:{enter:P,exit:E},style:{...T.style,...cN({glow:y,colorSchemeColor:R})}}),!o&&a.jsx("path",{opacity:"0",d:P.d,ref:v,pointerEvents:"none"}),p&&a.jsx(dt,{element:p,id:`gradient-${e}`,color:C})]})},PE=25,d3=e=>{const{data:t,height:n,id:r,width:s,isZoomed:i,tooltip:o,xScale:l,yScale:u,type:d,markLine:f,symbols:h,animated:p,area:y,interpolation:w,line:b,colorScheme:N,valueMarkers:v}=Tt(dN,e),_=g.useMemo(()=>({...uN,...(h==null?void 0:h.props)??{}}),[h]),[j,S]=g.useState(null),[P,E]=g.useState(null),C=g.useCallback(W=>{E(W.pointX),S(W.value)},[]),T=g.useCallback(()=>{E(void 0),S(void 0)},[]),D=d==="grouped"||d==="stacked"||d==="stackedNormalized",R=g.useCallback((W,z)=>{var q;const V=Array.isArray(W)?(q=W==null?void 0:W[0])==null?void 0:q.key:W==null?void 0:W.key;return o3({data:t,colorScheme:N,active:j,point:W,index:z,key:V})},[j,N,t]),F=g.useCallback((W,z=0,V=1)=>a.jsxs(g.Fragment,{children:[b&&a.jsx(dt,{element:b,xScale:l,yScale:u,data:W,width:s,index:z,hasArea:y!==null,animated:p,interpolation:w,color:R}),y&&a.jsx(dt,{element:y,id:`${r}-area-${z}`,xScale:l,yScale:u,data:W,index:z,total:V,animated:p,interpolation:w,color:R})]}),[p,y,R,r,w,b,s,l,u]),A=g.useCallback((W,z=0)=>{const V=h!==null,q=h&&_.activeValues||j,Z=y!==void 0&&p&&!q;return a.jsx(g.Fragment,{children:V&&a.jsx(dt,{element:h,id:r,height:n,width:s,activeValues:q,xScale:l,yScale:u,index:z,data:W,animated:Z,color:()=>R(W,z)},`point-series-${r}`)})},[j,p,y,R,n,r,h,s,l,u]),O=g.useCallback(()=>a.jsx(a.Fragment,{children:j&&f&&a.jsx(dt,{element:f,height:n,pointX:P})}),[P,j,n,f]),$=g.useCallback(W=>a.jsxs(g.Fragment,{children:[F(W),O(),A(W)]}),[F,O,A]),K=g.useCallback(W=>a.jsxs(g.Fragment,{children:[W.map((z,V)=>a.jsx(g.Fragment,{children:F(z.data,V,W.length)},_m(`${z.key}`))).reverse(),O(),W.map((z,V)=>a.jsx(g.Fragment,{children:A(z.data,V)},_m(`${z.key}`))).reverse()]}),[F,O,A]),te=g.useCallback(()=>a.jsx(a.Fragment,{children:(v==null?void 0:v.length)&&v.map(W=>{var Z;const z=((Z=W==null?void 0:W.props)==null?void 0:Z.direction)==="vertical",V=z?n:s,q=z?l(W.props.value):u(W.props.value);return a.jsx(dt,{element:W,size:V,value:q},W.key)})}),[v,s,u,l,n]);return a.jsxs(g.Fragment,{children:[a.jsx("defs",{children:a.jsx("clipPath",{id:`${r}-path`,children:a.jsx("rect",{width:i?s:s+PE,height:n+PE,x:i?0:-12.5,y:-12.5})})}),a.jsx(dt,{element:o,xScale:l,yScale:u,data:t,height:n,width:s,color:R,onValueEnter:C,onValueLeave:T,children:a.jsxs("g",{clipPath:`url(#${r}-path)`,children:[D&&K(t),!D&&$(t),te()]})})]})},dN={colorScheme:"cybertron",animated:!0,interpolation:"linear",type:"standard",line:a.jsx(u3,{}),area:a.jsx(c3,{}),markLine:a.jsx(Ule,{}),tooltip:a.jsx(gf,{}),symbols:a.jsx(ace,{})},f3=e=>{const{symbols:t,interpolation:n,...r}={...dN,...e},s=g.useMemo(()=>({...uN,...t==null?void 0:t.props}),[t]),i=g.useMemo(()=>{var o;return{...l3,...(o=s.point)==null?void 0:o.props}},[s]);return a.jsx(d3,{...r,interpolation:n,type:"stacked",symbols:t&&a.jsx(dt,{element:t,...s,point:a.jsx(dt,{element:s.point,...i,tooltip:null})})})},cce="_areaChart_yyojn_1",uce={areaChart:cce},dce=e=>{const{xAxis:t,yAxis:n,id:r,data:s,width:i,height:o,margins:l,className:u,containerClassName:d,series:f,gridlines:h,brush:p,zoomPan:y,secondaryAxis:w}=Tt(fce,e),b=y?y.props:{},[N,v]=g.useState(b.domain),[_,j]=g.useState(!1),[S,P]=g.useState(!!b.domain),[E]=g.useState(!b.hasOwnProperty("domain")),C=g.useMemo(()=>({...K5,...t.props}),[t.props]),T=g.useMemo(()=>({...J5,...n.props}),[n.props]),D=g.useMemo(()=>({...dN,...f.props}),[f.props]),R=g.useRef(null),F=D.type,A=F==="stacked"||F==="stackedNormalized"||F==="grouped",O=_===!0?!1:D.animated;g.useEffect(()=>{if(y){const z=y.props;!E&&z.domain!==N&&(v(z.domain),P(!!z.domain))}},[E,N,y]);const $=g.useMemo(()=>F==="stacked"||F==="stackedNormalized"?Ale(s,F==="stackedNormalized"):F==="grouped"?Ple(s,!0):Ele(s),[s,F]),K=g.useCallback((z,V)=>{const q=Qle({width:z,type:C.type,roundDomains:C.roundDomains,data:$,domain:N||C.domain,isMultiSeries:A}),Z=ece({roundDomains:T.roundDomains,type:T.type,height:V,data:$,domain:T.domain,isMultiSeries:A});return{xScale:q,yScale:Z}},[$,A,C.domain,C.roundDomains,C.type,T.domain,T.roundDomains,T.type,N]),te=g.useCallback(z=>{E&&(v(z.domain),P(z.isZoomed),j(!0),clearTimeout(R.current),R.current=setTimeout(()=>j(!1)))},[E]),W=g.useCallback(({chartHeight:z,chartWidth:V,id:q,updateAxes:Z,chartSized:X})=>{const{xScale:G,yScale:ae}=K(V,z),fe=$.length<=1;return a.jsxs(g.Fragment,{children:[X&&h&&a.jsx(dt,{element:h,height:z,width:V,yScale:ae,xScale:G,yAxis:T,xAxis:C}),a.jsx(dt,{element:t,height:z,width:V,scale:G,visibility:X?"visible":"hidden",onDimensionsChange:ge=>Z("horizontal",ge)}),a.jsx(dt,{element:n,height:z,width:V,scale:ae,visibility:X?"visible":"hidden",onDimensionsChange:ge=>Z("vertical",ge)}),w&&w.map((ge,be)=>a.jsx(dt,{element:ge,height:z,width:V,visibility:X?"visible":"hidden",onDimensionsChange:ke=>Z("horizontal",ke)},be)),X&&a.jsx(dt,{disabled:fe,element:p,height:z,width:V,scale:G,children:a.jsx(dt,{element:y,onZoomPan:te,height:z,width:V,axisType:C.type,roundDomains:C.roundDomains,data:$,domain:N,children:a.jsx(dt,{element:f,id:`area-series-${q}`,data:$,height:z,width:V,yScale:ae,xScale:G,isZoomed:S,animated:O})})})]})},[$,O,p,K,h,S,te,w,f,t,n,C,T,N,y]);return a.jsx(Cle,{id:r,width:i,height:o,margins:l,containerClassName:d,xAxisVisible:_E(C),yAxisVisible:_E(T),className:Vs(uce.areaChart,u,f.type),children:W})},fce={data:[],xAxis:a.jsx(Z5,{type:"time"}),yAxis:a.jsx(Ig,{type:"value"}),series:a.jsx(d3,{}),gridlines:a.jsx(r3,{}),brush:null,zoomPan:null},hce=e=>{var t;return a.jsx(dce,{...e,series:a.jsx(f3,{...(t=e.series)==null?void 0:t.props,type:"stacked"})})};g.createContext({});const h3=(e,t,n)=>n>t?t:n<e?e:n,pce=e=>e,$g={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},p3={...$g,transform:e=>h3(0,1,e)};({...$g});const Ku=e=>Math.round(e*1e5)/1e5,m3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mce(e){return e==null}const gce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fN=(e,t)=>n=>!!(typeof n=="string"&&gce.test(n)&&n.startsWith(e)||t&&!mce(n)&&Object.prototype.hasOwnProperty.call(n,t)),g3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(m3);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},yce=e=>h3(0,255,e),ev={...$g,transform:e=>Math.round(yce(e))},Eu={test:fN("rgb","red"),parse:g3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ev.transform(e)+", "+ev.transform(t)+", "+ev.transform(n)+", "+Ku(p3.transform(r))+")"};function xce(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const TE={test:fN("#"),parse:xce,transform:Eu.transform},vce=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),EE=vce("%"),Dh={test:fN("hsl","hue"),parse:g3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+EE.transform(Ku(t))+", "+EE.transform(Ku(n))+", "+Ku(p3.transform(r))+")"},Sa={test:e=>Eu.test(e)||TE.test(e)||Dh.test(e),parse:e=>Eu.test(e)?Eu.parse(e):Dh.test(e)?Dh.parse(e):TE.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Eu.transform(e):Dh.transform(e),getAnimatableNone:e=>{const t=Sa.parse(e);return t.alpha=0,Sa.transform(t)}},bce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wce(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(m3))==null?void 0:t.length)||0)+(((n=e.match(bce))==null?void 0:n.length)||0)>0}const y3="number",x3="color",_ce="var",jce="var(",ME="${}",Nce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function v3(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Nce,u=>(Sa.test(u)?(r.color.push(i),s.push(x3),n.push(Sa.parse(u))):u.startsWith(jce)?(r.var.push(i),s.push(_ce),n.push(u)):(r.number.push(i),s.push(y3),n.push(parseFloat(u))),++i,ME)).split(ME);return{values:n,split:l,indexes:r,types:s}}function b3(e){return v3(e).values}function w3(e){const{split:t,types:n}=v3(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===y3?i+=Ku(s[o]):l===x3?i+=Sa.transform(s[o]):i+=s[o]}return i}}const Sce=e=>typeof e=="number"?0:Sa.test(e)?Sa.getAnimatableNone(e):e;function kce(e){const t=b3(e);return w3(e)(t.map(Sce))}const Cce={test:wce,parse:b3,createTransformer:w3,getAnimatableNone:kce},Pce=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tce=new Set(["x","y","z"]);Pce.filter(e=>!Tce.has(e));({...Cce});({...$g});g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});g.createContext({strict:!1});try{require("@emotion/is-prop-valid").default}catch{}const Ece=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mce="framerAppearId";""+Ece(Mce);g.createContext({});const DE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e);DE("applewebkit/")&&DE("chrome/");Mc(5);Mc(5);Mc(5);dc.cybertron[0],Mc(5);({...pf});({...pf});dc.cybertron[0];Mc({mainAxis:0,crossAxis:3});(()=>{const e=new Date(Date.UTC(2017,0,2));return y5(7).map(()=>{const t=e.toLocaleDateString("default",{weekday:"short"});return e.setDate(e.getDate()+1),t})})();dc.cybertron[0];const Dce=({className:e})=>a.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M20 9.557V3h-2v4.557a2.5 2.5 0 1 0 2 2zM8 9H2V3h2v4h4V3h2v6zm-6 8v-6h8v6H2zm18 0v-6h-8v6h8z"})}),Ace=({className:e})=>a.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm1 3v5h4v2h-6V7h2z"})}),Lce=()=>{const[e,t]=g.useState([]),[n,r]=g.useState({}),s=(l,u)=>{const d=[],f=new Date;for(let h=0;h<u;h++){const p=new Date(f);p.setDate(f.getDate()-h);const y=p.toISOString().slice(0,10),w=l.find(b=>b.date.slice(0,10)===y);d.push({key:p,data:w?w.count:0})}return d.reverse()};g.useEffect(()=>{(async()=>{var u,d,f,h,p,y,w,b,N,v,_,j,S,P;try{const C=await(await fetch(oe("/api/analytics/summary"))).json();console.log("Analytics data from backend (raw):",C),console.log("Analytics data from backend (stringified):",JSON.stringify(C));const T=Array.isArray(C.admissionsLast7Days)?C.admissionsLast7Days:[],D=Array.isArray(C.appointmentsLast7Days)?C.appointmentsLast7Days:[],R=s(T,7).map(O=>({key:new Date(O.key),data:O.data})),F=s(D,7).map(O=>({key:new Date(O.key),data:O.data}));t([{key:"Admissions",data:R},{key:"Appointments",data:F}]);const A=O=>{const $=Number(O);return isNaN($)?0:$};r({newPatients:A((d=(u=C.newPatientsToday)==null?void 0:u[0])==null?void 0:d.count),todaysAppointments:A((h=(f=C.appointmentsToday)==null?void 0:f[0])==null?void 0:h.count),bedOccupancy:A((y=(p=C.bedOccupancy)==null?void 0:p[0])==null?void 0:y.total)>0?A((b=(w=C.bedOccupancy)==null?void 0:w[0])==null?void 0:b.occupied)/A((v=(N=C.bedOccupancy)==null?void 0:N[0])==null?void 0:v.total)*100:0,avgWaitTime:25,totalRevenue:A((j=(_=C.totalRevenue)==null?void 0:_[0])==null?void 0:j.total),revenueToday:A((P=(S=C.revenueToday)==null?void 0:S[0])==null?void 0:P.total)})}catch(E){console.error("Failed to fetch analytics data:",E)}})()},[]);const i=[{name:"Admissions",color:"#8884d8"},{name:"Appointments",color:"#82ca9d"}],o=["#8884d8","#82ca9d"];return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        :root {
          --reaviz-tick-fill: #666;
          --reaviz-gridline-stroke: #e0e0e0;
        }
        .dark {
          --reaviz-tick-fill: #A0AEC0;
          --reaviz-gridline-stroke: rgba(74, 85, 104, 0.6);
        }
      `}),a.jsxs("div",{className:"flex flex-col justify-between p-4 sm:p-6 bg-background text-foreground rounded-3xl shadow-lg w-full max-w-4xl mx-auto my-8 min-h-[714px] overflow-hidden",children:[a.jsx("div",{className:"flex justify-between items-center p-3",children:a.jsx("h3",{className:"text-2xl sm:text-3xl text-left font-bold",children:"Hospital Analytics"})}),a.jsx("div",{className:"flex gap-8 w-full pl-4 mb-4",children:i.map(l=>a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:l.color}}),a.jsx("span",{className:"text-muted-foreground text-xs",children:l.name})]},l.name))}),a.jsx("div",{className:"reaviz-chart-container h-[280px] px-2",children:a.jsx(hce,{height:280,data:e,xAxis:a.jsx(Z5,{type:"time",tickSeries:a.jsx(iN,{label:a.jsx(nN,{format:l=>new Date(l).toLocaleDateString("en-US",{month:"numeric",day:"numeric"}),fill:"var(--reaviz-tick-fill)"})})}),yAxis:a.jsx(Ig,{axisLine:null,tickSeries:a.jsx(mf,{line:null,label:null})}),series:a.jsx(f3,{line:a.jsx(u3,{strokeWidth:2}),area:a.jsx(c3,{gradient:a.jsx(s3,{stops:[a.jsx(Nm,{offset:"0%",stopOpacity:.3},1),a.jsx(Nm,{offset:"100%",stopOpacity:0},2)]})}),colorScheme:o}),gridlines:a.jsx(r3,{line:a.jsx(t3,{stroke:"var(--reaviz-gridline-stroke)"})})})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 w-full p-4 justify-between pt-8 gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[a.jsx("span",{className:"text-xl text-muted-foreground",children:"New Patients Today"}),a.jsx(yh,{className:"font-mono text-4xl font-semibold text-foreground",end:n.newPatients||0,duration:2})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[a.jsx("span",{className:"text-xl text-muted-foreground",children:"Appointments Today"}),a.jsx(yh,{className:"font-mono text-4xl font-semibold text-foreground",end:n.todaysAppointments||0,duration:2})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[a.jsx("span",{className:"text-xl text-muted-foreground",children:"Revenue Today"}),a.jsx(yh,{className:"font-mono text-4xl font-semibold text-foreground",prefix:"$",end:n.revenueToday||0,duration:2})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[a.jsx("span",{className:"text-xl text-muted-foreground",children:"Total Revenue"}),a.jsx(yh,{className:"font-mono text-4xl font-semibold text-foreground",prefix:"$",end:n.totalRevenue||0,duration:2})]})]}),a.jsxs("div",{className:"flex flex-col p-4 font-mono divide-y divide-border mt-4",children:[a.jsxs(Y.div,{className:"flex w-full py-4 items-center gap-2",children:[a.jsxs("div",{className:"flex flex-row gap-2 items-center text-base w-1/2 text-muted-foreground",children:[a.jsx(Dce,{className:"w-6 h-6 text-blue-400"}),a.jsx("span",{className:"truncate",title:"Bed Occupancy Rate",children:"Bed Occupancy Rate"})]}),a.jsx("div",{className:"flex gap-2 w-1/2 justify-end items-center",children:a.jsxs("span",{className:"font-semibold text-xl text-foreground",children:[Number(n.bedOccupancy||0).toFixed(1),"%"]})})]}),a.jsxs(Y.div,{className:"flex w-full py-4 items-center gap-2",children:[a.jsxs("div",{className:"flex flex-row gap-2 items-center text-base w-1/2 text-muted-foreground",children:[a.jsx(Ace,{className:"w-6 h-6 text-green-400"}),a.jsx("span",{className:"truncate",title:"Average Patient Wait Time",children:"Avg. Wait Time (mock)"})]}),a.jsx("div",{className:"flex gap-2 w-1/2 justify-end items-center",children:a.jsxs("span",{className:"font-semibold text-xl text-foreground",children:[n.avgWaitTime||0," min"]})})]})]})]})]})},Ice=({user:e,updateUser:t})=>{const{theme:n}=Qe(),[r,s]=g.useState(e.profileImageUrl),i=g.useRef(null);g.useEffect(()=>{s(e.profileImageUrl)},[e.profileImageUrl]);const o=async l=>{var f;const u=(f=l.target.files)==null?void 0:f[0];if(!u)return;const d=new FormData;d.append("profilePhoto",u);try{const p=await(await fetch(oe(`/api/employees/${e.id}/upload-photo`),{method:"POST",body:d})).json();p.success?(s(p.profileImageUrl),t({profileImageUrl:p.profileImageUrl}),alert("Profile picture updated successfully!")):alert(p.message||"Failed to update profile picture.")}catch(h){console.error("Upload error:",h),alert("Failed to connect to the server or upload picture.")}};return a.jsx("div",{className:`p-8 font-sans min-h-full transition-colors duration-300 ${n==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:a.jsxs("div",{className:"max-w-2xl mx-auto bg-card border border-border rounded-2xl shadow-lg p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-foreground",children:"My Profile"}),a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsxs("div",{className:"relative w-32 h-32 group mb-4",children:[a.jsx("img",{src:r?`${oe("")}${r}`:`https://ui-avatars.com/api/?name=${e.firstName}+${e.lastName}&background=1c1c1e&color=a0a0a0&bold=true`,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary"}),a.jsx("input",{type:"file",ref:i,onChange:o,className:"hidden",accept:"image/*"}),a.jsx("button",{onClick:()=>{var l;return(l=i.current)==null?void 0:l.click()},className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(X_,{className:"w-8 h-8 text-white"})})]}),a.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:[e.firstName," ",e.lastName]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:e.role.charAt(0).toUpperCase()+e.role.slice(1)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-muted-foreground",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Employee ID:"})," ",e.employeeId]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone:"})," ",e.phone||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Department:"})," ",e.departmentName||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Hire Date:"})," ",e.hireDate?new Date(e.hireDate).toLocaleDateString():"N/A"]})]})]})]})})};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function Rce(e,t){if($d(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oce(e){var t=Rce(e,"string");return $d(t)=="symbol"?t:t+""}function $ce(e,t,n){return(t=Oce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){$ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var IE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),RE=function(){return Math.random().toString(36).substring(7).split("").join(".")},OE={INIT:"@@redux/INIT"+RE(),REPLACE:"@@redux/REPLACE"+RE()};function Fce(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function _3(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xn(1));return n(_3)(e,t)}if(typeof e!="function")throw new Error(Xn(2));var s=e,i=t,o=[],l=o,u=!1;function d(){l===o&&(l=o.slice())}function f(){if(u)throw new Error(Xn(3));return i}function h(b){if(typeof b!="function")throw new Error(Xn(4));if(u)throw new Error(Xn(5));var N=!0;return d(),l.push(b),function(){if(N){if(u)throw new Error(Xn(6));N=!1,d();var _=l.indexOf(b);l.splice(_,1),o=null}}}function p(b){if(!Fce(b))throw new Error(Xn(7));if(typeof b.type>"u")throw new Error(Xn(8));if(u)throw new Error(Xn(9));try{u=!0,i=s(i,b)}finally{u=!1}for(var N=o=l,v=0;v<N.length;v++){var _=N[v];_()}return b}function y(b){if(typeof b!="function")throw new Error(Xn(10));s=b,p({type:OE.REPLACE})}function w(){var b,N=h;return b={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(Xn(11));function j(){_.next&&_.next(f())}j();var S=N(j);return{unsubscribe:S}}},b[IE]=function(){return this},b}return p({type:OE.INIT}),r={dispatch:p,subscribe:h,getState:f,replaceReducer:y},r[IE]=w,r}function $E(e,t){return function(){return t(e.apply(this,arguments))}}function FE(e,t){if(typeof e=="function")return $E(e,t);if(typeof e!="object"||e===null)throw new Error(Xn(16));var n={};for(var r in e){var s=e[r];typeof s=="function"&&(n[r]=$E(s,t))}return n}function j3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function zce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(Xn(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(u){return u(o)});return i=j3.apply(void 0,l)(s.dispatch),LE(LE({},s),{},{dispatch:i})}}}var N3={exports:{}},S3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=g;function Bce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vce=typeof Object.is=="function"?Object.is:Bce,Uce=fc.useState,Wce=fc.useEffect,Hce=fc.useLayoutEffect,Gce=fc.useDebugValue;function qce(e,t){var n=t(),r=Uce({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Hce(function(){s.value=n,s.getSnapshot=t,tv(s)&&i({inst:s})},[e,n,t]),Wce(function(){return tv(s)&&i({inst:s}),e(function(){tv(s)&&i({inst:s})})},[e]),Gce(n),n}function tv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vce(e,n)}catch{return!0}}function Yce(e,t){return t()}var Zce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yce:qce;S3.useSyncExternalStore=fc.useSyncExternalStore!==void 0?fc.useSyncExternalStore:Zce;N3.exports=S3;var k3=N3.exports,Kce={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=g,Xce=k3;function Jce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qce=typeof Object.is=="function"?Object.is:Jce,eue=Xce.useSyncExternalStore,tue=Fg.useRef,nue=Fg.useEffect,rue=Fg.useMemo,sue=Fg.useDebugValue;Kce.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=tue(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=rue(function(){function u(y){if(!d){if(d=!0,f=y,y=r(y),s!==void 0&&o.hasValue){var w=o.value;if(s(w,y))return h=w}return h=y}if(w=h,Qce(f,y))return w;var b=r(y);return s!==void 0&&s(w,b)?(f=y,w):(f=y,h=b)}var d=!1,f,h,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,s]);var l=eue(e,i[0],i[1]);return nue(function(){o.hasValue=!0,o.value=l},[l]),sue(l),l};function iue(e){e()}let C3=iue;const oue=e=>C3=e,aue=()=>C3,zE=Symbol.for("react-redux-context"),BE=typeof globalThis<"u"?globalThis:{};function lue(){var e;if(!g.createContext)return{};const t=(e=BE[zE])!=null?e:BE[zE]=new Map;let n=t.get(g.createContext);return n||(n=g.createContext(null),t.set(g.createContext,n)),n}const P3=lue(),cue=()=>{throw new Error("uSES not initialized!")};var T3={exports:{}},gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xn=typeof Symbol=="function"&&Symbol.for,hN=xn?Symbol.for("react.element"):60103,pN=xn?Symbol.for("react.portal"):60106,zg=xn?Symbol.for("react.fragment"):60107,Bg=xn?Symbol.for("react.strict_mode"):60108,Vg=xn?Symbol.for("react.profiler"):60114,Ug=xn?Symbol.for("react.provider"):60109,Wg=xn?Symbol.for("react.context"):60110,mN=xn?Symbol.for("react.async_mode"):60111,Hg=xn?Symbol.for("react.concurrent_mode"):60111,Gg=xn?Symbol.for("react.forward_ref"):60112,qg=xn?Symbol.for("react.suspense"):60113,uue=xn?Symbol.for("react.suspense_list"):60120,Yg=xn?Symbol.for("react.memo"):60115,Zg=xn?Symbol.for("react.lazy"):60116,due=xn?Symbol.for("react.block"):60121,fue=xn?Symbol.for("react.fundamental"):60117,hue=xn?Symbol.for("react.responder"):60118,pue=xn?Symbol.for("react.scope"):60119;function Nr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hN:switch(e=e.type,e){case mN:case Hg:case zg:case Vg:case Bg:case qg:return e;default:switch(e=e&&e.$$typeof,e){case Wg:case Gg:case Zg:case Yg:case Ug:return e;default:return t}}case pN:return t}}}function E3(e){return Nr(e)===Hg}gt.AsyncMode=mN;gt.ConcurrentMode=Hg;gt.ContextConsumer=Wg;gt.ContextProvider=Ug;gt.Element=hN;gt.ForwardRef=Gg;gt.Fragment=zg;gt.Lazy=Zg;gt.Memo=Yg;gt.Portal=pN;gt.Profiler=Vg;gt.StrictMode=Bg;gt.Suspense=qg;gt.isAsyncMode=function(e){return E3(e)||Nr(e)===mN};gt.isConcurrentMode=E3;gt.isContextConsumer=function(e){return Nr(e)===Wg};gt.isContextProvider=function(e){return Nr(e)===Ug};gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hN};gt.isForwardRef=function(e){return Nr(e)===Gg};gt.isFragment=function(e){return Nr(e)===zg};gt.isLazy=function(e){return Nr(e)===Zg};gt.isMemo=function(e){return Nr(e)===Yg};gt.isPortal=function(e){return Nr(e)===pN};gt.isProfiler=function(e){return Nr(e)===Vg};gt.isStrictMode=function(e){return Nr(e)===Bg};gt.isSuspense=function(e){return Nr(e)===qg};gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zg||e===Hg||e===Vg||e===Bg||e===qg||e===uue||typeof e=="object"&&e!==null&&(e.$$typeof===Zg||e.$$typeof===Yg||e.$$typeof===Ug||e.$$typeof===Wg||e.$$typeof===Gg||e.$$typeof===fue||e.$$typeof===hue||e.$$typeof===pue||e.$$typeof===due)};gt.typeOf=Nr;T3.exports=gt;var mue=T3.exports,gN=mue,gue={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yue={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xue={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},M3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yN={};yN[gN.ForwardRef]=xue;yN[gN.Memo]=M3;function VE(e){return gN.isMemo(e)?M3:yN[e.$$typeof]||gue}var vue=Object.defineProperty,bue=Object.getOwnPropertyNames,UE=Object.getOwnPropertySymbols,wue=Object.getOwnPropertyDescriptor,_ue=Object.getPrototypeOf,WE=Object.prototype;function D3(e,t,n){if(typeof t!="string"){if(WE){var r=_ue(t);r&&r!==WE&&D3(e,r,n)}var s=bue(t);UE&&(s=s.concat(UE(t)));for(var i=VE(e),o=VE(t),l=0;l<s.length;++l){var u=s[l];if(!yue[u]&&!(n&&n[u])&&!(o&&o[u])&&!(i&&i[u])){var d=wue(t,u);try{vue(e,u,d)}catch{}}}}return e}var jue=D3;const HE=gn(jue);var A3={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN=Symbol.for("react.element"),vN=Symbol.for("react.portal"),Kg=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),Jg=Symbol.for("react.profiler"),Qg=Symbol.for("react.provider"),e0=Symbol.for("react.context"),Nue=Symbol.for("react.server_context"),t0=Symbol.for("react.forward_ref"),n0=Symbol.for("react.suspense"),r0=Symbol.for("react.suspense_list"),s0=Symbol.for("react.memo"),i0=Symbol.for("react.lazy"),Sue=Symbol.for("react.offscreen"),L3;L3=Symbol.for("react.module.reference");function qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xN:switch(e=e.type,e){case Kg:case Jg:case Xg:case n0:case r0:return e;default:switch(e=e&&e.$$typeof,e){case Nue:case e0:case t0:case i0:case s0:case Qg:return e;default:return t}}case vN:return t}}}yt.ContextConsumer=e0;yt.ContextProvider=Qg;yt.Element=xN;yt.ForwardRef=t0;yt.Fragment=Kg;yt.Lazy=i0;yt.Memo=s0;yt.Portal=vN;yt.Profiler=Jg;yt.StrictMode=Xg;yt.Suspense=n0;yt.SuspenseList=r0;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(e){return qr(e)===e0};yt.isContextProvider=function(e){return qr(e)===Qg};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xN};yt.isForwardRef=function(e){return qr(e)===t0};yt.isFragment=function(e){return qr(e)===Kg};yt.isLazy=function(e){return qr(e)===i0};yt.isMemo=function(e){return qr(e)===s0};yt.isPortal=function(e){return qr(e)===vN};yt.isProfiler=function(e){return qr(e)===Jg};yt.isStrictMode=function(e){return qr(e)===Xg};yt.isSuspense=function(e){return qr(e)===n0};yt.isSuspenseList=function(e){return qr(e)===r0};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Kg||e===Jg||e===Xg||e===n0||e===r0||e===Sue||typeof e=="object"&&e!==null&&(e.$$typeof===i0||e.$$typeof===s0||e.$$typeof===Qg||e.$$typeof===e0||e.$$typeof===t0||e.$$typeof===L3||e.getModuleId!==void 0)};yt.typeOf=qr;A3.exports=yt;var kue=A3.exports;const Cue=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Pue(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,u,d,f,h,p;function y(_,j){return u=_,d=j,f=e(u,d),h=t(r,d),p=n(f,h,d),l=!0,p}function w(){return f=e(u,d),t.dependsOnOwnProps&&(h=t(r,d)),p=n(f,h,d),p}function b(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(h=t(r,d)),p=n(f,h,d),p}function N(){const _=e(u,d),j=!o(_,f);return f=_,j&&(p=n(f,h,d)),p}function v(_,j){const S=!i(j,d),P=!s(_,u,j,d);return u=_,d=j,S&&P?w():S?b():P?N():p}return function(j,S){return l?v(j,S):y(j,S)}}function Tue(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s}=t,i=Cj(t,Cue);const o=n(e,i),l=r(e,i),u=s(e,i);return Pue(o,l,u,e,i)}function Eue(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...i)=>t(s(...i)))}return n}function s1(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function GE(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function I3(e,t){return function(r,{displayName:s}){const i=function(l,u){return i.dependsOnOwnProps?i.mapToProps(l,u):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,u){i.mapToProps=e,i.dependsOnOwnProps=GE(e);let d=i(l,u);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=GE(d),d=i(l,u)),d},i}}function bN(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Mue(e){return e&&typeof e=="object"?s1(t=>Eue(e,t)):e?typeof e=="function"?I3(e):bN(e,"mapDispatchToProps"):s1(t=>({dispatch:t}))}function Due(e){return e?typeof e=="function"?I3(e):bN(e,"mapStateToProps"):s1(()=>({}))}function Aue(e,t,n){return gi({},n,e,t)}function Lue(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,o;return function(u,d,f){const h=e(u,d,f);return i?s(h,o)||(o=h):(i=!0,o=h),o}}}function Iue(e){return e?typeof e=="function"?Lue(e):bN(e,"mergeProps"):()=>Aue}function Rue(){const e=aue();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],s=t;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0,i=n={callback:r,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){!s||t===null||(s=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}const qE={notify(){},get:()=>[]};function R3(e,t){let n,r=qE,s=0,i=!1;function o(b){f();const N=r.subscribe(b);let v=!1;return()=>{v||(v=!0,N(),h())}}function l(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function d(){return i}function f(){s++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=Rue())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=qE)}function p(){i||(i=!0,f())}function y(){i&&(i=!1,h())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return w}const Oue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sm=Oue?g.useLayoutEffect:g.useEffect;function YE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function nv(e,t){if(YE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!YE(e[n[s]],t[n[s]]))return!1;return!0}const $ue=["reactReduxForwardedRef"];let O3=cue;const Fue=e=>{O3=e},zue=[null,null];function Bue(e,t,n){Sm(()=>e(...t),n)}function Vue(e,t,n,r,s,i){e.current=r,n.current=!1,s.current&&(s.current=null,i())}function Uue(e,t,n,r,s,i,o,l,u,d,f){if(!e)return()=>{};let h=!1,p=null;const y=()=>{if(h||!l.current)return;const b=t.getState();let N,v;try{N=r(b,s.current)}catch(_){v=_,p=_}v||(p=null),N===i.current?o.current||d():(i.current=N,u.current=N,o.current=!0,f())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function Wue(e,t){return e===t}function $3(e,t,n,{pure:r,areStatesEqual:s=Wue,areOwnPropsEqual:i=nv,areStatePropsEqual:o=nv,areMergedPropsEqual:l=nv,forwardRef:u=!1,context:d=P3}={}){const f=d,h=Due(e),p=Mue(t),y=Iue(n),w=!!e;return N=>{const v=N.displayName||N.name||"Component",_=`Connect(${v})`,j={shouldHandleStateChanges:w,displayName:_,wrappedComponentName:v,WrappedComponent:N,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:y,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function S(C){const[T,D,R]=g.useMemo(()=>{const{reactReduxForwardedRef:ce}=C,ue=Cj(C,$ue);return[C.context,ce,ue]},[C]),F=g.useMemo(()=>T&&T.Consumer&&kue.isContextConsumer(g.createElement(T.Consumer,null))?T:f,[T,f]),A=g.useContext(F),O=!!C.store&&!!C.store.getState&&!!C.store.dispatch,$=!!A&&!!A.store,K=O?C.store:A.store,te=$?A.getServerState:K.getState,W=g.useMemo(()=>Tue(K.dispatch,j),[K]),[z,V]=g.useMemo(()=>{if(!w)return zue;const ce=R3(K,O?void 0:A.subscription),ue=ce.notifyNestedSubs.bind(ce);return[ce,ue]},[K,O,A]),q=g.useMemo(()=>O?A:gi({},A,{subscription:z}),[O,A,z]),Z=g.useRef(),X=g.useRef(R),G=g.useRef(),ae=g.useRef(!1);g.useRef(!1);const fe=g.useRef(!1),ge=g.useRef();Sm(()=>(fe.current=!0,()=>{fe.current=!1}),[]);const be=g.useMemo(()=>()=>G.current&&R===X.current?G.current:W(K.getState(),R),[K,R]),ke=g.useMemo(()=>ue=>z?Uue(w,K,z,W,X,Z,ae,fe,G,V,ue):()=>{},[z]);Bue(Vue,[X,Z,ae,R,G,V]);let re;try{re=O3(ke,be,te?()=>W(te(),R):be)}catch(ce){throw ge.current&&(ce.message+=`
The error may be correlated with this previous error:
${ge.current.stack}

`),ce}Sm(()=>{ge.current=void 0,G.current=void 0,Z.current=re});const me=g.useMemo(()=>g.createElement(N,gi({},re,{ref:D})),[D,N,re]);return g.useMemo(()=>w?g.createElement(F.Provider,{value:q},me):me,[F,me,q])}const E=g.memo(S);if(E.WrappedComponent=N,E.displayName=S.displayName=_,u){const T=g.forwardRef(function(R,F){return g.createElement(E,gi({},R,{reactReduxForwardedRef:F}))});return T.displayName=_,T.WrappedComponent=N,HE(T,N)}return HE(E,N)}}function Hue({store:e,context:t,children:n,serverState:r,stabilityCheck:s="once",noopCheck:i="once"}){const o=g.useMemo(()=>{const d=R3(e);return{store:e,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:s,noopCheck:i}},[e,r,s,i]),l=g.useMemo(()=>e.getState(),[e]);Sm(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=t||P3;return g.createElement(u.Provider,{value:o},n)}Fue(k3.useSyncExternalStore);oue(Di.unstable_batchedUpdates);function Gue(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function F3(e,t){var n=g.useState(function(){return{inputs:t,result:e()}})[0],r=g.useRef(!0),s=g.useRef(n),i=r.current||!!(t&&s.current.inputs&&Gue(t,s.current.inputs)),o=i?s.current:{inputs:t,result:e()};return g.useEffect(function(){r.current=!1,s.current=o},[o]),o.result}function que(e,t){return F3(function(){return e},t)}var it=F3,Ie=que,Yue="Invariant failed";function Zue(e,t){throw new Error(Yue)}var ss=function(t){var n=t.top,r=t.right,s=t.bottom,i=t.left,o=r-i,l=s-n,u={top:n,right:r,bottom:s,left:i,width:o,height:l,x:i,y:n,center:{x:(r+i)/2,y:(s+n)/2}};return u},wN=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},ZE=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Kue=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},rv={top:0,right:0,bottom:0,left:0},_N=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?rv:r,i=t.border,o=i===void 0?rv:i,l=t.padding,u=l===void 0?rv:l,d=ss(wN(n,s)),f=ss(ZE(n,o)),h=ss(ZE(f,u));return{marginBox:d,borderBox:ss(n),paddingBox:f,contentBox:h,margin:s,border:o,padding:u}},Tr=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&Zue(),s},Xue=function(){return{x:window.pageXOffset,y:window.pageYOffset}},km=function(t,n){var r=t.borderBox,s=t.border,i=t.margin,o=t.padding,l=Kue(r,n);return _N({borderBox:l,border:s,margin:i,padding:o})},Cm=function(t,n){return n===void 0&&(n=Xue()),km(t,n)},z3=function(t,n){var r={top:Tr(n.marginTop),right:Tr(n.marginRight),bottom:Tr(n.marginBottom),left:Tr(n.marginLeft)},s={top:Tr(n.paddingTop),right:Tr(n.paddingRight),bottom:Tr(n.paddingBottom),left:Tr(n.paddingLeft)},i={top:Tr(n.borderTopWidth),right:Tr(n.borderRightWidth),bottom:Tr(n.borderBottomWidth),left:Tr(n.borderLeftWidth)};return _N({borderBox:t,margin:r,padding:s,border:i})},B3=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return z3(n,r)},KE=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Jue(e,t){return!!(e===t||KE(e)&&KE(t))}function Que(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Jue(e[n],t[n]))return!1;return!0}function pn(e,t){t===void 0&&(t=Que);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var o=e.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}var Fd=function(t){var n=[],r=null,s=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function V3(e,t){}V3.bind(null,"warn");V3.bind(null,"error");function fo(){}function ede(e,t){return{...e,...t}}function Or(e,t,n){const r=t.map(s=>{const i=ede(n,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){r.forEach(i=>{i()})}}const tde="Invariant failed";class Pm extends Error{}Pm.prototype.toString=function(){return this.message};function Se(e,t){throw new Pm(tde)}class nde extends nt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=fo,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Pm&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Or(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Pm){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const rde=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Tm=e=>e+1,sde=e=>`
  You have lifted an item in position ${Tm(e.source.index)}
`,U3=(e,t)=>{const n=e.droppableId===t.droppableId,r=Tm(e.index),s=Tm(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},W3=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,ide=e=>{const t=e.destination;if(t)return U3(e.source,t);const n=e.combine;return n?W3(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},XE=e=>`
  The item has returned to its starting position
  of ${Tm(e.index)}
`,ode=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${XE(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${U3(e.source,t)}
    `:n?`
      You have dropped the item.
      ${W3(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${XE(e.source)}
  `},ade={dragHandleUsageInstructions:rde,onDragStart:sde,onDragUpdate:ide,onDragEnd:ode};var cp=ade;const mn={x:0,y:0},jn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),hr=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ho=(e,t)=>e.x===t.x&&e.y===t.y,Fc=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),ka=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},zd=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),JE=(e,t)=>Math.min(...t.map(n=>zd(e,n))),H3=e=>t=>({x:e(t.x),y:e(t.y)});var lde=(e,t)=>{const n=ss({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const yf=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),QE=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],cde={top:0,right:0,bottom:0,left:0},ude=(e,t)=>t?yf(e,t.scroll.diff.displacement):e,dde=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,fde=(e,t)=>t&&t.shouldClipSubject?lde(t.pageMarginBox,e):ss(e);var hc=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=ude(e.marginBox,r),i=dde(s,n,t),o=fde(i,r);return{page:e,withPlaceholder:t,active:o}},jN=(e,t)=>{e.frame||Se();const n=e.frame,r=hr(t,n.scroll.initial),s=Fc(r),i={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},o=hc({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};const G3=pn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),q3=pn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),o0=pn(e=>Object.values(e)),hde=pn(e=>Object.values(e));var zc=pn((e,t)=>hde(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function NN(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function a0(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var l0=pn((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),pde=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!NN(s))return null;function o(y){const w={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...s,at:w}}const l=s.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=l0(t,r);if(!u){if(!d.length)return null;const y=d[d.length-1];return o(y.descriptor.id)}const f=d.findIndex(y=>y.descriptor.id===u);f===-1&&Se();const h=f-1;if(h<0)return null;const p=d[h];return o(p.descriptor.id)},Bc=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Y3={point:mn,value:0},Bd={invisible:{},visible:{},all:[]},mde={displaced:Bd,displacedBy:Y3,at:null};var gde=mde,Vr=(e,t)=>n=>e<=n&&n<=t,Z3=e=>{const t=Vr(e.top,e.bottom),n=Vr(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&o||d&&i}},yde=e=>{const t=Vr(e.top,e.bottom),n=Vr(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const SN={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},K3={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var xde=e=>t=>{const n=Vr(t.top,t.bottom),r=Vr(t.left,t.right);return s=>e===SN?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const vde=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:mn;return yf(e,n)},bde=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,wde=(e,t,n)=>n(t)(e),kN=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const i=r?vde(e,t):e;return bde(i,t,s)&&wde(i,n,s)},_de=e=>kN({...e,isVisibleThroughFrameFn:Z3}),X3=e=>kN({...e,isVisibleThroughFrameFn:yde}),jde=e=>kN({...e,isVisibleThroughFrameFn:xde(e.destination.axis)}),Nde=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const i=s[e];return i?i.shouldAnimate:!0};function Sde(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ss(wN(n,r))}function Vd({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:i}){return e.reduce(function(l,u){const d=Sde(u,n),f=u.descriptor.id;if(l.all.push(f),!_de({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const p=Nde(f,i,s),y={draggableId:f,shouldAnimate:p};return l.visible[f]=y,l},{all:[],visible:{},invisible:{}})}function kde(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function eM({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=kde(e,{inHomeList:t});return{displaced:Bd,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Em({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:i,index:o,forceShouldAnimate:l}){const u=Bc(e,n);if(o==null)return eM({insideDestination:t,inHomeList:u,displacedBy:s,destination:n});const d=t.find(w=>w.descriptor.index===o);if(!d)return eM({insideDestination:t,inHomeList:u,displacedBy:s,destination:n});const f=l0(e,t),h=t.indexOf(d),p=f.slice(h);return{displaced:Vd({afterDragging:p,destination:n,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function vo(e,t){return!!t.effected[e]}var Cde=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=r.draggableId,l=n[i].descriptor.index;return vo(i,s)?e?l:l-1:e?l+1:l},Pde=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,i=e?s+1:s-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return i<o||i>u?null:i},Tde=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:i,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||Se(),d.type==="REORDER"){const h=Pde({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return h==null?null:Em({draggable:n,insideDestination:i,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})}const f=Cde({isMovingForward:e,destination:s,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:u});return f==null?null:Em({draggable:n,insideDestination:i,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})},Ede=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return vo(n,t)?s?mn:Fc(r.point):s?r.point:mn},Mde=({afterCritical:e,impact:t,draggables:n})=>{const r=a0(t);r||Se();const s=r.draggableId,i=n[s].page.borderBox.center,o=Ede({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return jn(i,o)};const J3=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Dde=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,CN=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,tM=({axis:e,moveRelativeTo:t,isMoving:n})=>ka(e.line,t.marginBox[e.end]+J3(e,n),CN(e,t.marginBox,n)),nM=({axis:e,moveRelativeTo:t,isMoving:n})=>ka(e.line,t.marginBox[e.start]-Dde(e,n),CN(e,t.marginBox,n)),Ade=({axis:e,moveInto:t,isMoving:n})=>ka(e.line,t.contentBox[e.start]+J3(e,n),CN(e,t.contentBox,n));var Lde=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const i=zc(r.descriptor.id,n),o=t.page,l=r.axis;if(!i.length)return Ade({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:d}=e,f=u.all[0];if(f){const p=n[f];if(vo(f,s))return nM({axis:l,moveRelativeTo:p.page,isMoving:o});const y=km(p.page,d.point);return nM({axis:l,moveRelativeTo:y,isMoving:o})}const h=i[i.length-1];if(h.descriptor.id===t.descriptor.id)return o.borderBox.center;if(vo(h.descriptor.id,s)){const p=km(h.page,Fc(s.displacedBy.point));return tM({axis:l,moveRelativeTo:p,isMoving:o})}return tM({axis:l,moveRelativeTo:h.page,isMoving:o})},i1=(e,t)=>{const n=e.frame;return n?jn(t,n.scroll.diff.displacement):t};const Ide=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const i=t.page.borderBox.center,o=e.at;return!n||!o?i:o.type==="REORDER"?Lde({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):Mde({impact:e,draggables:r,afterCritical:s})};var c0=e=>{const t=Ide(e),n=e.droppable;return n?i1(n,t):t},Q3=(e,t)=>{const n=hr(t,e.scroll.initial),r=Fc(n);return{frame:ss({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function rM(e,t){return e.map(n=>t[n])}function Rde(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var Ode=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const i=Q3(t,jn(t.scroll.current,s)),o=n.frame?jN(n,jn(n.frame.scroll.current,s)):n,l=e.displaced,u=Vd({afterDragging:rM(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=Vd({afterDragging:rM(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),f={},h={},p=[l,u,d];return l.all.forEach(w=>{const b=Rde(w,p);if(b){h[w]=b;return}f[w]=!0}),{...e,displaced:{all:l.all,invisible:f,visible:h}}},$de=(e,t)=>jn(e.scroll.diff.displacement,t),PN=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=$de(n,e),s=hr(r,t.page.borderBox.center);return jn(t.client.borderBox.center,s)},e$=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const o=hr(n,e.page.borderBox.center),u={target:yf(e.page.borderBox,o),destination:t,withDroppableDisplacement:s,viewport:r};return i?jde(u):X3(u)},Fde=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=zc(n.descriptor.id,r),f=Bc(t,n),h=pde({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:s})||Tde({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:s,viewport:i,afterCritical:u});if(!h)return null;const p=c0({impact:h,draggable:t,droppable:n,draggables:r,afterCritical:u});if(e$({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:PN({pageBorderBoxCenter:p,draggable:t,viewport:i}),impact:h,scrollJumpRequest:null};const w=hr(p,o),b=Ode({impact:h,viewport:i,destination:n,draggables:r,maxScrollChange:w});return{clientSelection:l,impact:b,scrollJumpRequest:w}};const Rn=e=>{const t=e.subject.active;return t||Se(),t};var zde=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const i=n.subject.active;if(!i)return null;const o=n.axis,l=Vr(i[o.start],i[o.end]),u=o0(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>Z3(s.frame)(Rn(f))).filter(f=>{const h=Rn(f);return e?i[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<i[o.crossAxisStart]}).filter(f=>{const h=Rn(f),p=Vr(h[o.start],h[o.end]);return l(h[o.start])||l(h[o.end])||p(i[o.start])||p(i[o.end])}).sort((f,h)=>{const p=Rn(f)[o.crossAxisStart],y=Rn(h)[o.crossAxisStart];return e?p-y:y-p}).filter((f,h,p)=>Rn(f)[o.crossAxisStart]===Rn(p[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(f=>Vr(Rn(f)[o.start],Rn(f)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((f,h)=>Rn(f)[o.start]-Rn(h)[o.start])[0]:u.sort((f,h)=>{const p=JE(t,QE(Rn(f))),y=JE(t,QE(Rn(h)));return p!==y?p-y:Rn(f)[o.start]-Rn(h)[o.start]})[0]};const sM=(e,t)=>{const n=e.page.borderBox.center;return vo(e.descriptor.id,t)?hr(n,t.displacedBy.point):n},Bde=(e,t)=>{const n=e.page.borderBox;return vo(e.descriptor.id,t)?yf(n,Fc(t.displacedBy.point)):n};var Vde=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(o=>X3({target:Bde(o,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=zd(e,i1(n,sM(o,s))),d=zd(e,i1(n,sM(l,s)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,xf=pn(function(t,n){const r=n[t.line];return{value:r,point:ka(t.line,r)}});const Ude=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return ka(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],u=zc(e.descriptor.id,n).reduce((d,f)=>d+f.client.marginBox[r.size],0)+t[r.line]-s;return u<=0?null:ka(r.line,u)},t$=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),n$=(e,t,n)=>{const r=e.frame;Bc(t,e)&&Se(),e.subject.withPlaceholder&&Se();const s=xf(e.axis,t.displaceBy).point,i=Ude(e,s,n),o={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=hc({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:f}}const l=i?jn(r.scroll.max,i):r.scroll.max,u=t$(r,l),d=hc({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},Wde=e=>{const t=e.subject.withPlaceholder;t||Se();const n=e.frame;if(!n){const o=hc({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Se();const s=t$(n,r),i=hc({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}};var Hde=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:i,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const h={displaced:Bd,displacedBy:Y3,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},p=c0({impact:h,draggable:r,droppable:i,draggables:s,afterCritical:l}),y=Bc(r,i)?i:n$(i,r,s);return e$({draggable:r,destination:y,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const u=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const h=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?h:h+1})(),f=xf(i.axis,r.displaceBy);return Em({draggable:r,insideDestination:n,destination:i,viewport:o,displacedBy:f,last:Bd,index:d})},Gde=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:i,viewport:o,afterCritical:l})=>{const u=zde({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:i,viewport:o});if(!u)return null;const d=zc(u.descriptor.id,s),f=Vde({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),h=Hde({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:s,moveRelativeTo:f,insideDestination:d,viewport:o,afterCritical:l});if(!h)return null;const p=c0({impact:h,draggable:n,droppable:u,draggables:s,afterCritical:l});return{clientSelection:PN({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:h,scrollJumpRequest:null}},gr=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const qde=(e,t)=>{const n=gr(e);return n?t[n]:null};var Yde=({state:e,type:t})=>{const n=qde(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],i=n||s,o=i.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:h,droppables:p}=e.dimensions;return l?Fde({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:i,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Gde({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:i,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Uo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function r$(e){const t=Vr(e.top,e.bottom),n=Vr(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function Zde(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Kde({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(i=>{const o=i.axis,l=ka(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:zd(r,l)}}).sort((i,o)=>o.distance-i.distance);return s[0]?s[0].id:null}function Xde({pageBorderBox:e,draggable:t,droppables:n}){const r=o0(n).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!Zde(e,i))return!1;if(r$(i)(e.center))return!0;const o=s.axis,l=i.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],f=Vr(i[o.crossAxisStart],i[o.crossAxisEnd]),h=f(u),p=f(d);return!h&&!p?!0:h?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:Kde({pageBorderBox:e,draggable:t,candidates:r}):null}const s$=(e,t)=>ss(yf(e,t));var Jde=(e,t)=>{const n=e.frame;return n?s$(t,n.scroll.diff.value):t};function i$({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Qde({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var efe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:i,afterCritical:o})=>{const l=n.axis,u=xf(n.axis,t.displaceBy),d=u.value,f=e[l.start],h=e[l.end],y=l0(t,r).find(b=>{const N=b.descriptor.id,v=b.page.borderBox.center[l.line],_=vo(N,o),j=i$({displaced:s,id:N});return _?j?h<=v:f<v-d:j?h<=v+d:f<v})||null,w=Qde({draggable:t,closest:y,inHomeList:Bc(t,n)});return Em({draggable:t,insideDestination:r,destination:n,viewport:i,last:s,displacedBy:u,index:w})};const tfe=4;var nfe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=xf(r.axis,e.displaceBy),u=l.value,d=t[o.start],f=t[o.end],p=l0(e,s).find(w=>{const b=w.descriptor.id,N=w.page.borderBox,_=N[o.size]/tfe,j=vo(b,i),S=i$({displaced:n.displaced,id:b});return j?S?f>N[o.start]+_&&f<N[o.end]-_:d>N[o.start]-u+_&&d<N[o.end]-u-_:S?f>N[o.start]+u+_&&f<N[o.end]+u-_:d>N[o.start]+_&&d<N[o.end]-_});return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},o$=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:i,afterCritical:o})=>{const l=s$(t.page.borderBox,e),u=Xde({pageBorderBox:l,draggable:t,droppables:r});if(!u)return gde;const d=r[u],f=zc(d.descriptor.id,n),h=Jde(d,l);return nfe({pageBorderBoxWithDroppableScroll:h,draggable:t,previousImpact:s,destination:d,insideDestination:f,afterCritical:o})||efe({pageBorderBoxWithDroppableScroll:h,draggable:t,destination:d,insideDestination:f,last:s.displaced,viewport:i,afterCritical:o})},TN=(e,t)=>({...e,[t.descriptor.id]:t});const rfe=({previousImpact:e,impact:t,droppables:n})=>{const r=gr(e),s=gr(t);if(!r||r===s)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const o=Wde(i);return TN(n,o)};var sfe=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const i=rfe({previousImpact:r,impact:s,droppables:n}),o=gr(s);if(!o)return i;const l=n[o];if(Bc(e,l)||l.subject.withPlaceholder)return i;const u=n$(l,e,t);return TN(i,u)},Xu=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:i})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=hr(u,e.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:jn(e.initial.client.borderBoxCenter,d)},h={selection:jn(f.selection,o.scroll.current),borderBoxCenter:jn(f.borderBoxCenter,o.scroll.current),offset:jn(f.offset,o.scroll.diff.value)},p={client:f,page:h};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:p};const y=l.draggables[e.critical.draggable.id],w=s||o$({pageOffset:h.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),b=sfe({draggable:y,impact:w,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:p,dimensions:{draggables:l.draggables,droppables:b},impact:w,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function ife(e,t){return e.map(n=>t[n])}var a$=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const i=e.displaced,o=ife(i.all,n),l=Vd({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:l}},l$=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:i})=>{const o=c0({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i});return PN({pageBorderBoxCenter:o,draggable:t,viewport:s})},c$=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Se();const r=e.impact,s=n||e.viewport,i=t||e.dimensions,{draggables:o,droppables:l}=i,u=o[e.critical.draggable.id],d=gr(r);d||Se();const f=l[d],h=a$({impact:r,viewport:s,destination:f,draggables:o}),p=l$({impact:h,draggable:u,droppable:f,draggables:o,viewport:s,afterCritical:e.afterCritical});return Xu({impact:h,clientSelection:p,state:e,dimensions:i,viewport:s})},ofe=e=>({index:e.index,droppableId:e.droppableId}),u$=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=xf(t.axis,e.displaceBy),i=zc(t.descriptor.id,n),o=i.indexOf(e);o===-1&&Se();const l=i.slice(o+1),u=l.reduce((p,y)=>(p[y.descriptor.id]=!0,p),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:u};return{impact:{displaced:Vd({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:ofe(e.descriptor)}},afterCritical:d}},afe=(e,t)=>({draggables:e.draggables,droppables:TN(e.droppables,t)}),lfe=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=km(e.client,t),s=Cm(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},cfe=e=>{const t=e.frame;return t||Se(),t},ufe=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,o=t[i],u=cfe(o).scroll.diff.value,d=jn(r,u);return lfe({draggable:s,offset:d,initialWindowScroll:n.scroll.initial})})},dfe=({state:e,published:t})=>{const n=t.modified.map(v=>{const _=e.dimensions.droppables[v.droppableId];return jN(_,v.scroll)}),r={...e.dimensions.droppables,...G3(n)},s=q3(ufe({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(v=>{delete i[v]});const o={droppables:r,draggables:i},l=gr(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],f=o.droppables[e.critical.droppable.id],{impact:h,afterCritical:p}=u$({draggable:d,home:f,draggables:i,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:h,w=o$({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:e.viewport,afterCritical:p}),b={...e,phase:"DRAGGING",impact:w,onLiftImpact:h,dimensions:o,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?b:{...b,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const o1=e=>e.movementMode==="SNAP",sv=(e,t,n)=>{const r=afe(e.dimensions,t);return!o1(e)||n?Xu({state:e,dimensions:r}):c$({state:e,dimensions:r})};function iv(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const iM={phase:"IDLE",completed:null,shouldFlush:!1};var ffe=(e=iM,t)=>{if(t.type==="FLUSH")return{...iM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Se();const{critical:n,clientSelection:r,viewport:s,dimensions:i,movementMode:o}=t.payload,l=i.draggables[n.draggable.id],u=i.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:mn},f={client:d,page:{selection:jn(d.selection,s.scroll.initial),borderBoxCenter:jn(d.selection,s.scroll.initial),offset:jn(d.selection,s.scroll.diff.value)}},h=o0(i.droppables).every(b=>!b.isFixedOnPage),{impact:p,afterCritical:y}=u$({draggable:l,home:u,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:i,initial:f,current:f,isWindowScrollAllowed:h,impact:p,afterCritical:y,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Se(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Se(),dfe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Uo(e)||Se();const{client:n}=t.payload;return ho(n,e.current.client.selection)?e:Xu({state:e,clientSelection:n,impact:o1(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return iv(e);Uo(e)||Se();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const i=jN(s,r);return sv(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Uo(e)||Se();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||Se(),s.isEnabled===r&&Se();const i={...s,isEnabled:r};return sv(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Uo(e)||Se();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||Se(),s.isCombineEnabled===r&&Se();const i={...s,isCombineEnabled:r};return sv(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Uo(e)||Se(),e.isWindowScrollAllowed||Se();const n=t.payload.newScroll;if(ho(e.viewport.scroll.current,n))return iv(e);const r=Q3(e.viewport,n);return o1(e)?c$({state:e,viewport:r}):Xu({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Uo(e))return e;const n=t.payload.maxScroll;if(ho(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Se();const n=Yde({state:e,type:t.type});return n?Xu({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Se(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Se(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};const hfe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),pfe=e=>({type:"LIFT",payload:e}),mfe=e=>({type:"INITIAL_PUBLISH",payload:e}),gfe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),yfe=()=>({type:"COLLECTION_STARTING",payload:null}),xfe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),vfe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),bfe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),d$=e=>({type:"MOVE",payload:e}),wfe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),_fe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),jfe=()=>({type:"MOVE_UP",payload:null}),Nfe=()=>({type:"MOVE_DOWN",payload:null}),Sfe=()=>({type:"MOVE_RIGHT",payload:null}),kfe=()=>({type:"MOVE_LEFT",payload:null}),EN=()=>({type:"FLUSH",payload:null}),Cfe=e=>({type:"DROP_ANIMATE",payload:e}),MN=e=>({type:"DROP_COMPLETE",payload:e}),f$=e=>({type:"DROP",payload:e}),Pfe=e=>({type:"DROP_PENDING",payload:e}),h$=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Tfe=e=>({getState:t,dispatch:n})=>r=>s=>{if(s.type!=="LIFT"){r(s);return}const{id:i,clientSelection:o,movementMode:l}=s.payload,u=t();u.phase==="DROP_ANIMATING"&&n(MN({completed:u.completed})),t().phase!=="IDLE"&&Se(),n(EN()),n(hfe({draggableId:i,movementMode:l}));const f={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:h,dimensions:p,viewport:y}=e.startPublishing(f);n(mfe({critical:h,dimensions:p,clientSelection:o,movementMode:l,viewport:y}))},Efe=e=>()=>t=>n=>{n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)};const DN={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ud={opacity:{drop:0,combining:.7},scale:{drop:.75}},p$={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ro=`${p$.outOfTheWay}s ${DN.outOfTheWay}`,Ju={fluid:`opacity ${Ro}`,snap:`transform ${Ro}, opacity ${Ro}`,drop:e=>{const t=`${e}s ${DN.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Ro}`,placeholder:`height ${Ro}, width ${Ro}, margin ${Ro}`},oM=e=>ho(e,mn)?void 0:`translate(${e.x}px, ${e.y}px)`,a1={moveTo:oM,drop:(e,t)=>{const n=oM(e);if(n)return t?`${n} scale(${Ud.scale.drop})`:n}},{minDropTime:l1,maxDropTime:m$}=p$,Mfe=m$-l1,aM=1500,Dfe=.6;var Afe=({current:e,destination:t,reason:n})=>{const r=zd(e,t);if(r<=0)return l1;if(r>=aM)return m$;const s=r/aM,i=l1+Mfe*s,o=n==="CANCEL"?i*Dfe:i;return Number(o.toFixed(2))},Lfe=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:i,droppables:o}=n,l=gr(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],f=l$({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:u||d,viewport:r});return hr(f,t.client.borderBox.center)},Ife=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:i})=>!n.at||t!=="DROP"?{impact:a$({draggables:e,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Bd},didDropInsideDroppable:!0};const Rfe=({getState:e,dispatch:t})=>n=>r=>{if(r.type!=="DROP"){n(r);return}const s=e(),i=r.payload.reason;if(s.phase==="COLLECTING"){t(Pfe({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&Se(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||Se();const l=s.critical,u=s.dimensions,d=u.draggables[s.critical.draggable.id],{impact:f,didDropInsideDroppable:h}=Ife({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=h?NN(f):null,y=h?a0(f):null,w={index:l.draggable.index,droppableId:l.droppable.id},b={draggableId:d.descriptor.id,type:d.descriptor.type,source:w,reason:i,mode:s.movementMode,destination:p,combine:y},N=Lfe({impact:f,draggable:d,dimensions:u,viewport:s.viewport,afterCritical:s.afterCritical}),v={critical:s.critical,afterCritical:s.afterCritical,result:b,impact:f};if(!(!ho(s.current.client.offset,N)||!!b.combine)){t(MN({completed:v}));return}const j=Afe({current:s.current.client.offset,destination:N,reason:i});t(Cfe({newHomeClientOffset:N,dropDuration:j,completed:v}))};var Ofe=Rfe,g$=()=>({x:window.pageXOffset,y:window.pageYOffset});function $fe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Ffe({onWindowScroll:e}){function t(){e(g$())}const n=Fd(t),r=$fe(n);let s=fo;function i(){return s!==fo}function o(){i()&&Se(),s=Or(window,[r])}function l(){i()||Se(),n.cancel(),s(),s=fo}return{start:o,stop:l,isActive:i}}const zfe=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",Bfe=e=>{const t=Ffe({onWindowScroll:n=>{e.dispatch(wfe({newScroll:n}))}});return n=>r=>{!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&zfe(r)&&t.stop(),n(r)}};var Vfe=Bfe,Ufe=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=i=>{t||n||(t=!0,e(i),clearTimeout(r))};return s.wasCalled=()=>t,s},Wfe=()=>{const e=[],t=s=>{const i=e.findIndex(l=>l.timerId===s);i===-1&&Se();const[o]=e.splice(i,1);o.callback()};return{add:s=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:s};e.push(o)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const Hfe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Gfe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,qfe=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},wu=(e,t)=>{t()},Ah=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ov(e,t,n,r){if(!e){n(r(t));return}const s=Ufe(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var Yfe=(e,t)=>{const n=Wfe();let r=null;const s=(h,p)=>{r&&Se(),wu("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:h,mode:p})})},i=(h,p)=>{r&&Se(),wu("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Ah(h,p))})},o=(h,p)=>{r&&Se();const y=Ah(h,p);r={mode:p,lastCritical:h,lastLocation:y.source,lastCombine:null},n.add(()=>{wu("onDragStart",()=>ov(e().onDragStart,y,t,cp.onDragStart))})},l=(h,p)=>{const y=NN(p),w=a0(p);r||Se();const b=!qfe(h,r.lastCritical);b&&(r.lastCritical=h);const N=!Hfe(r.lastLocation,y);N&&(r.lastLocation=y);const v=!Gfe(r.lastCombine,w);if(v&&(r.lastCombine=w),!b&&!N&&!v)return;const _={...Ah(h,r.mode),combine:w,destination:y};n.add(()=>{wu("onDragUpdate",()=>ov(e().onDragUpdate,_,t,cp.onDragUpdate))})},u=()=>{r||Se(),n.flush()},d=h=>{r||Se(),r=null,wu("onDragEnd",()=>ov(e().onDragEnd,h,t,cp.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:o,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const h={...Ah(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(h)}}},Zfe=(e,t)=>{const n=Yfe(e,t);return r=>s=>i=>{if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){const l=i.payload.critical;n.beforeStart(l,i.payload.movementMode),s(i),n.start(l,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){const l=i.payload.completed.result;n.flush(),s(i),n.drop(l);return}if(s(i),i.type==="FLUSH"){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const Kfe=e=>t=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Se(),e.dispatch(MN({completed:r.completed}))};var Xfe=Kfe;const Jfe=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>i=>{if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&r(),s(i),i.type!=="DROP_ANIMATE")return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(h$())}};n=requestAnimationFrame(()=>{n=null,t=Or(window,[o])})}};var Qfe=Jfe,ehe=e=>()=>t=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)},the=e=>{let t=!1;return()=>n=>r=>{if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const nhe=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var rhe=e=>t=>n=>r=>{if(nhe(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);const s=t.getState();s.phase!=="DRAGGING"&&Se(),e.start(s);return}n(r),e.scroll(t.getState())};const she=e=>t=>n=>{if(t(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(f$({reason:r.reason})))};var ihe=she;const ohe=j3;var ahe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:i})=>_3(ffe,ohe(zce(Efe(n),ehe(e),Tfe(e),Ofe,Xfe,Qfe,ihe,rhe(i),Vfe,the(t),Zfe(r,s))));const av=()=>({additions:{},removals:{},modified:{}});function lhe({registry:e,callbacks:t}){let n=av(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:f}=n,h=Object.keys(u).map(w=>e.draggable.getById(w).getDimension(mn)).sort((w,b)=>w.descriptor.index-b.descriptor.index),p=Object.keys(f).map(w=>{const N=e.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:N}}),y={additions:h,removals:Object.keys(d),modified:p};n=av(),t.publish(y)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],s()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=av())}}}var y$=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=hr({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},x$=()=>{const e=document.documentElement;return e||Se(),e},v$=()=>{const e=x$();return y$({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},che=()=>{const e=g$(),t=v$(),n=e.y,r=e.x,s=x$(),i=s.clientWidth,o=s.clientHeight,l=r+i,u=n+o;return{frame:ss({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:mn,displacement:mn}}}},uhe=({critical:e,scrollOptions:t,registry:n})=>{const r=che(),s=r.scroll.current,i=e.droppable,o=n.droppable.getAllByType(i.type).map(f=>f.callbacks.getDimensionAndWatchScroll(s,t)),l=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(s));return{dimensions:{draggables:q3(l),droppables:G3(o)},critical:e,viewport:r}};function lM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var dhe=(e,t)=>{let n=null;const r=lhe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(p,y)=>{e.droppable.exists(p)||Se(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:y})},i=(p,y)=>{n&&(e.droppable.exists(p)||Se(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:y}))},o=(p,y)=>{n&&(e.droppable.exists(p)||Se(),t.updateDroppableScroll({id:p,newScroll:y}))},l=(p,y)=>{n&&e.droppable.getById(p).callbacks.scroll(y)},u=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},d=p=>{n||Se();const y=n.critical.draggable;p.type==="ADDITION"&&lM(e,y,p.value)&&r.add(p.value),p.type==="REMOVAL"&&lM(e,y,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:p=>{n&&Se();const y=e.draggable.getById(p.draggableId),w=e.droppable.getById(y.descriptor.droppableId),b={draggable:y.descriptor,droppable:w.descriptor},N=e.subscribe(d);return n={critical:b,unsubscribe:N},uhe({critical:b,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:u}},b$=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",fhe=e=>{window.scrollBy(e.x,e.y)};const hhe=pn(e=>o0(e).filter(t=>!(!t.isEnabled||!t.frame))),phe=(e,t)=>hhe(t).find(r=>(r.frame||Se(),r$(r.frame.pageMarginBox)(e)))||null;var mhe=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return phe(e,n)};const Wd={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var ghe=(e,t,n=()=>Wd)=>{const r=n(),s=e[t.size]*r.startFromPercentage,i=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},w$=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},AN=1,yhe=(e,t,n=()=>Wd)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return AN;const i=1-w$({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(i);return Math.ceil(o)},xhe=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,o=t,l=i,d=Date.now()-o;if(d>=i)return e;if(d<s)return AN;const f=w$({startOfRange:s,endOfRange:l,current:d}),h=e*r.ease(f);return Math.ceil(h)},cM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const i=yhe(e,t,s);return i===0?0:r?Math.max(xhe(i,n,s),AN):i},uM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=ghe(e,r,i);return t[r.end]<t[r.start]?cM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*cM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},vhe=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const bhe=H3(e=>e===0?0:e);var _$=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=uM({container:t,distanceToEdges:o,dragStartTime:e,axis:SN,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),u=uM({container:t,distanceToEdges:o,dragStartTime:e,axis:K3,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),d=bhe({x:u,y:l});if(ho(d,mn))return null;const f=vhe({container:t,subject:n,proposedScroll:d});return f?ho(f,mn)?null:f:null};const whe=H3(e=>e===0?0:e>0?1:-1),LN=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=jn(t,r),i={x:e(s.x,n.x),y:e(s.y,n.y)};return ho(i,mn)?null:i}})(),j$=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=whe(n),i=LN({max:r,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},IN=(e,t)=>j$({current:e.scroll.current,max:e.scroll.max,change:t}),_he=(e,t)=>{if(!IN(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return LN({current:r,max:n,change:t})},RN=(e,t)=>{const n=e.frame;return n?j$({current:n.scroll.current,max:n.scroll.max,change:t}):!1},jhe=(e,t)=>{const n=e.frame;return!n||!RN(e,t)?null:LN({current:n.scroll.current,max:n.scroll.max,change:t})};var Nhe=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=_$({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return o&&IN(e,o)?o:null},She=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const l=_$({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&RN(e,l)?l:null},dM=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const h=e.viewport,p=Nhe({dragStartTime:t,viewport:h,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(p){r(p);return}}const d=mhe({center:o,destination:gr(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=She({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:i});f&&s(d.descriptor.id,f)},khe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Wd})=>{const r=Fd(e),s=Fd(t);let i=null;const o=d=>{i||Se();const{shouldUseTimeDampening:f,dragStartTime:h}=i;dM({state:d,scrollWindow:r,scrollDroppable:s,dragStartTime:h,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:d=>{i&&Se();const f=Date.now();let h=!1;const p=()=>{h=!0};dM({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),i={dragStartTime:f,shouldUseTimeDampening:h},h&&o(d)},stop:()=>{i&&(r.cancel(),s.cancel(),i=null)},scroll:o}},Che=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=jn(l.current.client.selection,u);e({client:d})},s=(l,u)=>{if(!RN(l,u))return u;const d=jhe(l,u);if(!d)return t(l.descriptor.id,u),null;const f=hr(u,d);return t(l.descriptor.id,f),hr(u,f)},i=(l,u,d)=>{if(!l||!IN(u,d))return d;const f=_he(u,d);if(!f)return n(d),null;const h=hr(d,f);return n(h),hr(d,h)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=gr(l.impact);d||Se();const f=s(l.dimensions.droppables[d],u);if(!f)return;const h=l.viewport,p=i(l.isWindowScrollAllowed,h,f);p&&r(l,p)}},Phe=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=khe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),i=Che({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){s.scroll(u);return}u.scrollJumpRequest&&i(u)}},start:s.start,stop:s.stop}};const pc="data-rfd",mc=(()=>{const e=`${pc}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),c1=(()=>{const e=`${pc}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),The=(()=>{const e=`${pc}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),fM={contextId:`${pc}-scroll-container-context-id`},Ehe=e=>t=>`[${t}="${e}"]`,_u=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Mhe="pointer-events: none;";var Dhe=e=>{const t=Ehe(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(mc.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Mhe,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Ju.outOfTheWay};
    `;return{selector:t(c1.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:t(The.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:_u(o,"always"),resting:_u(o,"resting"),dragging:_u(o,"dragging"),dropAnimating:_u(o,"dropAnimating"),userCancel:_u(o,"userCancel")}};const Ahe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;var yr=Ahe;const lv=()=>{const e=document.querySelector("head");return e||Se(),e},hM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Lhe(e,t){const n=it(()=>Dhe(e),[e]),r=g.useRef(null),s=g.useRef(null),i=Ie(pn(h=>{const p=s.current;p||Se(),p.textContent=h}),[]),o=Ie(h=>{const p=r.current;p||Se(),p.textContent=h},[]);yr(()=>{!r.current&&!s.current||Se();const h=hM(t),p=hM(t);return r.current=h,s.current=p,h.setAttribute(`${pc}-always`,e),p.setAttribute(`${pc}-dynamic`,e),lv().appendChild(h),lv().appendChild(p),o(n.always),i(n.resting),()=>{const y=w=>{const b=w.current;b||Se(),lv().removeChild(b),w.current=null};y(r),y(s)}},[t,o,i,n.always,n.resting,e]);const l=Ie(()=>i(n.dragging),[i,n.dragging]),u=Ie(h=>{if(h==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),d=Ie(()=>{s.current&&i(n.resting)},[i,n.resting]);return it(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function N$(e,t){return Array.from(e.querySelectorAll(t))}var S$=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function u0(e){return e instanceof S$(e).HTMLElement}function Ihe(e,t){const n=`[${mc.contextId}="${e}"]`,r=N$(document,n);if(!r.length)return null;const s=r.find(i=>i.getAttribute(mc.draggableId)===t);return!s||!u0(s)?null:s}function Rhe(e){const t=g.useRef({}),n=g.useRef(null),r=g.useRef(null),s=g.useRef(!1),i=Ie(function(p,y){const w={id:p,focus:y};return t.current[p]=w,function(){const N=t.current;N[p]!==w&&delete N[p]}},[]),o=Ie(function(p){const y=Ihe(e,p);y&&y!==document.activeElement&&y.focus()},[e]),l=Ie(function(p,y){n.current===p&&(n.current=y)},[]),u=Ie(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&o(p)}))},[o]),d=Ie(function(p){n.current=null;const y=document.activeElement;y&&y.getAttribute(mc.draggableId)===p&&(n.current=p)},[]);return yr(()=>(s.current=!0,function(){s.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),it(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[i,d,u,l])}function Ohe(){const e={draggables:{},droppables:{}},t=[];function n(h){return t.push(h),function(){const y=t.indexOf(h);y!==-1&&t.splice(y,1)}}function r(h){t.length&&t.forEach(p=>p(h))}function s(h){return e.draggables[h]||null}function i(h){const p=s(h);return p||Se(),p}const o={register:h=>{e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,p)=>{const y=e.draggables[p.descriptor.id];y&&y.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:h=>{const p=h.descriptor.id,y=s(p);y&&h.uniqueId===y.uniqueId&&(delete e.draggables[p],e.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:i,findById:s,exists:h=>!!s(h),getAllByType:h=>Object.values(e.draggables).filter(p=>p.descriptor.type===h)};function l(h){return e.droppables[h]||null}function u(h){const p=l(h);return p||Se(),p}const d={register:h=>{e.droppables[h.descriptor.id]=h},unregister:h=>{const p=l(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:u,findById:l,exists:h=>!!l(h),getAllByType:h=>Object.values(e.droppables).filter(p=>p.descriptor.type===h)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:f}}function $he(){const e=it(Ohe,[]);return g.useEffect(()=>function(){nt.version.startsWith("16")||nt.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var ON=nt.createContext(null),Mm=()=>{const e=document.body;return e||Se(),e};const Fhe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var zhe=Fhe;const Bhe=e=>`rfd-announcement-${e}`;function Vhe(e){const t=it(()=>Bhe(e),[e]),n=g.useRef(null);return g.useEffect(function(){const i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),gi(i.style,zhe),Mm().appendChild(i),function(){setTimeout(function(){const u=Mm();u.contains(i)&&u.removeChild(i),i===n.current&&(n.current=null)})}},[t]),Ie(s=>{const i=n.current;if(i){i.textContent=s;return}},[])}let Uhe=0;const k$={separator:"::"};function Whe(e,t=k$){return it(()=>`${e}${t.separator}${Uhe++}`,[t.separator,e])}function Hhe(e,t=k$){const n=nt.useId();return it(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}var $N="useId"in nt?Hhe:Whe;function Ghe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function qhe({contextId:e,text:t}){const n=$N("hidden-text",{separator:"-"}),r=it(()=>Ghe({contextId:e,uniqueId:n}),[n,e]);return g.useEffect(function(){const i=document.createElement("div");return i.id=r,i.textContent=t,i.style.display="none",Mm().appendChild(i),function(){const l=Mm();l.contains(i)&&l.removeChild(i)}},[r,t]),r}var d0=nt.createContext(null);function C$(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),t}function Yhe(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Se();const l={abandon:o};return e=l,l}function s(){e||Se(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:i}}function Hd(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Zhe=9,Khe=13,FN=27,P$=32,Xhe=33,Jhe=34,Qhe=35,epe=36,tpe=37,npe=38,rpe=39,spe=40,ipe={[Khe]:!0,[Zhe]:!0};var T$=e=>{ipe[e.keyCode]&&e.preventDefault()};const ope=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})();var f0=ope;const E$=0,pM=5;function ape(e,t){return Math.abs(t.x-e.x)>=pM||Math.abs(t.y-e.y)>=pM}const mM={type:"IDLE"};function lpe({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:o,clientY:l}=s;if(i!==E$)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&Se();const f=d.point;if(!ape(f,u))return;s.preventDefault();const h=d.actions.fluidLift(u);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:s=>{const i=n();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===FN){s.preventDefault(),e();return}T$(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=n();if(i.type==="IDLE"&&Se(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:f0,fn:e}]}function cpe(e){const t=g.useRef(mM),n=g.useRef(fo),r=it(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==E$||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const p=e.findClosestDraggableId(h);if(!p)return;const y=e.tryGetLock(p,o,{sourceEvent:h});if(!y)return;h.preventDefault();const w={x:h.clientX,y:h.clientY};n.current(),d(y,w)}}),[e]),s=it(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const h=e.findClosestDraggableId(f);if(!h)return;const p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}),[e]),i=Ie(function(){const h={passive:!1,capture:!0};n.current=Or(window,[s,r],h)},[s,r]),o=Ie(()=>{t.current.type!=="IDLE"&&(t.current=mM,n.current(),i())},[i]),l=Ie(()=>{const f=t.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),u=Ie(function(){const h={capture:!0,passive:!1},p=lpe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=Or(window,p,h)},[l,o]),d=Ie(function(h,p){t.current.type!=="IDLE"&&Se(),t.current={type:"PENDING",point:p,actions:h},u()},[u]);yr(function(){return i(),function(){n.current()}},[i])}function upe(){}const dpe={[Jhe]:!0,[Xhe]:!0,[epe]:!0,[Qhe]:!0};function fpe(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===FN){s.preventDefault(),n();return}if(s.keyCode===P$){s.preventDefault(),r();return}if(s.keyCode===spe){s.preventDefault(),e.moveDown();return}if(s.keyCode===npe){s.preventDefault(),e.moveUp();return}if(s.keyCode===rpe){s.preventDefault(),e.moveRight();return}if(s.keyCode===tpe){s.preventDefault(),e.moveLeft();return}if(dpe[s.keyCode]){s.preventDefault();return}T$(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:f0,fn:n}]}function hpe(e){const t=g.useRef(upe),n=it(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==P$)return;const o=e.findClosestDraggableId(i);if(!o)return;const l=e.tryGetLock(o,f,{sourceEvent:i});if(!l)return;i.preventDefault();let u=!0;const d=l.snapLift();t.current();function f(){u||Se(),u=!1,t.current(),r()}t.current=Or(window,fpe(d,f),{capture:!0,passive:!1})}}),[e]),r=Ie(function(){const i={passive:!1,capture:!0};t.current=Or(window,[n],i)},[n]);yr(function(){return r(),function(){t.current()}},[r])}const cv={type:"IDLE"},ppe=120,mpe=.15;function gpe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===FN&&n.preventDefault(),e()}},{eventName:f0,fn:e}]}function ype({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:o}=r.touches[0],l={x:i,y:o};r.preventDefault(),s.actions.move(l)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&Se();const i=r.touches[0];if(!i||!(i.force>=mpe))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&e();return}if(l){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:f0,fn:e}]}function xpe(e){const t=g.useRef(cv),n=g.useRef(fo),r=Ie(function(){return t.current},[]),s=Ie(function(y){t.current=y},[]),i=it(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const w=e.findClosestDraggableId(y);if(!w)return;const b=e.tryGetLock(w,l,{sourceEvent:y});if(!b)return;const N=y.touches[0],{clientX:v,clientY:_}=N,j={x:v,y:_};n.current(),h(b,j)}}),[e]),o=Ie(function(){const y={capture:!0,passive:!1};n.current=Or(window,[i],y)},[i]),l=Ie(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(cv),n.current(),o())},[o,s]),u=Ie(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),d=Ie(function(){const y={capture:!0,passive:!1},w={cancel:u,completed:l,getPhase:r},b=Or(window,ype(w),y),N=Or(window,gpe(w),y);n.current=function(){b(),N()}},[u,r,l]),f=Ie(function(){const y=r();y.type!=="PENDING"&&Se();const w=y.actions.fluidLift(y.point);s({type:"DRAGGING",actions:w,hasMoved:!1})},[r,s]),h=Ie(function(y,w){r().type!=="IDLE"&&Se();const b=setTimeout(f,ppe);s({type:"PENDING",point:w,actions:y,longPressTimerId:b}),d()},[d,r,s,f]);yr(function(){return o(),function(){n.current();const w=r();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),s(cv))}},[r,o,s]),yr(function(){return Or(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const vpe=["input","button","textarea","select","option","optgroup","video","audio"];function M$(e,t){if(t==null)return!1;if(vpe.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:M$(e,t.parentElement)}function bpe(e,t){const n=t.target;return u0(n)?M$(e,n):!1}var wpe=e=>ss(e.getBoundingClientRect()).center;function _pe(e){return e instanceof S$(e).Element}const jpe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function D$(e,t){return e==null?null:e[jpe](t)?e:D$(e.parentElement,t)}function Npe(e,t){return e.closest?e.closest(t):D$(e,t)}function Spe(e){return`[${mc.contextId}="${e}"]`}function kpe(e,t){const n=t.target;if(!_pe(n))return null;const r=Spe(e),s=Npe(n,r);return!s||!u0(s)?null:s}function Cpe(e,t){const n=kpe(e,t);return n?n.getAttribute(mc.draggableId):null}function Ppe(e,t){const n=`[${c1.contextId}="${e}"]`,s=N$(document,n).find(i=>i.getAttribute(c1.id)===t);return!s||!u0(s)?null:s}function Tpe(e){e.preventDefault()}function Lh({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function A$({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!b$(t.getState(),r))}function Epe({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:i,sourceEvent:o}){if(!A$({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const u=r.draggable.getById(s),d=Ppe(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&bpe(d,o))return null;const f=e.claim(i||fo);let h="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function y(){return e.isActive(f)}function w(P,E){Lh({expected:P,phase:h,isLockActive:y,shouldWarn:!0})&&n.dispatch(E())}const b=w.bind(null,"DRAGGING");function N(P){function E(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(E(),Se()),n.dispatch(pfe(P.liftActionArgs)),h="DRAGGING";function C(T,D={shouldBlockNextClick:!1}){if(P.cleanup(),D.shouldBlockNextClick){const R=Or(window,[{eventName:"click",fn:Tpe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(R)}E(),n.dispatch(f$({reason:T}))}return{isActive:()=>Lh({expected:"DRAGGING",phase:h,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,drop:T=>C("DROP",T),cancel:T=>C("CANCEL",T),...P.actions}}function v(P){const E=Fd(T=>{b(()=>d$({client:T}))});return{...N({liftActionArgs:{id:s,clientSelection:P,movementMode:"FLUID"},cleanup:()=>E.cancel(),actions:{move:E}}),move:E}}function _(){const P={moveUp:()=>b(jfe),moveRight:()=>b(Sfe),moveDown:()=>b(Nfe),moveLeft:()=>b(kfe)};return N({liftActionArgs:{id:s,clientSelection:wpe(d),movementMode:"SNAP"},cleanup:fo,actions:P})}function j(){Lh({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Lh({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:v,snapLift:_,abort:j}}const Mpe=[cpe,hpe,xpe];function Dpe({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const i=[...s?Mpe:[],...r||[]],o=g.useState(()=>Yhe())[0],l=Ie(function(N,v){Hd(N)&&!Hd(v)&&o.tryAbandon()},[o]);yr(function(){let N=t.getState();return t.subscribe(()=>{const _=t.getState();l(N,_),N=_})},[o,t,l]),yr(()=>o.tryAbandon,[o.tryAbandon]);const u=Ie(b=>A$({lockAPI:o,registry:n,store:t,draggableId:b}),[o,n,t]),d=Ie((b,N,v)=>Epe({lockAPI:o,registry:n,contextId:e,store:t,draggableId:b,forceSensorStop:N||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[e,o,n,t]),f=Ie(b=>Cpe(e,b),[e]),h=Ie(b=>{const N=n.draggable.findById(b);return N?N.options:null},[n.draggable]),p=Ie(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(EN()))},[o,t]),y=Ie(()=>o.isClaimed(),[o]),w=it(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:y}),[u,d,f,h,p,y]);for(let b=0;b<i.length;b++)i[b](w)}const Ape=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};nt.version.startsWith("16")||nt.version.startsWith("17")?n():Di.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Lpe=e=>({...Wd,...e.autoScrollerOptions,durationDampening:{...Wd.durationDampening,...e.autoScrollerOptions}});function ju(e){return e.current||Se(),e.current}function Ipe(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:i}=e,o=g.useRef(null),l=C$(e),u=Ie(()=>Ape(l.current),[l]),d=Ie(()=>Lpe(l.current),[l]),f=Vhe(t),h=qhe({contextId:t,text:i}),p=Lhe(t,s),y=Ie(R=>{ju(o).dispatch(R)},[]),w=it(()=>FE({publishWhileDragging:gfe,updateDroppableScroll:xfe,updateDroppableIsEnabled:vfe,updateDroppableIsCombineEnabled:bfe,collectionStarting:yfe},y),[y]),b=$he(),N=it(()=>dhe(b,w),[b,w]),v=it(()=>Phe({scrollWindow:fhe,scrollDroppable:N.scrollDroppable,getAutoScrollerOptions:d,...FE({move:d$},y)}),[N.scrollDroppable,y,d]),_=Rhe(t),j=it(()=>ahe({announce:f,autoScroller:v,dimensionMarshal:N,focusMarshal:_,getResponders:u,styleMarshal:p}),[f,v,N,_,u,p]);o.current=j;const S=Ie(()=>{const R=ju(o);R.getState().phase!=="IDLE"&&R.dispatch(EN())},[]),P=Ie(()=>{const R=ju(o).getState();return R.phase==="DROP_ANIMATING"?!0:R.phase==="IDLE"?!1:R.isDragging},[]),E=it(()=>({isDragging:P,tryAbort:S}),[P,S]);n(E);const C=Ie(R=>b$(ju(o).getState(),R),[]),T=Ie(()=>Uo(ju(o).getState()),[]),D=it(()=>({marshal:N,focus:_,contextId:t,canLift:C,isMovementAllowed:T,dragHandleUsageInstructionsId:h,registry:b}),[t,N,h,_,C,T,b]);return Dpe({contextId:t,store:j,registry:b,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),g.useEffect(()=>S,[S]),nt.createElement(d0.Provider,{value:D},nt.createElement(Hue,{context:ON,store:j},e.children))}let Rpe=0;function Ope(){return it(()=>`${Rpe++}`,[])}function $pe(){return nt.useId()}var Fpe="useId"in nt?$pe:Ope;function zpe(e){const t=Fpe(),n=e.dragHandleUsageInstructions||cp.dragHandleUsageInstructions;return nt.createElement(nde,null,r=>nt.createElement(Ipe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const gM={dragging:5e3,dropAnimating:4500},Bpe=(e,t)=>t?Ju.drop(t.duration):e?Ju.snap:Ju.fluid,Vpe=(e,t)=>{if(e)return t?Ud.opacity.drop:Ud.opacity.combining},Upe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Wpe(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:i}=e,o=!!s,l=Upe(e),u=!!i,d=u?a1.drop(r,o):a1.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Bpe(l,i),transform:d,opacity:Vpe(o,u),zIndex:u?gM.dropAnimating:gM.dragging,pointerEvents:"none"}}function Hpe(e){return{transform:a1.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Gpe(e){return e.type==="DRAGGING"?Wpe(e):Hpe(e)}function qpe(e,t,n=mn){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=z3(s,r),o=Cm(i,n),l={client:i,tagName:t.tagName.toLowerCase(),display:r.display},u={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:i,page:o}}function Ype(e){const t=$N("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=e,u=it(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),d=Ie(y=>{const w=s();return w||Se(),qpe(n,w,y)},[n,s]),f=it(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),h=g.useRef(f),p=g.useRef(!0);yr(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),yr(()=>{if(p.current){p.current=!1;return}const y=h.current;h.current=f,r.draggable.update(f,y)},[f,r.draggable])}var zN=nt.createContext(null);function Dm(e){const t=g.useContext(e);return t||Se(),t}function Zpe(e){e.preventDefault()}const Kpe=e=>{const t=g.useRef(null),n=Ie((E=null)=>{t.current=E},[]),r=Ie(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:o}=Dm(d0),{type:l,droppableId:u}=Dm(zN),d=it(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:f,draggableId:h,isEnabled:p,shouldRespectForcePress:y,canDragInteractiveElements:w,isClone:b,mapped:N,dropAnimationFinished:v}=e;if(!b){const E=it(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:y,isEnabled:p}),[d,o,r,w,y,p]);Ype(E)}const _=it(()=>p?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:Zpe}:null,[s,i,h,p]),j=Ie(E=>{N.type==="DRAGGING"&&N.dropping&&E.propertyName==="transform"&&(nt.version.startsWith("16")||nt.version.startsWith("17")?v():Di.flushSync(v))},[v,N]),S=it(()=>{const E=Gpe(N),C=N.type==="DRAGGING"&&N.dropping?j:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":h,style:E,onTransitionEnd:C},dragHandleProps:_}},[s,_,h,N,j,n]),P=it(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return nt.createElement(nt.Fragment,null,f(S,N.snapshot,P))};var Xpe=Kpe,L$=(e,t)=>e===t,I$=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Jpe=e=>e.combine?e.combine.draggableId:null,Qpe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function eme(){const e=pn((s,i)=>({x:s,y:i})),t=pn((s,i,o=null,l=null,u=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!u,dropAnimation:u,mode:s,draggingOver:o,combineWith:l,combineTargetFor:null})),n=pn((s,i,o,l,u=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:i,offset:s,dimension:o,forceShouldAnimate:f,snapshot:t(i,l,u,d,null)}}));return(s,i)=>{if(Hd(s)){if(s.critical.draggable.id!==i.draggableId)return null;const o=s.current.client.offset,l=s.dimensions.draggables[i.draggableId],u=gr(s.impact),d=Qpe(s.impact),f=s.forceShouldAnimate;return n(e(o.x,o.y),s.movementMode,l,i.isClone,u,d,f)}if(s.phase==="DROP_ANIMATING"){const o=s.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,u=s.dimensions.draggables[i.draggableId],d=o.result,f=d.mode,h=I$(d),p=Jpe(d),w={duration:s.dropDuration,curve:DN.drop,moveTo:s.newHomeClientOffset,opacity:p?Ud.opacity.drop:null,scale:p?Ud.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:u,dropping:w,draggingOver:h,combineWith:p,mode:f,forceShouldAnimate:null,snapshot:t(f,l,h,p,w)}}}return null}}function R$(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const tme={mapped:{type:"SECONDARY",offset:mn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:R$(null)}};function nme(){const e=pn((o,l)=>({x:o,y:l})),t=pn(R$),n=pn((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(mn,o,!0):null,s=(o,l,u,d)=>{const f=u.displaced.visible[o],h=!!(d.inVirtualList&&d.effected[o]),p=a0(u),y=p&&p.draggableId===o?l:null;if(!f){if(!h)return r(y);if(u.displaced.invisible[o])return null;const N=Fc(d.displacedBy.point),v=e(N.x,N.y);return n(v,y,!0)}if(h)return r(y);const w=u.displacedBy.point,b=e(w.x,w.y);return n(b,y,f.shouldAnimate)};return(o,l)=>{if(Hd(o))return o.critical.draggable.id===l.draggableId?null:s(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:s(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const rme=()=>{const e=eme(),t=nme();return(r,s)=>e(r,s)||t(r,s)||tme},sme={dropAnimationFinished:h$},ime=$3(rme,sme,null,{context:ON,areStatePropsEqual:L$})(Xpe);var ome=ime;function O$(e){return Dm(zN).isUsingCloneFor===e.draggableId&&!e.isClone?null:nt.createElement(ome,e)}function ame(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return nt.createElement(O$,gi({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const $$=e=>t=>e===t,lme=$$("scroll"),cme=$$("auto"),yM=(e,t)=>t(e.overflowX)||t(e.overflowY),ume=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return yM(n,lme)||yM(n,cme)},dme=()=>!1,F$=e=>e==null?null:e===document.body?dme()?e:null:e===document.documentElement?null:ume(e)?e:F$(e.parentElement);var u1=e=>({x:e.scrollLeft,y:e.scrollTop});const z$=e=>e?window.getComputedStyle(e).position==="fixed"?!0:z$(e.parentElement):!1;var fme=e=>{const t=F$(e),n=z$(e);return{closestScrollable:t,isFixedOnPage:n}},hme=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:i,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:p,client:y}=l,w=y$({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:w,diff:{value:mn,displacement:mn}}}})(),d=s==="vertical"?SN:K3,f=hc({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:i,page:o,frame:u,subject:f}};const pme=(e,t)=>{const n=B3(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,o=s+t.scrollWidth,u=wN({top:r,right:o,bottom:i,left:s},n.border);return _N({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var mme=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=pme(e,u),f=Cm(d,r),h=(()=>{if(!u)return null;const y=B3(u),w={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:Cm(y,r),scroll:u1(u),scrollSize:w,shouldClipSubject:l}})();return hme({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:s,client:d,page:f,closest:h})};const gme={passive:!1},yme={passive:!0};var xM=e=>e.shouldPublishImmediately?gme:yme;const Ih=e=>e&&e.env.closestScrollable||null;function xme(e){const t=g.useRef(null),n=Dm(d0),r=$N("droppable"),{registry:s,marshal:i}=n,o=C$(e),l=it(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=g.useRef(l),d=it(()=>pn((S,P)=>{t.current||Se();const E={x:S,y:P};i.updateDroppableScroll(l.id,E)}),[l.id,i]),f=Ie(()=>{const S=t.current;return!S||!S.env.closestScrollable?mn:u1(S.env.closestScrollable)},[]),h=Ie(()=>{const S=f();d(S.x,S.y)},[f,d]),p=it(()=>Fd(h),[h]),y=Ie(()=>{const S=t.current,P=Ih(S);if(S&&P||Se(),S.scrollOptions.shouldPublishImmediately){h();return}p()},[p,h]),w=Ie((S,P)=>{t.current&&Se();const E=o.current,C=E.getDroppableRef();C||Se();const T=fme(C),D={ref:C,descriptor:l,env:T,scrollOptions:P};t.current=D;const R=mme({ref:C,descriptor:l,env:T,windowScroll:S,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),F=T.closestScrollable;return F&&(F.setAttribute(fM.contextId,n.contextId),F.addEventListener("scroll",y,xM(D.scrollOptions))),R},[n.contextId,l,y,o]),b=Ie(()=>{const S=t.current,P=Ih(S);return S&&P||Se(),u1(P)},[]),N=Ie(()=>{const S=t.current;S||Se();const P=Ih(S);t.current=null,P&&(p.cancel(),P.removeAttribute(fM.contextId),P.removeEventListener("scroll",y,xM(S.scrollOptions)))},[y,p]),v=Ie(S=>{const P=t.current;P||Se();const E=Ih(P);E||Se(),E.scrollTop+=S.y,E.scrollLeft+=S.x},[]),_=it(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:b,dragStopped:N,scroll:v}),[N,w,b,v]),j=it(()=>({uniqueId:r,descriptor:l,callbacks:_}),[_,l,r]);yr(()=>(u.current=j.descriptor,s.droppable.register(j),()=>{t.current&&N(),s.droppable.unregister(j)}),[_,l,N,j,i,s.droppable]),yr(()=>{t.current&&i.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),yr(()=>{t.current&&i.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function uv(){}const vM={width:0,height:0,margin:cde},vme=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?vM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},bme=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=vme({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Ju.placeholder:null}},wme=e=>{const t=g.useRef(null),n=Ie(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:i,contextId:o}=e,[l,u]=g.useState(e.animate==="open");g.useEffect(()=>l?r!=="open"?(n(),u(!1),uv):t.current?uv:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):uv,[r,l,n]);const d=Ie(h=>{h.propertyName==="height"&&(s(),r==="close"&&i())},[r,i,s]),f=bme({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return nt.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var _me=nt.memo(wme);class jme extends nt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Nme=e=>{const t=g.useContext(d0);t||Se();const{contextId:n,isMovementAllowed:r}=t,s=g.useRef(null),i=g.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:f,ignoreContainerClipping:h,isDropDisabled:p,isCombineEnabled:y,snapshot:w,useClone:b,updateViewportMaxScroll:N,getContainerForClone:v}=e,_=Ie(()=>s.current,[]),j=Ie((F=null)=>{s.current=F},[]);Ie(()=>i.current,[]);const S=Ie((F=null)=>{i.current=F},[]),P=Ie(()=>{r()&&N({maxScroll:v$()})},[r,N]);xme({droppableId:l,type:u,mode:d,direction:f,isDropDisabled:p,isCombineEnabled:y,ignoreContainerClipping:h,getDroppableRef:_});const E=it(()=>nt.createElement(jme,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:A,animate:O})=>nt.createElement(_me,{placeholder:A,onClose:F,innerRef:S,animate:O,contextId:n,onTransitionEnd:P})),[n,P,e.placeholder,e.shouldAnimatePlaceholder,S]),C=it(()=>({innerRef:j,placeholder:E,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,E,j]),T=b?b.dragging.draggableId:null,D=it(()=>({droppableId:l,type:u,isUsingCloneFor:T}),[l,T,u]);function R(){if(!b)return null;const{dragging:F,render:A}=b,O=nt.createElement(O$,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},($,K)=>A($,K,F));return IA.createPortal(O,v())}return nt.createElement(zN.Provider,{value:D},o(C,w),R())};var Sme=Nme;function kme(){return document.body||Se(),document.body}const bM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:kme},B$=e=>{let t={...e},n;for(n in bM)e[n]===void 0&&(t={...t,[n]:bM[n]});return t},dv=(e,t)=>e===t.droppable.type,wM=(e,t)=>t.draggables[e.draggable.id],Cme=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=pn(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=pn((i,o,l,u,d,f)=>{const h=d.descriptor.id;if(d.descriptor.droppableId===i){const w=f?{render:f,dragging:n(d.descriptor)}:null,b={isDraggingOver:l,draggingOverWith:l?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:w}}if(!o)return t;if(!u)return e;const y={isDraggingOver:l,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(i,o)=>{const l=B$(o),u=l.droppableId,d=l.type,f=!l.isDropDisabled,h=l.renderClone;if(Hd(i)){const p=i.critical;if(!dv(d,p))return t;const y=wM(p,i.dimensions),w=gr(i.impact)===u;return r(u,f,w,w,y,h)}if(i.phase==="DROP_ANIMATING"){const p=i.completed;if(!dv(d,p.critical))return t;const y=wM(p.critical,i.dimensions);return r(u,f,I$(p.result)===u,gr(p.impact)===u,y,h)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const p=i.completed;if(!dv(d,p.critical))return t;const y=gr(p.impact)===u,w=!!(p.impact.at&&p.impact.at.type==="COMBINE"),b=p.critical.droppable.id===u;return y?w?e:t:b?e:t}return t}},Pme={updateViewportMaxScroll:_fe},Tme=$3(Cme,Pme,(e,t,n)=>({...B$(n),...e,...t}),{context:ON,areStatePropsEqual:L$})(Sme);var V$=Tme;const Eme=new URL("http://localhost:8080").hostname,Mme=({children:e,onClose:t})=>a.jsx(mt,{children:a.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 font-sans",onClick:t,children:a.jsx(Y.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20,opacity:0},className:"bg-[#1C1C1E] rounded-2xl p-8 w-full max-w-md border border-gray-700 shadow-2xl text-white",onClick:n=>n.stopPropagation(),children:e})})}),Dme=({patient:e,index:t})=>a.jsx(ame,{draggableId:`patient-${e.id}`,index:t,children:(n,r)=>a.jsxs("div",{ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,className:`p-3 rounded-lg bg-gray-800 border border-gray-700 flex items-center gap-3 cursor-grab active:cursor-grabbing ${r.isDragging?"shadow-lg":""}`,children:[a.jsx(YI,{size:18,className:"text-blue-400"}),a.jsxs("span",{className:"font-medium text-sm",children:[e.firstName," ",e.lastName]})]})}),Ame=({bed:e,onBedClick:t})=>{const n=r=>{switch(r){case"occupied":return"bg-red-100 border-red-300 text-red-800 dark:bg-red-900/50 dark:border-red-700 dark:text-red-300";case"available":return"bg-green-100 border-green-300 text-green-800 dark:bg-green-900/50 dark:border-green-700 dark:text-green-300";case"maintenance":return"bg-yellow-100 border-yellow-300 text-yellow-800 dark:bg-yellow-900/50 dark:border-yellow-700 dark:text-yellow-300";case"cleaning":return"bg-purple-100 border-purple-300 text-purple-800 dark:bg-purple-900/50 dark:border-purple-700 dark:text-purple-300";case"reserved":return"bg-gray-200 border-gray-300 text-gray-800 dark:bg-gray-700/50 dark:border-gray-600 dark:text-gray-400";default:return"bg-gray-100 border-gray-300 text-gray-800 dark:bg-gray-800/50 dark:border-gray-700 dark:text-gray-300"}};return a.jsx(V$,{droppableId:`bed-${e.id}`,children:(r,s)=>a.jsxs("div",{ref:r.innerRef,...r.droppableProps,onClick:()=>t(e),className:`p-3 rounded-lg border-2 transition-all duration-200 cursor-pointer ${n(e.status)} ${s.isDraggingOver?"ring-4 ring-blue-500/50 scale-105":"hover:shadow-lg hover:scale-105"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-sm",children:e.bedNumber}),e.status==="cleaning"?a.jsx(mH,{size:16}):a.jsx(UI,{size:16})]}),a.jsx("div",{className:"mt-2 text-xs truncate h-4",children:e.status==="occupied"?a.jsxs("span",{children:[e.firstName," ",e.lastName]}):a.jsx("span",{className:"capitalize font-semibold",children:e.status})}),r.placeholder]})})};function Lme(){const{theme:e}=Qe(),[t,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState(!0),[l,u]=g.useState(null),[d,f]=g.useState(null),h=v=>{if(v%100>=11&&v%100<=13)return`${v}th`;switch(v%10){case 1:return`${v}st`;case 2:return`${v}nd`;case 3:return`${v}rd`;default:return`${v}th`}},p=async()=>{try{t.length===0&&o(!0),u(null);const[v,_]=await Promise.all([fetch(oe("/api/beds")),fetch(oe("/api/patients"))]);if(!v.ok||!_.ok)throw new Error("Failed to fetch data from server");const j=await v.json(),S=await _.json(),P=new Set;Array.isArray(j)&&j.forEach(C=>C.beds.forEach(T=>T.patientId&&P.add(T.patientId)));const E=S.filter(C=>!P.has(C.id)&&C.status==="active");n(j||[]),s(E||[])}catch(v){console.error("Failed to fetch bed management data:",v),u(`Failed to load hospital layout. Details: ${v.message}`)}finally{o(!1)}};g.useEffect(()=>{p();const v=new WebSocket(Eme);return v.onopen=()=>console.log("WebSocket connected"),v.onmessage=_=>{JSON.parse(_.data).type==="beds-updated"&&p()},v.onclose=()=>console.log("WebSocket disconnected"),v.onerror=_=>console.error("WebSocket error:",_),()=>v.close()},[]);const y=v=>{const{source:_,destination:j}=v;if(j&&_.droppableId!==j.droppableId&&_.droppableId==="unassigned-patients"&&j.droppableId.startsWith("bed-")){const S=parseInt(v.draggableId.split("-")[1]),P=parseInt(j.droppableId.split("-")[1]);w(S,P)}},w=async(v,_)=>{const j=r.find(E=>E.id===v);if(!j)return;const S=JSON.parse(JSON.stringify(t)),P=[...r];s(r.filter(E=>E.id!==v)),n(t.map(E=>({...E,beds:E.beds.map(C=>C.id===_?{...C,status:"occupied",patientId:v,firstName:j.firstName,lastName:j.lastName}:C)})));try{if(!(await fetch(oe("/api/beds/assign"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:v,bedId:_})})).ok)throw new Error("Server responded with an error during assignment")}catch(E){console.error("Failed to assign bed:",E),alert("An error occurred while assigning the bed. Reverting changes."),n(S),s(P)}},b=async v=>{if(!v)return;const _=JSON.parse(JSON.stringify(t)),j=t.flatMap(S=>S.beds).find(S=>S.id===v);n(t.map(S=>({...S,beds:S.beds.map(P=>P.id===v?{...P,status:"available",patientId:null,firstName:null,lastName:null}:P)}))),j&&s([...r,{id:j.patientId,firstName:j.firstName,lastName:j.lastName,status:"active"}]);try{const S=await fetch(oe("/api/beds/unassign"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bedId:v})});if(!S.ok){const P=await S.json();throw new Error(P.message||"Server responded with an error")}f(null)}catch(S){alert(`Failed to unassign patient: ${S.message}`),n(_),j&&s(r.filter(P=>P.id!==j.patientId))}},N=async(v,_)=>{if(!v||!_)return;const j=JSON.parse(JSON.stringify(t));n(t.map(S=>({...S,beds:S.beds.map(P=>P.id===v?{...P,status:_}:P)})));try{const S=await fetch(oe("/api/beds/status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bedId:v,newStatus:_})});if(!S.ok){const P=await S.json();throw new Error(P.message||"Server responded with an error")}f(null)}catch(S){alert(`Failed to update bed status: ${S.message}`),n(j)}};return a.jsx(zpe,{onDragEnd:y,children:a.jsxs("div",{className:`p-8 font-sans min-h-full ${e==="dark"?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[a.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Real-Time Bed Management"})}),i?a.jsx("div",{className:"text-center py-20",children:"Loading Bed Layout..."}):l?a.jsx("div",{className:"text-center py-20 text-red-500",children:l}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[a.jsx("div",{className:"lg:col-span-9 space-y-8",children:t.map(v=>a.jsxs("div",{className:"p-6 rounded-2xl shadow-lg border bg-white dark:bg-[#1C1C1E] dark:border-gray-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:v.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h(v.floorNumber)," Floor"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-semibold text-green-500 dark:text-green-400",children:[v.beds.filter(_=>_.status==="available").length," / ",v.capacity]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Available Beds"})]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:v.beds.map(_=>a.jsx(Ame,{bed:_,onBedClick:f},_.id))})]},v.id))}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"p-6 rounded-2xl shadow-lg border bg-white dark:bg-[#1C1C1E] dark:border-gray-800 sticky top-8",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Unassigned Patients"}),a.jsx(V$,{droppableId:"unassigned-patients",children:(v,_)=>a.jsxs("div",{ref:v.innerRef,...v.droppableProps,className:`space-y-3 p-2 rounded-lg transition-colors ${_.isDraggingOver?"bg-blue-100 dark:bg-blue-900/50":"bg-gray-50 dark:bg-gray-800/50"}`,children:[r.length>0?r.map((j,S)=>a.jsx(Dme,{patient:j,index:S},j.id)):a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No patients waiting for a bed."}),v.placeholder]})})]})})]}),d&&a.jsxs(Mme,{onClose:()=>f(null),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold",children:["Bed ",d.bedNumber]}),a.jsx("button",{onClick:()=>f(null),className:"p-1 rounded-full hover:bg-gray-700",children:a.jsx(Wn,{size:20})})]}),d.status==="occupied"&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-gray-400",children:"Occupied by:"}),a.jsxs("p",{className:"font-bold text-lg",children:[d.firstName," ",d.lastName]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Change Status"}),a.jsxs("select",{defaultValue:d.status,onChange:v=>N(d.id,v.target.value),className:"w-full p-2 mt-1 bg-gray-800 border-gray-700 rounded-lg",children:[a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"cleaning",children:"Cleaning"}),a.jsx("option",{value:"reserved",children:"Reserved"})]})]}),d.status==="occupied"&&a.jsx("button",{onClick:()=>b(d.id),className:"w-full p-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700",children:"Unassign Patient"})]})]})]})})}const Ime=`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="48" height="48">
    <style>
      .shape { stroke: #2D3748; stroke-width: 4.5; stroke-linejoin: round; stroke-linecap: round; fill: #FFFFFF; }
    </style>
    <circle cx="28" cy="72" r="9" fill="#4A5568" stroke="#2D3748" stroke-width="4"/>
    <circle cx="72" cy="72" r="9" fill="#4A5568" stroke="#2D3748" stroke-width="4"/>
    <path class="shape" d="M10,68 H90 V35 A5,5 0 0 0 85,30 H75 L65,20 H35 L25,30 H15 A5,5 0 0 0 10,35 V68 Z"/>
    <line x1="10" y1="62" x2="90" y2="62" stroke="#E53E3E" stroke-width="7" stroke-linecap="round"/>
    <path class="shape" d="M38,30 L35,20 H65 L70,30 H38 Z" fill="#90CDF4"/>
    <g fill="#E53E3E" stroke="none">
      <rect x="22" y="38" width="16" height="7" rx="1"/>
      <rect x="26.5" y="34" width="7" height="16" rx="1"/>
    </g>
    <rect x="58" y="15" width="12" height="7" fill="#E53E3E" stroke="#2D3748" stroke-width="4" rx="2"/>
  </svg>
`,Rme=new Tc.DivIcon({html:Ime,className:"bg-transparent",iconSize:[24,24],iconAnchor:[12,12]}),Ome=new Tc.Icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});delete Tc.Icon.Default.prototype._getIconUrl;Tc.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const U$=({ambulanceLocations:e={},destinations:t={}})=>{const n=[20.5937,78.9629];return a.jsxs($R,{center:n,zoom:5,className:"h-full w-full rounded-lg shadow-md",children:[a.jsx(FR,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Object.entries(e).map(([s,i])=>{const o=t[s];return a.jsxs(nt.Fragment,{children:[a.jsx(qu,{position:[i.lat,i.lng],icon:Rme,children:a.jsxs(Yu,{children:[a.jsx("strong",{children:i.vehicle_name||`Ambulance ${s}`}),a.jsx("br",{}),"Last Update: ",new Date(i.timestamp).toLocaleString()]})}),o&&a.jsxs(a.Fragment,{children:[a.jsx(qu,{position:[o.lat,o.lng],icon:Ome,children:a.jsxs(Yu,{children:[a.jsx("strong",{children:"Destination for:"})," ",i.vehicle_name||`Ambulance ${s}`]})}),a.jsx(zR,{start:i,end:o})]})]},s)})]})},W$=e=>{const t=g.useRef(null);return g.useEffect(()=>{const n=XI.replace(/^http/,"ws");return t.current=new WebSocket(n),t.current.onopen=()=>{console.log("WebSocket connected to:",n)},t.current.onclose=r=>{console.log("WebSocket disconnected:",r.reason,`Code: ${r.code}`)},t.current.onmessage=r=>{console.log("Raw WebSocket message received:",r.data);try{const s=JSON.parse(r.data);e&&e(s)}catch(s){console.error("Failed to parse WebSocket message:",s)}},t.current.onerror=r=>{console.error("WebSocket error:",r)},()=>{t.current&&t.current.close()}},[e]),t},$me=({trips:e,isLoading:t,error:n})=>(console.log("[TripHistoryView] Rendering with props:",{trips:e,isLoading:t,error:n}),t?a.jsx("div",{className:"text-center p-8",children:"Loading trip history..."}):n?a.jsxs("div",{className:"text-center p-8 text-red-500",children:["Error: ",n]}):e.length===0?a.jsx("div",{className:"text-center p-8",children:"No completed trips found."}):a.jsxs("div",{className:"p-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Trip History"}),a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Trip ID"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ambulance"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date Completed"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:r.trip_id}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:r.vehicle_name||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:new Date(r.updated_at).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:r.status})})]},r.trip_id))})]})})]})),Fme=()=>{wr();const[e,t]=g.useState([]),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState({}),[u,d]=g.useState({}),[f,h]=g.useState(!0),[p,y]=g.useState(""),[w,b]=g.useState(!1),[N,v]=g.useState(null),[_,j]=g.useState([]),[S,P]=g.useState(""),[E,C]=g.useState(!1),[T,D]=g.useState(""),[R,F]=g.useState(!1),[A,O]=g.useState(""),[$,K]=g.useState(""),[te,W]=g.useState(""),[z,V]=g.useState(""),[q,Z]=g.useState(!1),[X,G]=g.useState(""),[ae,fe]=g.useState(""),[ge,be]=g.useState([]),[ke,re]=g.useState(null),[me,Ne]=g.useState(!1),[ce,ue]=g.useState(""),xe=async pe=>{if(fe(pe),pe.length<3){be([]);return}Ne(!0),ue("");try{const $e=await(await fetch(oe(`/api/ems/patients/search?query=${pe}`))).json();$e.success?be($e.patients):ue($e.message||"Failed to search patients.")}catch(Le){console.error("Error searching patients:",Le),ue("Failed to connect to the server to search patients.")}finally{Ne(!1)}},je=pe=>{re(pe),fe(`${pe.firstName} ${pe.lastName} (${pe.patientId})`),be([])},[Ce,Fe]=g.useState("live"),[rt,xt]=g.useState([]),[bt,Wt]=g.useState(!1),[nn,qt]=g.useState(""),Ae=()=>{const pe=Ce==="live"?"history":"live";console.log(`[handleToggleView] Switching view to: ${pe}`),Fe(pe),pe==="history"&&I()},At=async()=>{h(!0),y("");try{const Le=await(await fetch(oe("/api/ems/alerts/new"))).json();Le.success?t(Le.alerts):y(Le.message||"Failed to fetch new alerts.")}catch(pe){console.error("Error fetching new alerts:",pe),y("Failed to connect to the server to fetch new alerts.")}finally{h(!1)}},I=async()=>{console.log("[fetchTripHistory] Fetching trip history..."),Wt(!0),qt("");try{const Le=await(await fetch(oe("/api/ems/trips/history"))).json();console.log("[fetchTripHistory] Received data:",Le),Le.success?xt(Le.trips):qt(Le.message||"Failed to fetch trip history.")}catch(pe){console.error("Error fetching trip history:",pe),qt("Failed to connect to the server to fetch trip history.")}finally{Wt(!1)}},U=async()=>{try{const Le=await(await fetch(oe("/api/ems/ambulances/status"))).json();Le.success?i(Le.fleetStatus):console.error("Failed to fetch fleet status:",Le.message)}catch(pe){console.error("Error fetching fleet status:",pe)}},ee=async()=>{try{const Le=await(await fetch(oe("/api/ems/trips/active"))).json();if(Le.success){r(Le.trips);const $e={},Nt={};Le.trips.forEach(St=>{St.assigned_ambulance_id&&($e[St.assigned_ambulance_id]={lat:St.scene_location_lat,lng:St.scene_location_lon},St.last_latitude&&St.last_longitude&&(Nt[St.assigned_ambulance_id]={lat:St.last_latitude,lng:St.last_longitude,timestamp:new Date().toISOString(),vehicle_name:St.vehicle_name}))}),d($e),l(St=>({...St,...Nt}))}else console.error("Failed to fetch active trips:",Le.message)}catch(pe){console.error("Error fetching active trips:",pe)}},ne=async()=>{try{const Le=await(await fetch(oe("/api/ems/ambulances/locations"))).json();if(Le.success){const $e={};Le.locations.forEach(Nt=>{$e[Nt.ambulance_id]={lat:Nt.latitude,lng:Nt.longitude,timestamp:Nt.timestamp,vehicle_name:Nt.vehicle_name}}),l(Nt=>({...Nt,...$e}))}else console.error("Failed to fetch all ambulance locations:",Le.message)}catch(pe){console.error("Error fetching all ambulance locations:",pe)}},H=async()=>{try{const Le=await(await fetch(oe("/api/ems/ambulances/available"))).json();Le.success?j(Le.ambulances):console.error("Failed to fetch available ambulances:",Le.message)}catch(pe){console.error("Error fetching available ambulances:",pe)}},J=pe=>{v(pe),H(),b(!0)},de=async()=>{if(!N||!S){D("Please select an ambulance.");return}C(!0),D("");try{const Le=await(await fetch(oe("/api/ems/trips/assign"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trip_id:N.trip_id,ambulance_id:S})})).json();Le.success?(b(!1),v(null),P("")):D(Le.message||"Failed to assign trip.")}catch(pe){console.error("Error assigning trip:",pe),D("Failed to connect to the server to assign trip.")}finally{C(!1)}},le=async()=>{if(!A||!$){G("Latitude and Longitude are required.");return}Z(!0),G("");try{const Le=await(await fetch(oe("/api/ems/alerts/manual"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scene_location_lat:parseFloat(A),scene_location_lon:parseFloat($),patient_name:ke?`${ke.firstName} ${ke.lastName}`:te,notes:z,patient_id:ke?ke.id:null})})).json();Le.success?(F(!1),O(""),K(""),W(""),V(""),fe(""),be([]),re(null)):G(Le.message||"Failed to create manual alert.")}catch(pe){console.error("Error creating manual alert:",pe),G("Failed to connect to the server to create manual alert.")}finally{Z(!1)}},[se,ve]=g.useState(null),ze=async pe=>{ve(pe);try{const $e=await(await fetch(oe("/api/ems/trips/complete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trip_id:pe})})).json();$e.success||console.error("Failed to complete trip:",$e.message)}catch(Le){console.error("Error completing trip:",Le)}finally{ve(null)}},Re=g.useCallback(pe=>{console.log("Fleet Dashboard received WebSocket message:",pe);const{type:Le,payload:$e}=pe;switch(Le){case"NEW_ALERT":console.log("NEW_ALERT received, payload:",$e),t(vt=>[$e,...vt]);break;case"TRIP_ASSIGNED":console.log("TRIP_ASSIGNED received, payload:",$e);const{trip:Nt,ambulance:St,lastLocation:Vc}=$e;t(vt=>vt.filter(Lt=>Lt.trip_id!==Nt.trip_id)),r(vt=>vt.some(Lt=>Lt.trip_id===Nt.trip_id)?vt:[Nt,...vt]),i(vt=>vt.map(Lt=>Lt.ambulance_id===St.ambulance_id?St:Lt)),Vc&&l(vt=>({...vt,[St.ambulance_id]:{lat:Vc.latitude,lng:Vc.longitude,timestamp:new Date().toISOString(),vehicle_name:St.vehicle_name}})),d(vt=>({...vt,[St.ambulance_id]:{lat:Nt.scene_location_lat,lng:Nt.scene_location_lon}}));break;case"TRIP_ETA_UPDATE":console.log("TRIP_ETA_UPDATE received, payload:",$e),r(vt=>vt.map(Lt=>Lt.trip_id===$e.trip_id?{...Lt,eta_minutes:$e.eta_minutes}:Lt));break;case"AMBULANCE_LOCATION_UPDATE":console.log("AMBULANCE_LOCATION_UPDATE received, payload:",$e),l(vt=>({...vt,[$e.ambulance_id]:{...vt[$e.ambulance_id],lat:$e.latitude,lng:$e.longitude,timestamp:$e.timestamp}}));break;case"TRIP_STATUS_UPDATE":console.log("TRIP_STATUS_UPDATE received, payload:",$e),r(vt=>vt.map(Lt=>Lt.trip_id===$e.trip.trip_id?$e.trip:Lt));break;case"TRIP_COMPLETED":console.log("TRIP_COMPLETED received, payload:",$e),r(vt=>vt.filter(Lt=>Lt.trip_id!==$e.trip_id)),i(vt=>vt.map(Lt=>Lt.ambulance_id===$e.ambulance.ambulance_id?$e.ambulance:Lt)),d(vt=>{const Lt={...vt};return delete Lt[$e.ambulance.ambulance_id],Lt});break;default:console.log("Unknown WebSocket message type:",Le);break}},[]);return W$(Re),g.useEffect(()=>{At(),U(),ee(),ne()},[]),a.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[a.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow p-4 flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Fleet Management"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:Ae,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:Ce==="live"?"View Trip History":"View Live Dashboard"}),a.jsx("button",{onClick:()=>{console.log("Manual Alert button clicked"),F(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"+ Manual Alert"})]})]}),Ce==="live"?a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsxs("aside",{className:"w-1/4 bg-white dark:bg-gray-800 p-4 border-r border-gray-200 dark:border-gray-700 overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Alerts & Trips"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-100 dark:bg-red-900 p-3 rounded-md",children:[a.jsxs("h3",{className:"font-medium text-red-800 dark:text-red-200",children:["New Alerts (",e.length,")"]}),f?a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Loading alerts..."}):p?a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:p}):e.length>0?e.map(pe=>a.jsxs("div",{className:"mt-2 p-2 border border-red-300 dark:border-red-700 rounded-md bg-red-50 dark:bg-red-800",children:[a.jsxs("p",{className:"font-semibold",children:["Trip ID: ",pe.trip_id]}),a.jsxs("p",{className:"text-sm",children:["Status: ",pe.status]}),a.jsxs("p",{className:"text-sm",children:["Location: ",pe.scene_location_lat,", ",pe.scene_location_lon]}),a.jsxs("p",{className:"text-sm",children:["Time: ",new Date(pe.alert_timestamp).toLocaleString()]}),a.jsx("button",{onClick:()=>J(pe),className:"mt-2 px-3 py-1 bg-green-600 text-white rounded-md text-sm hover:bg-green-700",children:"Assign"})]},pe.trip_id)):a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"No new alerts."})]}),a.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-md",children:[a.jsxs("h3",{className:"font-medium text-blue-800 dark:text-blue-200",children:["Active Trips (",n.length,")"]}),n.length>0?n.map(pe=>a.jsxs("div",{className:"mt-2 p-2 border border-blue-300 dark:border-blue-700 rounded-md bg-blue-50 dark:bg-blue-800",children:[a.jsxs("p",{className:"font-semibold",children:["Trip ID: ",pe.trip_id]}),a.jsxs("p",{className:"text-sm",children:["Status: ",pe.status]}),a.jsx("p",{className:"text-sm font-bold",children:pe.eta_minutes?`ETA: ${pe.eta_minutes} mins`:"ETA: Calculating..."}),a.jsx("button",{onClick:()=>ze(pe.trip_id),className:"mt-2 px-3 py-1 bg-green-600 text-white rounded-md text-sm hover:bg-green-700",disabled:se===pe.trip_id,children:se===pe.trip_id?"Completing...":"Complete Trip"})]},pe.trip_id)):a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"No active trips."})]}),"          "]})]}),a.jsxs("main",{className:"flex-1 p-4",children:[a.jsx("h2",{className:"sr-only",children:"Live Map"}),a.jsx("div",{className:"h-full w-full",children:!R&&a.jsx(U$,{ambulanceLocations:o,destinations:u})})]}),a.jsxs("aside",{className:"w-1/4 bg-white dark:bg-gray-800 p-4 border-l border-gray-200 dark:border-gray-700 overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Fleet Status"}),a.jsx("div",{className:"space-y-4",children:s.length>0?s.map(pe=>{const Le=n.find(Nt=>Nt.assigned_ambulance_id===pe.ambulance_id),$e=Le?`${pe.current_status.replace("_"," ")} (${Le.status.replace("_"," ")})`:pe.current_status.replace("_"," ");return console.log(`[Fleet Status Render] Ambulance ID: ${pe.ambulance_id}, Trip: ${Le?Le.trip_id:"None"}, Display Status: ${$e}`),a.jsxs("div",{className:`p-3 rounded-md ${pe.current_status==="Available"?"bg-green-100 dark:bg-green-900":pe.current_status==="On_Trip"?"bg-yellow-100 dark:bg-yellow-900":"bg-gray-100 dark:bg-gray-700"}`,children:[a.jsx("h3",{className:`font-medium ${pe.current_status==="Available"?"text-green-800 dark:text-green-200":pe.current_status==="On_Trip"?"text-yellow-800 dark:text-yellow-200":"text-gray-800 dark:text-gray-200"}`,children:pe.vehicle_name}),a.jsxs("p",{className:`text-sm ${pe.current_status==="Available"?"text-green-700 dark:text-green-300":pe.current_status==="On_Trip"?"text-yellow-700 dark:text-yellow-300":"text-gray-700 dark:text-gray-300"}`,children:["Status: ",$e]})]},pe.ambulance_id)}):a.jsx("p",{className:"text-sm text-gray-500",children:"No fleet data available."})})]})]}):a.jsx($me,{trips:rt,isLoading:bt,error:nn}),a.jsx(vw,{open:w,onOpenChange:b,children:a.jsxs(qp,{children:[a.jsx(bw,{children:a.jsxs(Yp,{children:["Assign Ambulance to Trip ",N==null?void 0:N.trip_id]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("label",{htmlFor:"ambulance-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Available Ambulance:"}),a.jsxs("select",{id:"ambulance-select",className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",value:S,onChange:pe=>P(pe.target.value),children:[a.jsx("option",{value:"",children:"-- Choose an Ambulance --"}),_.map(pe=>a.jsxs("option",{value:pe.ambulance_id,children:[pe.vehicle_name," (",pe.license_plate,") - ",pe.firstName?`${pe.firstName} ${pe.lastName}`:"No paramedic assigned"]},pe.ambulance_id))]}),T&&a.jsx("p",{className:"text-red-500 text-sm mt-2",children:T})]}),a.jsxs(ww,{children:[a.jsx(an,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),a.jsx(an,{onClick:de,disabled:E||!S,children:E?"Assigning...":"Assign Trip"})]})]})}),a.jsx(vw,{open:R,onOpenChange:F,children:a.jsxs(qp,{className:"z-[100]",children:[a.jsx(bw,{children:a.jsx(Yp,{children:"Create Manual Emergency Alert"})}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"patient-search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Patient (Optional):"}),a.jsx("input",{type:"text",id:"patient-search",className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",value:ae,onChange:pe=>xe(pe.target.value),placeholder:"Search by name or patient ID"}),me&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Searching..."}),ce&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:ce}),ge.length>0&&a.jsx("ul",{className:"absolute z-10 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 w-full rounded-md mt-1 max-h-48 overflow-y-auto",children:ge.map(pe=>a.jsxs("li",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer text-gray-900 dark:text-gray-100",onClick:()=>je(pe),children:[pe.firstName," ",pe.lastName," (",pe.patientId,")"]},pe.id))}),ke&&a.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 mt-2",children:["Selected Patient: ",ke.firstName," ",ke.lastName," (",ke.patientId,")",a.jsx("button",{onClick:()=>re(null),className:"ml-2 text-red-500 hover:text-red-700",children:"(Clear)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"manual-lat",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Latitude:"}),a.jsx("input",{type:"number",id:"manual-lat",className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",value:A,onChange:pe=>O(pe.target.value),placeholder:"e.g., 20.5937",step:"any",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"manual-lon",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Longitude:"}),a.jsx("input",{type:"number",id:"manual-lon",className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",value:$,onChange:pe=>K(pe.target.value),placeholder:"e.g., 78.9629",step:"any",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"manual-patient-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Patient Name (Optional, if no patient selected):"}),a.jsx("input",{type:"text",id:"manual-patient-name",className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",value:te,onChange:pe=>W(pe.target.value),placeholder:"e.g., John Doe",disabled:!!ke})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"manual-notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (Optional):"}),a.jsx("textarea",{id:"manual-notes",className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",value:z,onChange:pe=>V(pe.target.value),placeholder:"e.g., Unconscious, difficulty breathing",rows:3})]}),X&&a.jsx("p",{className:"text-red-500 text-sm mt-2",children:X})]}),a.jsxs(ww,{children:[a.jsx(an,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),a.jsx(an,{onClick:le,disabled:q||!A||!$,children:q?"Creating...":"Create Alert"})]})]})})]})},zi=lg("PushNotifications",{}),zme=e=>{const[t,n]=g.useState(null),[r,s]=g.useState([]),[i,o]=g.useState(null);return g.useEffect(()=>{if(!Nd.isNativePlatform()){console.log("Push notifications are only available on native devices.");return}if(!e){o("Employee ID is required for push notification registration.");return}return(async()=>{try{let u=await zi.checkPermissions();if(u.receive==="prompt"&&(u=await zi.requestPermissions()),u.receive!=="granted"){o("Push notification permission not granted.");return}await zi.register(),zi.addListener("registration",async d=>{n(d.value),o(null),console.log("Push registration success, token:",d.value);try{const h=await(await fetch(oe("/api/ems/paramedic/register-device"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e,deviceToken:d.value})})).json();h.success?console.log("Device token sent to backend successfully."):(console.error("Failed to send device token to backend:",h.message),o("Failed to register device token with backend."))}catch(f){console.error("Error sending device token to backend:",f),o("Network error while sending device token to backend.")}}),zi.addListener("registrationError",d=>{console.error("Error on registration:",JSON.stringify(d)),o("Error registering for push notifications: "+d.message)}),zi.addListener("pushNotificationReceived",d=>{console.log("Push received:",JSON.stringify(d)),s(f=>[...f,d])}),zi.addListener("pushNotificationActionPerformed",d=>{console.log("Push action performed:",JSON.stringify(d)),s(f=>[...f,d])})}catch(u){console.error("Error setting up push notifications:",u),o("Error setting up push notifications: "+u.message)}})(),()=>{Nd.isNativePlatform()&&zi.removeAllListeners()}},[e]),{token:t,notifications:r,error:i}},Bme=({trips:e,onBack:t,isLoading:n,error:r})=>n?a.jsx("div",{className:"p-4 text-center",children:"Loading trip history..."}):r?a.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error: ",r]}):a.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-900 min-h-screen text-gray-900 dark:text-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"My Trip History"}),a.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Back"})]}),a.jsx("div",{className:"space-y-3",children:e.length>0?e.map(s=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-3",children:[a.jsx("p",{className:"font-semibold",children:s.trip_id}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Status:"})," ",s.status]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Date:"})," ",new Date(s.alert_timestamp).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"})]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Patient:"})," ",s.patient_firstName," ",s.patient_lastName||"N/A"]})]},s.trip_id)):a.jsx("p",{children:"No trip history found."})})]}),Vme=({user:e})=>{wr();const[t,n]=g.useState(null),[r,s]=g.useState(!0),[i,o]=g.useState(""),[l,u]=g.useState(null),[d,f]=g.useState(!0),[h,p]=g.useState(""),[y,w]=g.useState([]),[b,N]=g.useState(""),[v,_]=g.useState(!1),[j,S]=g.useState(!1),[P,E]=g.useState("dashboard"),[C,T]=g.useState([]),[D,R]=g.useState(!1),[F,A]=g.useState(""),[O,$]=g.useState(""),[K,te]=g.useState(""),[W,z]=g.useState(""),[V,q]=g.useState(""),[Z,X]=g.useState(!1),[G,ae]=g.useState(""),[fe,ge]=g.useState(""),[be,ke]=g.useState(!1),[re,me]=g.useState(""),[Ne,ce]=g.useState(""),[ue,xe]=g.useState("status"),{position:je,error:Ce,startTracking:Fe,stopTracking:rt}=PR(),{error:xt}=zme(e==null?void 0:e.id),bt=async()=>{if(!(!e||!e.id)){R(!0),A("");try{const ve=await(await fetch(oe(`/api/ems/paramedic/trip-history?paramedicId=${e.id}`))).json();ve.success?T(ve.trips):A(ve.message||"Failed to fetch trip history.")}catch{A("Failed to connect to the server.")}finally{R(!1)}}},Wt=()=>{bt(),E("history")},nn=async()=>{if(!b){p("Please select an ambulance.");return}_(!0),p("");try{const ve=await(await fetch(oe("/api/ems/crews/clock-in"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id,ambulance_id:b})})).json();ve.success?Ae():p(ve.message||"Failed to clock in.")}catch{p("Failed to connect to the server.")}finally{_(!1)}},qt=async()=>{S(!0),p("");try{const ve=await(await fetch(oe("/api/ems/crews/clock-out"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id})})).json();ve.success?u(null):p(ve.message||"Failed to clock out.")}catch{p("Failed to connect to the server.")}finally{S(!1)}},Ae=async()=>{if(!(!e||!e.id)){f(!0),p("");try{const ve=await(await fetch(oe(`/api/ems/crews/my-shift?paramedicId=${e.id}`))).json();ve.success?(u(ve.shift),ve.shift?U():(s(!1),n(null),At())):p(ve.message||"Failed to fetch shift status.")}catch{p("Failed to connect to the server.")}finally{f(!1)}}},At=async()=>{try{const ve=await(await fetch(oe("/api/ems/ambulances/available"))).json();ve.success&&w(ve.ambulances)}catch(se){console.error("Error fetching available ambulances:",se)}},I=async se=>{if(!t||!e.id||!l)return;const ve=l.ambulance_id;try{await fetch(oe("/api/ems/ambulance/location"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ambulance_id:ve,latitude:se.coords.latitude,longitude:se.coords.longitude,timestamp:new Date(se.timestamp).toISOString()})})}catch(ze){console.error("Failed to send location update:",ze)}},U=async()=>{if(!(!e||!e.id)){s(!0),o("");try{const ve=await(await fetch(oe(`/api/ems/paramedic/my-trip?paramedicId=${e.id}`))).json();n(ve.success?ve.trip:null),!ve.success&&ve.trip!==null&&o(ve.message||"Failed to fetch assigned trip.")}catch{o("Failed to connect to the server.")}finally{s(!1)}}},ee=async()=>{if(t){X(!0),ae(""),ge("");try{const ve=await(await fetch(oe("/api/ems/vitals"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trip_id:t.trip_id,heart_rate:O?parseInt(O):null,blood_pressure_systolic:K?parseInt(K):null,blood_pressure_diastolic:W?parseInt(W):null,notes:V})})).json();ve.success?(ge("Vitals submitted successfully!"),setTimeout(()=>ge(""),3e3),$(""),te(""),z(""),q("")):ae(ve.message||"Failed to submit vitals.")}catch{ae("Failed to connect to the server.")}finally{X(!1)}}},ne=async se=>{if(t){ke(!0),me(""),ce("");try{let ve;se==="Completed"?ve=await fetch(oe("/api/ems/trips/complete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trip_id:t.trip_id})}):ve=await fetch(oe("/api/ems/trips/status"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trip_id:t.trip_id,new_status:se})});const ze=await ve.json();ze.success?(ce(`Trip status updated to ${se}!`),setTimeout(()=>ce(""),3e3),se==="Completed"?n(null):U()):me(ze.message||"Failed to update status.")}catch{me("Failed to connect to the server.")}finally{ke(!1)}}};if(g.useEffect(()=>{e&&e.id&&e.role==="ROLE_PARAMEDIC"&&Ae()},[e]),g.useEffect(()=>{if(l){const se=setInterval(U,15e3);return()=>clearInterval(se)}},[l]),g.useEffect(()=>(l&&t&&["Assigned","En_Route_To_Scene","Transporting"].includes(t.status)?Fe(I):rt(),()=>rt()),[t==null?void 0:t.status,e==null?void 0:e.id,l]),d)return a.jsx("div",{className:"p-8 text-center",children:"Loading..."});if(!l)return a.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-900 min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-900 dark:text-gray-100",children:"Start Shift"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"ambulance-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Ambulance:"}),a.jsxs("select",{id:"ambulance-select",className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",value:b,onChange:se=>N(se.target.value),children:[a.jsx("option",{value:"",children:"-- Choose an Ambulance --"}),y.map(se=>a.jsxs("option",{value:se.ambulance_id,children:[se.vehicle_name," (",se.license_plate,")"]},se.ambulance_id))]})]}),h&&a.jsx("p",{className:"text-red-500 text-sm",children:h}),a.jsxs("button",{onClick:nn,disabled:v||!b,className:"w-full px-4 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 disabled:bg-gray-500 flex items-center justify-center gap-2",children:[a.jsx($s,{size:20})," ",v?"Clocking In...":"Clock In"]})]})]})});if(P==="history")return a.jsx(Bme,{trips:C,onBack:()=>E("dashboard"),isLoading:D,error:F});if(r)return a.jsx("div",{className:"p-8 text-center",children:"Loading..."});const H=je?{latitude:je.coords.latitude,longitude:je.coords.longitude}:null,J=t?{latitude:t.scene_location_lat,longitude:t.scene_location_lon}:null,de=(se,ve,ze,Re)=>a.jsxs("button",{onClick:()=>ne(se),disabled:be||t&&t.status===se,className:`flex-1 flex flex-col items-center justify-center p-3 text-white rounded-lg transition-transform transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed ${Re}`,children:[ze,a.jsx("span",{className:"mt-1 font-semibold text-xs",children:ve})]}),le=({tabName:se,label:ve,activeTab:ze,setActiveTab:Re})=>a.jsx("button",{onClick:()=>Re(se),className:`flex-1 py-2 text-sm font-medium ${ze===se?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,children:ve});return a.jsxs("div",{className:"p-2 md:p-4 bg-gray-100 dark:bg-gray-900 min-h-screen text-gray-900 dark:text-gray-100 font-sans flex flex-col",children:[Ce&&a.jsxs("div",{className:"p-3 mb-4 bg-red-200 text-red-800 rounded-md text-sm",children:["Geolocation Error: ",Ce]}),xt&&a.jsxs("div",{className:"p-3 mb-4 bg-red-200 text-red-800 rounded-md text-sm",children:["Push Notification Error: ",xt]}),a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("div",{className:"text-xs",children:[a.jsxs("p",{className:"flex items-center gap-1",children:[a.jsx($s,{size:12})," ",new Date(l.shift_start_time).toLocaleTimeString("en-IN",{timeZone:"Asia/Kolkata",hour:"2-digit",minute:"2-digit"})]}),a.jsxs("p",{className:"flex items-center gap-1",children:[a.jsx(VI,{size:12})," ",a.jsx("strong",{children:l.vehicle_name})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:Wt,className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700",children:a.jsx(sH,{size:18})}),a.jsx("button",{onClick:qt,disabled:j||!!t,className:"p-2 bg-red-600 text-white rounded-full hover:bg-red-700 disabled:bg-gray-500",children:a.jsx(ZI,{size:18})})]})]}),h&&a.jsx("p",{className:"text-red-500 text-sm mb-4",children:h}),t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full rounded-lg overflow-hidden shadow-md mb-4 h-[50vh]",children:a.jsx(oj,{paramedicLocation:H,sceneLocation:J})}),a.jsxs("div",{className:"flex-grow bg-white dark:bg-gray-800 shadow-md rounded-lg p-3",children:[a.jsxs("h2",{className:"text-lg font-bold mb-2",children:["Trip: ",t.trip_id]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Status:"})," ",a.jsx("span",{className:"font-semibold text-blue-400",children:t.status.replace("_"," ")})]}),t.patient_firstName&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-md font-bold mb-1",children:"Patient Details"}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Name:"})," ",t.patient_firstName," ",t.patient_lastName]}),t.patient_dateOfBirth&&a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"DOB:"})," ",new Date(t.patient_dateOfBirth).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mt-4",children:[a.jsx(le,{tabName:"status",label:"Status",activeTab:ue,setActiveTab:xe}),a.jsx(le,{tabName:"vitals",label:"Vitals",activeTab:ue,setActiveTab:xe}),a.jsx(le,{tabName:"nav",label:"Navigate",activeTab:ue,setActiveTab:xe})]}),a.jsxs("div",{className:"p-3",children:[ue==="status"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-bold mb-3 text-center",children:"Update Status"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[de("At_Scene","At Scene",a.jsx(ig,{size:20}),"bg-blue-500 hover:bg-blue-600"),de("Transporting","Transport",a.jsx(vC,{size:20}),"bg-yellow-500 hover:bg-yellow-600"),de("At_Hospital","At Hospital",a.jsx(Z_,{size:20}),"bg-green-500 hover:bg-green-600"),de("Completed","Complete",a.jsx(nH,{size:20}),"bg-gray-500 hover:bg-gray-600")]}),re&&a.jsx("p",{className:"text-red-500 text-xs mt-2",children:re}),Ne&&a.jsx("p",{className:"text-green-500 text-xs mt-2",children:Ne})]}),ue==="vitals"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-bold mb-3 text-center",children:"Patient Vitals"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{htmlFor:"heartRate",className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Heart Rate"}),a.jsx("input",{type:"number",id:"heartRate",className:"mt-1 w-full p-2 border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700",value:O,onChange:se=>$(se.target.value)})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{htmlFor:"bpSystolic",className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"BP Sys"}),a.jsx("input",{type:"number",id:"bpSystolic",className:"mt-1 w-full p-2 border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700",value:K,onChange:se=>te(se.target.value)})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"bpDiastolic",className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"BP Dia"}),a.jsx("input",{type:"number",id:"bpDiastolic",className:"mt-1 w-full p-2 border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700",value:W,onChange:se=>z(se.target.value)})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"notes",className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Notes"}),a.jsx("textarea",{id:"notes",rows:2,className:"mt-1 w-full p-2 border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700",value:V,onChange:se=>q(se.target.value)})]})]}),G&&a.jsx("p",{className:"text-red-500 text-xs mt-2",children:G}),fe&&a.jsx("p",{className:"text-green-500 text-xs mt-2",children:fe}),a.jsxs("button",{onClick:ee,disabled:Z,className:"mt-3 w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-500 flex items-center justify-center gap-2",children:[a.jsx(Ea,{size:18})," ",Z?"Sending...":"Send Vitals"]})]}),ue==="nav"&&a.jsxs("button",{onClick:()=>{if(H&&J){const se=`${H.latitude},${H.longitude}`,ve=`${J.latitude},${J.longitude}`,ze=`https://www.google.com/maps/dir/?api=1&origin=${se}&destination=${ve}&travelmode=driving`;window.open(ze,"_blank")}},disabled:!H||!J,className:"w-full px-4 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:bg-gray-500 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-transform transform hover:scale-105",children:[a.jsx(vC,{size:20})," Get Directions in Google Maps"]})]})]})]}):a.jsxs("div",{className:"text-center py-20",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-300",children:"No Active Trip"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Waiting for dispatch..."}),i&&a.jsxs("p",{className:"text-red-500 text-sm mt-4",children:["Error: ",i]})]})]})},Ume={lat:12.9716,lng:77.5946},Wme=()=>{const e=wr(),[t,n]=g.useState([]),[r,s]=g.useState({}),[i,o]=g.useState(!0),[l,u]=g.useState(""),d=async()=>{o(!0),u("");try{const y=await(await fetch(oe("/api/ems/trips/transporting"))).json();if(y.success){n(y.trips);const w={};y.trips.forEach(b=>{b.last_latitude&&b.last_longitude&&(w[b.assigned_ambulance_id]={lat:b.last_latitude,lng:b.last_longitude,timestamp:new Date().toISOString(),vehicle_name:b.vehicle_name})}),s(w)}else u(y.message||"Failed to fetch transporting trips.")}catch(p){console.error("Error fetching transporting trips:",p),u("Failed to connect to the server to fetch transporting trips.")}finally{o(!1)}},f=g.useCallback(p=>{console.log("ER Dashboard received WebSocket message:",p);const{type:y,payload:w}=p;switch(y){case"NEW_VITALS":n(v=>v.map(_=>_.trip_id===w.trip_id?{..._,latest_vitals:w}:_));break;case"TRIP_ETA_UPDATE":n(v=>v.map(_=>_.trip_id===w.trip_id?{..._,eta_minutes:w.eta_minutes}:_));break;case"TRIP_STATUS_UPDATE":const{trip:b,lastLocation:N}=w;console.log("[TRIP_STATUS_UPDATE] Received:",{trip:b,lastLocation:N}),b.status==="Transporting"?(n(v=>v.some(_=>_.trip_id===b.trip_id)?v.map(_=>_.trip_id===b.trip_id?b:_):[...v,b]),N&&(console.log("[TRIP_STATUS_UPDATE] Setting initial ambulance location:",N),s(v=>({...v,[b.assigned_ambulance_id]:{lat:N.latitude,lng:N.longitude,timestamp:new Date().toISOString(),vehicle_name:b.vehicle_name}})))):n(v=>v.filter(_=>_.trip_id!==b.trip_id));break;case"AMBULANCE_LOCATION_UPDATE":s(v=>({...v,[w.ambulance_id]:{...v[w.ambulance_id],lat:w.latitude,lng:w.longitude,timestamp:w.timestamp}}));break}},[]);W$(f),g.useEffect(()=>{d();const p=setInterval(()=>{console.log("[ERDashboard] Polling for transporting trips..."),d()},1e4);return()=>clearInterval(p)},[]);const h=t.reduce((p,y)=>(y.assigned_ambulance_id&&(p[y.assigned_ambulance_id]=Ume),p),{});return console.log("[ERDashboard Render] Props to MapView:",JSON.stringify({ambulanceLocations:r,hospitalDestinations:h},null,2)),a.jsxs("div",{className:"p-8 bg-gray-100 dark:bg-gray-900 min-h-screen text-gray-900 dark:text-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"ER Pre-Arrival Dashboard"}),a.jsx("button",{onClick:()=>e("/staff-dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]}),a.jsx("div",{className:"w-full h-96 mb-8 rounded-lg overflow-hidden shadow-lg",children:a.jsx(U$,{ambulanceLocations:r,destinations:h})}),i?a.jsx("div",{className:"text-center text-lg",children:"Loading incoming trips..."}):l?a.jsxs("div",{className:"text-center text-lg text-red-500",children:["Error: ",l]}):t.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(p=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-3",children:["Trip ID: ",p.trip_id]}),a.jsxs("p",{className:"text-lg mb-1",children:[a.jsx("strong",{children:"Status:"})," ",p.status]}),a.jsxs("p",{className:"text-lg mb-1",children:[a.jsx("strong",{children:"Assigned Ambulance:"})," ",p.vehicle_name," (",p.license_plate,")"]}),a.jsx("p",{className:"text-lg mb-3 font-bold text-blue-400",children:p.eta_minutes?`ETA: ${p.eta_minutes} mins`:"ETA: Calculating..."}),a.jsxs("div",{className:"mt-4 p-3 border border-gray-200 dark:border-gray-700 rounded-md",children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Latest Vitals"}),p.latest_vitals?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-base",children:[a.jsx("strong",{children:"Heart Rate:"})," ",p.latest_vitals.heart_rate||"N/A"," bpm"]}),a.jsxs("p",{className:"text-base",children:[a.jsx("strong",{children:"Blood Pressure:"})," ",p.latest_vitals.blood_pressure_systolic||"N/A","/",p.latest_vitals.blood_pressure_diastolic||"N/A"," mmHg"]}),a.jsxs("p",{className:"text-base",children:[a.jsx("strong",{children:"Notes:"})," ",p.latest_vitals.notes||"N/A"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",new Date(p.latest_vitals.timestamp).toLocaleTimeString()]})]}):a.jsx("p",{className:"text-base",children:"No vitals received yet."})]})]},p.trip_id))}):a.jsx("div",{className:"text-center text-lg text-gray-600 dark:text-gray-400",children:"No transporting emergency trips currently."})]})},fv=({children:e,user:t,onLogout:n})=>{const{theme:r,toggleTheme:s}=Qe();return a.jsxs("div",{className:"flex flex-col h-screen bg-background text-foreground overflow-hidden font-sans",children:[a.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-md p-4 flex justify-between items-center",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Shree Medicare - EMS"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(an,{variant:"ghost",size:"icon",onClick:s,children:[a.jsx(Da,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(Ma,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:t.avatarUrl||`https://ui-avatars.com/api/?name=${t.firstName}+${t.lastName}`,className:"h-8 w-8 flex-shrink-0 rounded-full",alt:"Avatar"}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:t.firstName})]}),a.jsxs(an,{variant:"ghost",size:"icon",onClick:n,className:"text-red-500 hover:text-red-600",children:[a.jsx(WI,{size:20}),a.jsx("span",{className:"sr-only",children:"Logout"})]})]})]}),a.jsx("main",{className:"relative flex-1 overflow-y-auto bg-background",children:a.jsx("div",{className:"relative z-10 bg-transparent",children:e})})]})};function Hme({onLogin:e}){const t=wr(),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,l]=g.useState("admin"),[u,d]=g.useState(""),[f,h]=g.useState(!1),p=async b=>{b.preventDefault(),d(""),h(!0);try{const v=await(await fetch(oe("/api/auth/staff/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:s,role:o})})).json();v.success?e({...v.user,role:o}):d(v.message||"Invalid credentials. Please try again.")}catch(N){console.error("Staff login error",N),d("Failed to connect to the server.")}finally{h(!1)}},y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{staggerChildren:.1,duration:.4,ease:"easeOut"}}},w={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return a.jsxs("div",{className:"relative flex items-center justify-center min-h-screen bg-cover bg-center text-white font-sans overflow-hidden",style:{backgroundImage:"url('/login-bg.jpg')"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),a.jsx("div",{className:"absolute top-4 left-4 z-20",children:a.jsx("button",{onClick:()=>t("/"),className:"inline-flex items-center justify-center p-2 rounded-full text-white bg-white/10 hover:bg-white/20 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Back to Portal Selection",children:a.jsx(Nc,{className:"w-5 h-5"})})}),a.jsxs(Y.div,{variants:y,initial:"hidden",animate:"visible",className:"relative z-10 w-full max-w-md mx-4 sm:mx-0 p-6 sm:p-8 space-y-6 bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl",children:[a.jsxs(Y.div,{variants:w,className:"text-center",children:[a.jsx("div",{className:"inline-block bg-gray-800/50 p-3 rounded-full mb-4 border border-white/10",children:o==="admin"?a.jsx(GI,{className:"w-8 h-8 text-blue-400"}):a.jsx(No,{className:"w-8 h-8 text-blue-400"})}),a.jsx("h2",{className:"text-3xl font-bold text-white",children:"Staff Portal"}),a.jsx("p",{className:"text-gray-300 mt-2 text-base",children:"Sign in as an Admin or Doctor."})]}),a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsxs(Y.div,{variants:w,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Role"}),a.jsxs("select",{value:o,onChange:b=>l(b.target.value),className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",children:[a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"doctor",children:"Doctor"}),a.jsx("option",{value:"ROLE_DISPATCHER",children:"Dispatcher"}),a.jsx("option",{value:"ROLE_PARAMEDIC",children:"Paramedic"}),a.jsx("option",{value:"ROLE_ER_STAFF",children:"ER Staff"})]})]}),a.jsxs(Y.div,{variants:w,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:n,onChange:b=>r(b.target.value),className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder:text-gray-500",required:!0})]}),a.jsxs(Y.div,{variants:w,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Password"}),a.jsx("input",{type:"password",value:s,onChange:b=>i(b.target.value),className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder:text-gray-500",required:!0})]}),u&&a.jsx(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-400 text-center",children:u}),a.jsx(Y.div,{variants:w,children:a.jsx("button",{type:"submit",disabled:f,className:"w-full px-4 py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed",children:f?"Signing In...":"Sign In"})})]})]})]})}function _M({onLogin:e,setAuthMode:t}){const n=wr(),[r,s]=g.useState(""),[i,o]=g.useState(""),[l,u]=g.useState(""),[d,f]=g.useState(!1),h=async w=>{w.preventDefault(),u(""),f(!0);try{await new Promise(v=>setTimeout(v,500));const N=await(await fetch(oe("/api/auth/patient/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:i})})).json();N.success?e(N.patient):u(N.message||"Invalid credentials. Please try again.")}catch(b){console.error("Patient login error",b),u("Failed to connect to the server.")}finally{f(!1)}},p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{staggerChildren:.1,duration:.4,ease:"easeOut"}}},y={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return a.jsxs("div",{className:"relative flex items-center justify-center min-h-screen bg-cover bg-center text-white font-sans overflow-hidden",style:{backgroundImage:"url('/login-bg.jpg')"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),a.jsx("div",{className:"absolute top-4 left-4 z-20",children:a.jsx("button",{onClick:()=>n("/"),className:"inline-flex items-center justify-center p-2 rounded-full text-white bg-white/10 hover:bg-white/20 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Back to Portal Selection",children:a.jsx(Nc,{className:"w-5 h-5"})})}),a.jsxs(Y.div,{variants:p,initial:"hidden",animate:"visible",className:"relative z-10 w-full max-w-md mx-4 sm:mx-0 p-6 sm:p-8 space-y-6 bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl",children:[a.jsxs(Y.div,{variants:y,className:"text-center",children:[a.jsx("div",{className:"inline-block bg-gray-800/50 p-3 rounded-full mb-4 border border-white/10",children:a.jsx(rH,{className:"w-8 h-8 text-blue-400"})}),a.jsx("h2",{className:"text-3xl font-bold text-white",children:"Patient Portal"}),a.jsx("p",{className:"text-gray-300 mt-2 text-base",children:"Sign in to access your health dashboard."})]}),a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs(Y.div,{variants:y,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:r,onChange:w=>s(w.target.value),className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder:text-gray-500",required:!0})]}),a.jsxs(Y.div,{variants:y,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Password"}),a.jsx("input",{type:"password",value:i,onChange:w=>o(w.target.value),className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder:text-gray-500",required:!0})]}),l&&a.jsx(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-400 text-center",children:l}),a.jsx(Y.div,{variants:y,children:a.jsx("button",{type:"submit",disabled:d,className:"w-full px-4 py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed",children:d?"Signing In...":"Sign In"})}),a.jsx(Y.div,{variants:y,className:"text-center",children:a.jsx("p",{className:"text-base text-gray-400",children:a.jsx("button",{type:"button",onClick:()=>t("forgot_password"),className:"font-medium text-blue-400 hover:underline",children:"Forgot Password?"})})}),a.jsx(Y.div,{variants:y,className:"text-center",children:a.jsxs("p",{className:"text-base text-gray-400",children:["Don't have an account?"," ",a.jsx("button",{type:"button",onClick:()=>t("register"),className:"font-medium text-blue-400 hover:underline",children:"Sign Up"})]})})]})]})]})}function H$({setAuthMode:e,setLoginPortal:t}){const[n,r]=g.useState({firstName:"",lastName:"",email:"",password:"",contact:""}),[s,i]=g.useState(""),[o,l]=g.useState(!1),u=p=>{const{name:y,value:w}=p.target;r(b=>({...b,[y]:w}))},d=async p=>{if(p.preventDefault(),i(""),!/^\+[1-9]\d{1,14}$/.test(n.contact)){i("Please enter a valid contact number in the format +911234567890.");return}l(!0);try{const b=await(await fetch(oe("/api/auth/patient/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json();b.success?(alert("Registration successful! Please log in."),e("login")):i(b.message||"Registration failed. Please try again.")}catch(w){console.error("Patient register error",w),i("Failed to connect to the server.")}finally{l(!1)}},f={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{staggerChildren:.1,duration:.4,ease:"easeOut"}}},h={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return a.jsxs("div",{className:"relative flex items-center justify-center h-screen bg-cover bg-center text-white font-sans overflow-hidden",style:{backgroundImage:"url('/login-bg.jpg')"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),a.jsxs(Y.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},onClick:()=>t(null),className:"absolute top-8 left-8 flex items-center gap-2 text-gray-300 hover:text-white transition-colors z-20",children:[a.jsx(Nc,{size:20})," Back to Portal Selection"]}),a.jsxs(Y.div,{variants:f,initial:"hidden",animate:"visible",className:"relative z-10 w-full max-w-md p-8 space-y-6 bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl",children:[a.jsxs(Y.div,{variants:h,className:"text-center",children:[a.jsx("div",{className:"inline-block bg-gray-800/50 p-3 rounded-full mb-4 border border-white/10",children:a.jsx(YI,{className:"w-8 h-8 text-green-400"})}),a.jsx("h2",{className:"text-3xl font-bold text-white",children:"Create Account"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Join Shree Medicare today."})]}),a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs(Y.div,{variants:h,className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"firstName",onChange:u,placeholder:"First Name",className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder:text-gray-500",required:!0}),a.jsx("input",{name:"lastName",onChange:u,placeholder:"Last Name",className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder:text-gray-500",required:!0})]}),a.jsx(Y.div,{variants:h,children:a.jsx("input",{name:"email",type:"email",onChange:u,placeholder:"Email Address",className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder:text-gray-500",required:!0})}),a.jsx(Y.div,{variants:h,children:a.jsx("input",{name:"contact",type:"tel",onChange:u,placeholder:"Contact Number (e.g., +911234567890)",className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder:text-gray-500",required:!0})}),a.jsx(Y.div,{variants:h,children:a.jsx("input",{name:"password",type:"password",onChange:u,placeholder:"Password",className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder:text-gray-500",required:!0})}),s&&a.jsx(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-400 text-center",children:s}),a.jsx(Y.div,{variants:h,children:a.jsx("button",{type:"submit",disabled:o,className:"w-full px-4 py-3 font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-green-500 disabled:bg-gray-600 disabled:cursor-not-allowed",children:o?"Creating Account...":"Register"})}),a.jsx(Y.div,{variants:h,className:"text-center",children:a.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",a.jsx("button",{type:"button",onClick:()=>e("login"),className:"font-medium text-green-400 hover:underline",children:"Sign In"})]})})]})]})]})}function G$({setAuthMode:e}){const[t,n]=g.useState(""),[r,s]=g.useState(""),[i,o]=g.useState(""),[l,u]=g.useState(!1),d=async f=>{f.preventDefault(),o(""),s(""),u(!0);try{const p=await(await fetch(oe("/api/auth/patient/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();p.success?s(p.message):o(p.message||"Failed to send password reset email.")}catch{o("Failed to connect to the server.")}finally{u(!1)}};return a.jsxs("div",{className:"relative flex items-center justify-center min-h-screen bg-cover bg-center text-white font-sans overflow-hidden",style:{backgroundImage:"url('/login-bg.jpg')"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),a.jsxs(Y.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},onClick:()=>e("login"),className:"absolute top-12 left-4 flex items-center gap-2 text-gray-300 hover:text-white transition-colors z-20",children:[a.jsx(Nc,{size:20})," Back to Login"]}),a.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative z-10 w-full max-w-md mx-4 sm:mx-0 p-8 space-y-6 bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block bg-gray-800/50 p-3 rounded-full mb-4 border border-white/10",children:a.jsx(sg,{className:"w-8 h-8 text-blue-400"})}),a.jsx("h2",{className:"text-3xl font-bold text-white",children:"Forgot Password"}),a.jsx("p",{className:"text-gray-300 mt-2 text-base",children:"Enter your email to receive a password reset link."})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:t,onChange:f=>n(f.target.value),className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder:text-gray-500",required:!0})]}),r&&a.jsx("p",{className:"text-sm text-green-400 text-center",children:r}),i&&a.jsx("p",{className:"text-sm text-red-400 text-center",children:i}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:l,className:"w-full px-4 py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed",children:l?"Sending...":"Send Reset Link"})})]})]})]})}const Gme=({onLogin:e})=>{const[t,n]=g.useState("login"),r=()=>{switch(t){case"login":return a.jsx(_M,{onLogin:e,setAuthMode:n});case"register":return a.jsx(H$,{setAuthMode:n});case"forgot_password":return a.jsx(G$,{setAuthMode:n,userType:"patient"});default:return a.jsx(_M,{onLogin:e,setAuthMode:n})}};return a.jsx("div",{children:r()})};function qme(){return new URLSearchParams(Us().search)}function Yme({setAuthMode:e}){const t=qme(),n=wr(),r=t.get("token"),[s,i]=g.useState(""),[o,l]=g.useState(""),[u,d]=g.useState(""),[f,h]=g.useState(""),[p,y]=g.useState(!1),w=async b=>{if(b.preventDefault(),s!==o){h("Passwords do not match.");return}h(""),d(""),y(!0);try{const v=await(await fetch(oe("/api/auth/patient/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,password:s})})).json();v.success?(d(v.message),setTimeout(()=>{n("/"),e("login")},2e3)):h(v.message||"Failed to reset password.")}catch{h("Failed to connect to the server.")}finally{y(!1)}};return a.jsxs("div",{className:"relative flex items-center justify-center min-h-screen bg-cover bg-center text-white font-sans overflow-hidden",style:{backgroundImage:"url('/login-bg.jpg')"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),a.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative z-10 w-full max-w-md mx-4 sm:mx-0 p-8 space-y-6 bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block bg-gray-800/50 p-3 rounded-full mb-4 border border-white/10",children:a.jsx(oH,{className:"w-8 h-8 text-blue-400"})}),a.jsx("h2",{className:"text-3xl font-bold text-white",children:"Reset Password"}),a.jsx("p",{className:"text-gray-300 mt-2 text-base",children:"Enter your new password."})]}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"New Password"}),a.jsx("input",{type:"password",value:s,onChange:b=>i(b.target.value),className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder:text-gray-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",value:o,onChange:b=>l(b.target.value),className:"w-full px-4 py-3 bg-white/5 text-white border border-white/10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder:text-gray-500",required:!0})]}),u&&a.jsx("p",{className:"text-sm text-green-400 text-center",children:u}),f&&a.jsx("p",{className:"text-sm text-red-400 text-center",children:f}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:p,className:"w-full px-4 py-3 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed",children:p?"Resetting...":"Reset Password"})})]})]})]})}const Oo=({user:e,allowedRoles:t,children:n})=>e?t&&!t.includes(e.role)?e.role==="patient"?a.jsx(Yh,{to:"/patient-dashboard",replace:!0}):a.jsx(Yh,{to:"/staff-dashboard",replace:!0}):n:a.jsx(Yh,{to:"/",replace:!0}),Zme=({user:e,onLogout:t,updateUser:n})=>{const[r,s]=g.useState("dashboard"),[i,o]=g.useState(!1),{toggleTheme:l}=Qe(),u=f=>{f!==r&&s(f)},d=()=>{const f=e.role==="admin",h=e.role==="doctor";switch(r){case"dashboard":return a.jsx(YC,{setActiveModule:u});case"patients":return a.jsx(vH,{});case"pharmacy":return a.jsx(_H,{});case"laboratory":return a.jsx(jH,{});case"medical-records":return a.jsx(bH,{});case"surgical":return a.jsx(NH,{});case"telemedicine":return h?a.jsx(IH,{user:e}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"appointments":return a.jsx(kY,{user:e});case"my-schedule":return h?a.jsx(TY,{user:e}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"analytics":return f?a.jsx(Lce,{}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"bed-management":return f?a.jsx(Lme,{}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"employees":return f?a.jsx(SH,{}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"accounting":return f?a.jsx(kH,{}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"billing":return f?a.jsx(LH,{}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"payroll":return f?a.jsx(CH,{}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"vendors":return f?a.jsx(PH,{}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"inventory":return f?a.jsx(TH,{}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"immunizations":return a.jsx(AH,{});case"sms":return f?a.jsx(DH,{}):a.jsx("div",{className:"p-8 text-red-500",children:"Access Denied"});case"profile":return a.jsx(Ice,{user:e,updateUser:n});default:return a.jsx(YC,{setActiveModule:u})}};return a.jsxs("div",{className:"flex h-screen bg-background text-foreground overflow-hidden font-sans",children:[a.jsx(kR,{activeModule:r,setActiveModule:u,userType:e.role,onLogout:t,user:e,isSidebarOpen:i,setSidebarOpen:o}),a.jsxs("div",{className:"relative flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md pt-6",children:a.jsxs("div",{className:"flex justify-between items-center p-4",children:[a.jsx("button",{onClick:()=>o(!i),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-800 dark:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Shree Medicare"}),a.jsxs(an,{variant:"ghost",size:"icon",onClick:l,children:[a.jsx(Da,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(Ma,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})]})}),a.jsx("main",{className:"relative flex-1 overflow-y-auto bg-background",children:a.jsx("div",{className:"relative z-10 bg-transparent",children:d()})})]})]})};function Kme(){const[e,t]=g.useState(null),n=wr();Us(),g.useEffect(()=>{const l=localStorage.getItem("loggedInUser");l&&t(JSON.parse(l))},[]);const r=l=>{switch(l.role){case"patient":n("/patient-dashboard");break;case"ROLE_DISPATCHER":n("/fleet-management");break;case"ROLE_PARAMEDIC":n("/paramedic-mode");break;case"ROLE_ER_STAFF":n("/er-dashboard");break;case"admin":case"doctor":default:n("/staff-dashboard");break}},s=l=>{const u=l.role?l:{...l,role:"patient"};localStorage.setItem("loggedInUser",JSON.stringify(u)),t(u),r(u)},i=()=>{localStorage.removeItem("loggedInUser"),t(null),n("/")},o=l=>{const u={...e,...l};localStorage.setItem("loggedInUser",JSON.stringify(u)),t(u)};return a.jsxs(w7,{children:[a.jsx(Zn,{path:"/",element:e?a.jsx(Yh,{to:"/staff-dashboard"}):a.jsx(xX,{})}),a.jsx(Zn,{path:"/login/staff",element:a.jsx(Hme,{onLogin:s})}),a.jsx(Zn,{path:"/login/patient",element:a.jsx(Gme,{onLogin:s})}),a.jsx(Zn,{path:"/register/patient",element:a.jsx(H$,{})}),a.jsx(Zn,{path:"/forgot-password",element:a.jsx(G$,{})}),a.jsx(Zn,{path:"/reset-password",element:a.jsx(Yme,{})}),a.jsx(Zn,{path:"/staff-dashboard",element:a.jsx(Oo,{user:e,allowedRoles:["admin","doctor"],children:a.jsx(Zme,{user:e,onLogout:i,updateUser:o})})}),a.jsx(Zn,{path:"/patient-dashboard",element:a.jsx(Oo,{user:e,allowedRoles:["patient"],children:a.jsx(Wq,{patient:e,onLogout:i,updateUser:o})})}),a.jsx(Zn,{path:"/patient/book-ambulance",element:a.jsx(Oo,{user:e,allowedRoles:["patient"],children:a.jsx(jY,{user:e})})}),a.jsx(Zn,{path:"/patient/track-ambulance/:tripId",element:a.jsx(Oo,{user:e,allowedRoles:["patient"],children:a.jsx(NY,{user:e})})}),a.jsx(Zn,{path:"/fleet-management",element:a.jsx(Oo,{user:e,allowedRoles:["ROLE_DISPATCHER","admin"],children:a.jsx(fv,{user:e,onLogout:i,children:a.jsx(Fme,{})})})}),a.jsx(Zn,{path:"/paramedic-mode",element:a.jsx(Oo,{user:e,allowedRoles:["ROLE_PARAMEDIC"],children:a.jsx(fv,{user:e,onLogout:i,children:a.jsx(Vme,{user:e})})})}),a.jsx(Zn,{path:"/er-dashboard",element:a.jsx(Oo,{user:e,allowedRoles:["ROLE_ER_STAFF","admin"],children:a.jsx(fv,{user:e,onLogout:i,children:a.jsx(Wme,{})})})})]})}hv.createRoot(document.getElementById("root")).render(a.jsx(nt.StrictMode,{children:a.jsxs(W7,{children:[" ",a.jsx(yH,{children:a.jsx(Kme,{})})]})}));export{CR as W};
